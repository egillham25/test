"use strict";(self.webpackChunk_grammarly_denali_app=self.webpackChunk_grammarly_denali_app||[]).push([[3524],{19309:(e,t,n)=>{n.d(t,{$:()=>i,C:()=>r});var r="https://assets.grammarly.com/emoji/v1/",i="https://assets.grammarly.com/animations/v1/"},38832:(e,t,n)=>{n.d(t,{EF:()=>a,UA:()=>i,hI:()=>r});var r,i,a,o=n(19147),s=n(6922),l=n(23988),c=n(10334),u=n(17171),d=n(91817),p=n(56610),h=n(9899),m=n(38886),g=n(44869),f=n(13110),y=n(82094),v=n(84647),_=n(84906),b=n(99002),w=n(87172),S=n(64674),C=n(1395),I=n(65390),T=n(18039),A=n(66202),E=n(9896),k=n(11623),x=n(39598),R=n(88105),P=n(32454);!function(e){var t,n;!function(e){e.Important="important",e.Main="main",e.Optional="optional"}(t=e.Type||(e.Type={})),function(e){e.OptionalContext="optional_context"}(n=e.TypeExt||(e.TypeExt={}));var i=function(e){return"object"==typeof e&&null!==e},a=e.eqAttributes=y.nZ(g.ee((function(e,t){return i(e)&&i(t)?a.equals(e,t):g.w_.equals(e,t)}))),d=(e.eq=g.OW({type:g.w_,group:I.getEq(b.Eq),insert:b.Eq,delete:_.Eq,retain:_.Eq,attributes:a}),e.isInsert=function(e){return"insert"in e}),m=(e.isInsertString=function(e){return d(e)&&m(e.insert)},e.isInsertGap=function(e){return d(e)&&f(e.insert)},e.isDelete=function(e){return"delete"in e},e.isRetain=function(e){return"retain"in e},e.isOptionalContextRetain=function(e){return"retain"in e&&r.isOptionalContextType(e.type)},function(e){return"string"==typeof e}),f=function(e){return"object"==typeof e&&null!==e&&"gap"in e};e.isMain=function(e){return e.type===r.Type.Main},e.isOptionalType=function(e){return e===r.Type.Optional},e.isOptionalContextType=function(e){return e===r.TypeExt.OptionalContext},e.isSignificant=function(e){switch(e.type){case t.Main:case t.Important:return!0;case t.Optional:return!1;default:return(0,C.xb)(e.type)}},e.fromRawAbsAlternative=function(e){if(a=e.ops[0],Boolean(a)&&"retain"in a&&Boolean(a.attributes)&&"optional_context"===a.attributes.type){var t=(0,p._)(e.ops),r=t[0],i=t.slice(1);return[{retain:r.retain,type:n.OptionalContext,group:I.none}].concat((0,h._)(i.map(E)))}return e.ops.map(E);var a};var w=e.length=S.R.Op.length,T=(e.anonymize=function(e){return d(e)?(0,u._)((0,c._)({},e),{insert:"string"==typeof e.insert?"<".concat(w(e),">"):"<embed>"}):e},function(){function e(t){(0,o._)(this,e),(0,l._)(this,"ops",void 0),(0,l._)(this,"index",void 0),(0,l._)(this,"offset",void 0),this.ops=t,this.index=0,this.offset=0}return(0,s._)(e,[{key:"hasNext",value:function(){return this.peekLength()<1/0}},{key:"next",value:function(e){Boolean(e)||(e=1/0);var n=this.ops[this.index];if(Boolean(n)){var i=n.type,a=this.offset,o=w(n);return e>=o-a?(e=o-a,this.index+=1,this.offset=0):this.offset+=e,r.isDelete(n)?{delete:e,type:i,group:n.group}:r.isRetain(n)?{retain:e,type:i,group:n.group,attributes:!r.isOptionalContextType(i)&&n.attributes}:r.isInsertString(n)?{insert:n.insert.substr(a,e),type:i,group:n.group,attributes:n.attributes}:n}return{retain:1/0,type:t.Optional,group:I.none,attributes:{}}}},{key:"peekLength",value:function(){return Boolean(this.ops[this.index])?w(this.ops[this.index])-this.offset:1/0}},{key:"peekType",value:function(){return Boolean(this.ops[this.index])?r.isDelete(this.ops[this.index])?"delete":r.isRetain(this.ops[this.index])?"retain":"insert":"retain"}}]),e}());e.Iterator=T;var A=(0,v.flow)(I.fromNullable,I.map(y.D("type")),I.map(y.D("group")),I.getOrElse((function(){return{}}))),E=function(e){var n,r=function(e){var n;if(null!=(null===(n=e)||void 0===n?void 0:n.type))switch(e.type){case"main":return t.Main;case"important":return t.Important;default:return(0,C.xb)(e.type)}return t.Optional}(e.attributes),i=(n=e.attributes,(0,v.pipe)(I.fromNullable(n),I.chain((function(e){return I.fromNullable(e.group)}))));return"insert"in e?{insert:e.insert,type:r,group:i,attributes:A(e.attributes)}:"delete"in e?{delete:e.delete,type:r,group:i}:{retain:e.retain,type:r,group:i,attributes:A(e.attributes)}}}(r||(r={})),function(e){var t=e.fromAlternative=function(e){var t=e.alternative,n=e.fullText;return(0,v.pipe)(t.delta.invert(n),a.fromRawDelta)};e.fromAlternativeBoldified=function(e){var n=e.alternative,r=e.fullText,i=(0,v.pipe)(n.delta.map(R.E.match((function(e){return(0,v.pipe)(e,I.fromPredicate(R.E.isInsertString),I.chain((function(e){return(0,v.pipe)(I.fromNullable(e.attributes),I.map((function(t){return{attributes:t,retain:e.insert.length}})))})),I.filter((function(e){var t=e.attributes;return Boolean(t.bold)})),I.map((function(e){return{retain:e.retain,attributes:{bold:!1}}})))}),(function(e){return I.none}),(function(e){return I.some({retain:e.retain})}))),m.oE,(function(e){return new S.R(e)}),(function(e){return r.compose(e)}));return t({alternative:n,fullText:i})},e.fromAlternativeListified=function(e){var n=e.alternative,r=e.fullText;return(0,v.pipe)(t({alternative:n,fullText:r}),(function(e){return(0,v.pipe)(e.delta.ops,m.Kl((function(e){return R.E.isInsertString(e)&&"\n"===e.insert&&Boolean(!e.attributes||!Boolean(e.attributes.list))})),I.map((function(t){var n=e.delta.ops,r=n[t];return new S.R((0,h._)(n.slice(0,t)).concat([(0,u._)((0,c._)({},r),{attributes:(0,u._)((0,c._)({},r.attributes),{list:!1})})],(0,h._)(n.slice(t+1))))})),I.getOrElse((function(){return e.delta})))}),a.fromRawDelta)}}(i||(i={})),function(e){var t,n,i=function(e){return function(t){return r.isInsertGap(t)?(0,u._)((0,c._)({},t),{insert:e}):t}},y=function(e){return new N(e)};e.hasOptionalContext=function(e){return Boolean(e[0])&&r.isOptionalContextRetain(e[0])},function(e){e.Insert="insert",e.Remove="remove",e.Substitution="substitution"}(t=e.Type||(e.Type={})),function(e){function n(e){return e.type===r.Type.Main?I.some(r.isInsert(e)?t.Insert:t.Remove):I.none}e.eq=b.Eq,e.fromOperation=n;var i=e.semigroup={concat:function(e,n){switch(e){case t.Insert:return n===t.Remove?t.Substitution:n;case t.Remove:return n===t.Insert?t.Substitution:n;case t.Substitution:return t.Substitution;default:return(0,C.xb)(e)}}},a=e.monoid=I.getMonoid(i);e.parse=(0,m.ue)(a)(n)}(t=e.Type||(e.Type={})),e.eq=g.OW({lengthAffected:_.Eq,type:I.getEq(t.eq),ops:(0,m.nZ)(r.eq)}),e.fromRawDelta=(0,v.flow)(P.d.AbsAlternative.unsafeFromDelta,r.fromRawAbsAlternative,y),e.fillGaps=function(e,t){return a.hasOptionalContext(e.ops)?y([e.ops[0]].concat((0,h._)(e.ops.slice(1).map(i(t))))):y(e.ops.map(i(t)))},e.dismissTransformGroups=function(e,t){var n=m.x1((function(e){return(0,v.pipe)(e.group,I.filter((function(e){return t.has(e)})),I.fold((function(){return I.some(e)}),(function(){return function(e){return r.isDelete(e)?I.some({type:e.type,group:e.group,retain:e.delete,attributes:{}}):r.isInsert(e)?I.none:I.some(e)}(e)})))}));if(a.hasOptionalContext(e.ops)){var i=(0,p._)(e.ops),o=i[0],s=i.slice(1);return y([o].concat((0,h._)((0,v.pipe)(s,n))))}return y((0,v.pipe)(e.ops,n))},e.getTransformGroups=function(e){var t=new Set;return e.ops.forEach((function(e){return(0,v.pipe)(e.group,T.Mi((function(e){return t.add(e)})))})),t},e.getDeleteOpsGroupsList=function(e){return(0,v.pipe)(e.ops.filter(r.isDelete),m.Tj((function(e){return e.group})),m.oE)},e.create=y,e.validate=(0,v.flow)((function(e){return e.ops}),A.fromPredicate(E.EH(r.isOptionalContextRetain),(function(e){return"Optional_context operations exist not only at the beginning or at the end of Delta"}))),(n=e.Group||(e.Group={})).fromSerialized=function(e){return{context:e.context,alternatives:(0,v.pipe)(e.alternatives,f.Tj((function(e){return e.ops})),f.Tj(a.create))}},n.fromSubalerts=function(e,t){return{context:e,alternatives:f.Tj((0,v.flow)(r.fromRawAbsAlternative,y))(t)}},n.fromRawTransform=function(e){return{context:f.of(e.context),alternatives:f.Tj((0,v.flow)(r.fromRawAbsAlternative,y))(e.alternatives)}},n.rebase=function(e){return function(t){return{context:(0,v.pipe)(t.context,f.Tj((function(t){return{s:e.transformPosition(t.s,!0),e:e.transformPosition(t.e,!0)}}))),alternatives:(0,v.pipe)(t.alternatives,f.Tj((function(t){return(0,v.pipe)(t.rebase(e),I.fold((function(){return t}),v.identity))})))}}},n.copy=function(e){return{context:f.C(e.context),alternatives:f.C(e.alternatives)}};var N=function(){function e(n){(0,o._)(this,e),(0,l._)(this,"ops",void 0),(0,l._)(this,"lengthAffected",void 0),(0,l._)(this,"type",void 0),this.ops=n,this.type=t.parse(this.ops),this.lengthAffected=R.E.calcAffectedLength(this)}return(0,s._)(e,[{key:"rebase",value:function(e){var t=e.ops[0];if(!Boolean(t)||R.E.isRetain(t)&&(void 0===t.attributes||0===Object.keys(t.attributes).length)&&S.R.Op.length(t)>this.lengthAffected)return I.some(this);var n=this.ops.length>=2&&R.E.isDelete(this.ops[this.ops.length-2])&&R.E.isInsert(this.ops[this.ops.length-1]);return!Boolean(t)||n&&R.E.isRetain(t)&&(void 0===t.attributes||0===Object.keys(t.attributes).length)&&S.R.Op.length(t)===this.lengthAffected?I.some(this):this._internalRebase(e)}},{key:"_internalRebase",value:function(t){for(var n=this,i=S.R.Op.iterator(t.ops),o=new r.Iterator(this.ops),s=I.some(new e([])),l=!1;o.hasNext();)if("insert"===i.peekType()){if(l&&(0,v.pipe)(s,T.Lw((function(e){return e.ops[e.ops.length-1].type===r.Type.Main}))))return I.none;var c=S.R.Op.length(i.next()),u=(0,v.pipe)(s,I.map((function(e){return e.ops[e.ops.length-1]})),T.$v);if(l&&T.Lw((function(e){return e.lengthAffected>0}))(s)){var d={retain:c,type:u.type,group:u.group,attributes:"attributes"in u&&!r.isOptionalContextType(u.type)?u.attributes:{}};s=e._pushOp(s,d)}else s=e._pushOp(s,{retain:c,type:r.Type.Optional,group:I.none,attributes:{}})}else if("insert"===o.peekType()){var p=o.next();if(p.type===r.Type.Main&&"delete"===i.peekType()&&i.offset>0)return I.none;s=e._pushOp(s,p)}else{var h=Math.min(i.peekLength(),o.peekLength()),m=i.next(h),g=o.next(h);R.E.isDelete(m)||(l=o.offset>0,s=e._pushOp(s,r.isDelete(g)?g:r.isOptionalContextType(g.type)?{retain:h,type:r.TypeExt.OptionalContext,group:I.none}:{retain:h,type:g.type,group:g.group,attributes:g.attributes}))}return(0,v.pipe)(s,I.map((function(e){return e.type=a.Type.parse(n.ops),e})))}},{key:"_push",value:function(e){var t=this.ops.length,n=this.ops[t-1];if(Boolean(n)){if(r.isOptionalContextRetain(e))return r.isOptionalContextRetain(n)?n.retain+=e.retain:r.isRetain(n)&&t<=2?2===t?((0,C.V1)(r.isOptionalContextRetain(this.ops[0]),"OptionalContext is expected in the beginning of alternative but not found",JSON.stringify({ops:this.ops,newOp:e,index:t})),this.ops[0].retain+=e.retain):(this.ops[t]=n,this.ops[t-1]=e):(0,C.V1)(r.isOptionalContextRetain(n)||r.isRetain(n)&&1===t,"Attempted to push optional_context in the middle of alternative ops",JSON.stringify({ops:this.ops,newOp:e,index:t})),this.lengthAffected+=e.retain,this;if(r.isDelete(e)&&r.isDelete(n))return e.type===n.type?n.delete+=e.delete:this.ops.push(e),this.lengthAffected+=e.delete,this;if(r.isInsert(e)&&r.isInsert(n))return e.type===n.type&&"string"==typeof e.insert&&"string"==typeof n.insert&&r.eqAttributes.equals(e.attributes,n.attributes)?n.insert+=e.insert:this.ops.push(e),this;if(r.isRetain(e)&&r.isRetain(n))return e.type===n.type?n.retain+=e.retain:this.ops.push(e),this.lengthAffected+=e.retain,this;this.ops.push(e)}else this.ops=[e];return r.isInsert(e)||(this.lengthAffected+=r.length(e)),this}},{key:"delta",get:function(){return R.E.normalizeDelta(new S.R(this))}},{key:"toJSON",value:function(){return{ops:this.ops}}}],[{key:"_pushOp",value:function(e,t){return(0,v.pipe)(e,I.chain((function(e){return(0,v.pipe)(k.zb((function(){return e._push(t)})),A.mapLeft((function(e){return w.Bx.Logging.getLogger("Alternative").error("Alternative push error",e),e})),I.fromEither)})))}}]),e}();e.compose=function(e,t){var n={composedDelta:new S.R,currentFullText:t,reversedAlternatives:[]},r=e.reduce((function(e,t,n){var r=(0,d._)(t,2),i=r[0],a=r[1];return(0,v.pipe)(i.rebase(e.composedDelta),I.fold((function(){e.reversedAlternatives.push(A.left({error:new Error("Could not rebase alternative to composed delta"),delta:i.delta,alternativeIndex:n}))}),(function(t){var r=a({alternative:t,fullText:e.currentFullText});e.composedDelta=e.composedDelta.compose(t.delta),e.currentFullText=e.currentFullText.compose(t.delta),function(e,t){e.forEach((function(n,r){return(0,v.pipe)(n,A.fold(v.constVoid,(function(n){e[r]=(0,v.pipe)(n.reversedAlternative.rebase(t.delta),A.fromOption((function(){return{error:new Error("Could not rebase reversed alternative to some alternative"),delta:n.reversedAlternative.delta,alternativeIndex:n.alternativeIndex}})),A.map((function(e){return(0,u._)((0,c._)({},n),{reversedAlternative:e})})))})))}))}(e.reversedAlternatives,t),e.reversedAlternatives.push(A.right({reversedAlternative:r,alternativeIndex:n}))}))),e}),n),i=(0,v.pipe)(r.reversedAlternatives,m.sj,x.s.fromSeparatedArray);return(0,u._)((0,c._)({},r),{reversedAlternatives:i})},e.withoutOptionalOps=function(e){return a.create(e.filter((function(e){return!r.isOptionalType(e.type)})))}}(a||(a={}))},66799:(e,t,n)=>{n.d(t,{$A:()=>Ee,BU:()=>c,DG:()=>R,EK:()=>u,Fc:()=>x,Io:()=>S,J5:()=>d,KY:()=>I,MW:()=>M,Mq:()=>T,O4:()=>m,Sl:()=>N,Sm:()=>w,U3:()=>L,XM:()=>$,ZI:()=>y,Zq:()=>b,ch:()=>K,cq:()=>a,dV:()=>Ae,hN:()=>k,l:()=>v,lH:()=>C,mq:()=>B,r5:()=>p,rP:()=>O,t5:()=>P,tI:()=>h,uG:()=>E,xD:()=>s,yj:()=>_,yp:()=>f});var r,i,a,o,s,l,c,u,d,p,h,m,g,f,y,v,_,b,w,S,C,I,T,A,E,k,x,R,P,N,O,K,B,D,M,L,$,F,H,V,W,G,U,q,j,z,Q,J,Y,Z,X,ee=n(10334),te=n(17171),ne=n(69384),re=n(91817),ie=n(9899),ae=n(34937),oe=n(38886),se=n(84647),le=n(95934),ce=n(87172),ue=n(65390),de=n(13110),pe=n(89520),he=n(9896),me=n(72896),ge=n(11623),fe=n(66202),ye=n(24359),ve=n(18039),_e=n(1395),be=n(88105),we=n(64674),Se=n(38832),Ce=n(62228),Ie=n(32454);r||(r={}),function(e){var t=e.RelatedMaterial=le.NW({iconUrl:le.tB(le.Yj),title:le.tB(le.Yj),link:le.tB(le.Yj)}),n=(e.RelatedMaterials=le.QZ(t),e.CommunicationMethod=le.NW({iconUrl:le.tB(le.Yj),title:le.tB(le.Yj),link:le.tB(le.Yj)})),r=e.PointPerson=le.NW({firstName:le.tB(le.Yj),lastName:le.tB(le.Yj),displayName:le.tB(le.Yj),jobTitle:le.tB(le.KC([le.Yj,le.Vx])),avatarUrl:le.tB(le.KC([le.Yj,le.Vx])),communicationMethods:le.QZ(n)});e.PointPeople=le.QZ(r),e.Aliases=le.QZ(le.NW({name:le.tB(le.Yj)}))}(i||(i={})),function(e){e.empty=[],e.isLeaf=function(e){return 0===e.length};var t=e.Tree=le.FX("Tree",(function(){return le.YO(le.PV([le.ai,t]))}))}(a||(a={})),function(e){var t;(t=e.DomainCategory||(e.DomainCategory={})).sales_crm="sales_crm",t.sales_engagement="sales_engagement",t.sales_enablement="sales_enablement",t.marketing_email_automation="marketing_email_automation",t.marketing_content="marketing_content",t.customer_service="customer_service",t.customer_surveys_surveys="customer_surveys_surveys",t.recruiting="recruiting",t.training_learning="training_learning",t.project_management="project_management",t.legal="legal",t.contractors="contractors",t.human_resources="human_resources",t.email="email",t.business_chat="business_chat"}(o||(o={})),function(e){var t,n;(e.SpecialCategory||(e.SpecialCategory={})).InQuotes="InQuotes",(n=e.ScopeType||(e.ScopeType={})).GLOBAL="GLOBAL",n.SESSION="SESSION",n.DOCUMENT="DOCUMENT",(t=e.MutedByType||(e.MutedByType={})).MUTED_BY_USER="MUTED_BY_USER",t.NOT_ELIGIBLE_FOR_INLINE="NOT_ELIGIBLE_FOR_INLINE",t.NOT_MUTED="NOT_MUTED"}(s||(s={})),function(e){var t;(t=e.SuggestionRejectionReason||(e.SuggestionRejectionReason={})).NOT_RELEVANT="NOT_RELEVANT",t.WRONG_TONE="WRONG_TONE",t.INCORRECT="INCORRECT",t.WRONG_GRAMMAR="WRONG_GRAMMAR",t.OFFENSIVE="OFFENSIVE",t.OTHER="OTHER"}(l||(l={})),function(e){e.mock={bundle:"Test bundle",bundleRank:10,group:"Test Group",rank:1,outcome:"Correctness"}}(c||(c={})),function(e){var t=function(e){return function(t){return{s:e.s+t.s,e:e.s+t.e,type:t.type}}},n=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return 0===e.s?se.unsafeCoerce:function(n){return(0,se.unsafeCoerce)({ops:[{retain:e.s,attributes:t?void 0:{type:Ie.d.Edit.TypeExt.OPTIONAL_CONTEXT}}].concat((0,ie._)(n.ops))})}};e.prependContextToHighlight=t,e.prependContext=n,e.toAbs=function(e){return p.create({highlights:e.highlights.map(t(e.context)),alternatives:(0,se.pipe)(e,ue.fromPredicate((function(e){return void 0!==e.alternatives&&e.alternatives.length>0})),ue.map((function(e){return(0,te._)((0,ee._)({},e),{alternatives:de.Tj(n(e.context))(e.alternatives)})})),ue.map(Se.EF.Group.fromRawTransform))})}}(u||(u={})),function(e){var t,n;!function(e){e.create=function(e){return e.toString()}}(t=e.Id||(e.Id={})),function(e){e.rebase=function(e,t){var n=t.transformPosition(e.begin,!0),r=t.transformPosition(e.end,!0),i=(new we.R).insert(e.text).compose(t.slice(e.begin)).reduce((function(e,t){return be.E.isInsert(t)?"".concat(e).concat(t.insert):e}),"").slice(0,r-n);return(0,te._)((0,ee._)({},e),{begin:n,end:r,text:i})},e.isSquashed=function(e){return e.begin>=e.end},e.fromAttentionHeatmapMessage=function(e){return(0,te._)((0,ee._)({},e),{id:t.create(e.id)})}}(n=e.Range||(e.Range={})),e.fromAttentionHeatmapMessage=function(e){return(0,te._)((0,ee._)({},e),{add:e.add.map(n.fromAttentionHeatmapMessage),update:e.update.map(n.fromAttentionHeatmapMessage),remove:e.remove.map(t.create),attentionScore:(0,se.pipe)(e,ue.fromPredicate(Ce.QB.AttentionHeatmap.hasAttentionInfo),ue.map(pe.Up("attentionScore"))),showAttentionCard:(0,se.pipe)(e,ue.fromPredicate(Ce.QB.AttentionHeatmap.hasAttentionInfo),ue.map(pe.Up("showAttentionCard")))})}}(d||(d={})),function(e){var t=e.create=function(e){return e};e.isSquashed=function(e){return e.highlights.some(Ie.d.Range.isEmpty)},e.isValidAfterTransform=function(e,t){var r=n(e),i=n(t);return Boolean(he.qm(r.highlights,i.highlights,(function(e,t){return e.e-e.s==t.e-t.s})))&&he.qm(r.alternatives,i.alternatives,(function(e,t){return he.qm(e.ops.filter((0,me.AU)(be.E.isRetain)),t.ops.filter((0,me.AU)(be.E.isRetain)),be.E.isEqual((function(){return!0})))}))},e.rebase=function(e,n){return t({highlights:e.highlights.map((function(e){return{s:n.transformPosition(e.s,!0),e:n.transformPosition(e.e,!0),type:e.type}})),alternatives:(0,se.pipe)(e.alternatives,ue.map(Se.EF.Group.rebase(n)))})};var n=function(e){return{highlights:e.highlights,alternatives:(0,se.pipe)(e.alternatives,ue.fold((function(){return[]}),(function(e){return e.alternatives.map((function(e){return e.delta}))})))}}}(p||(p={})),H=h||(h={}),U=function(e){return void 0===e.drilldownTree&&void 0===e.knowledgeHubSuggestCorrectionUrl&&void 0===e.knowledgeHubRelatedMaterials&&void 0===e.knowledgeHubPointPeople&&void 0===e.knowledgeHubAliases?e:(0,te._)((0,ee._)({},e),{drilldownTree:void 0===e.drilldownTree?void 0:(0,se.pipe)(e.drilldownTree,(function(e){return"object"==typeof e?e:JSON.parse(e)}),a.Tree.decode,ge.$v),knowledgeHubRelatedMaterials:(0,se.pipe)(e.knowledgeHubRelatedMaterials,ue.fromNullable,ue.chain((function(e){return(0,se.pipe)(fe.parseJSON(e,fe.toError),fe.chain((0,se.flow)(i.RelatedMaterials.decode,fe.mapLeft(fe.toError))),fe.fold((function(e){return ce.Bx.Logging.getLogger("coreclients.capi.data").error("Error decoding knowledgeHubRelatedMaterials",e),ue.none}),ue.some))})),ue.toUndefined),knowledgeHubPointPeople:(0,se.pipe)(e.knowledgeHubPointPeople,ue.fromNullable,ue.chain((function(e){return(0,se.pipe)(fe.parseJSON(e,fe.toError),fe.chain((0,se.flow)(i.PointPeople.decode,fe.mapLeft(fe.toError))),fe.fold((function(e){return ce.Bx.Logging.getLogger("coreclients.capi.data").error("Error decoding knowledgeHubPointPeople",e),ue.none}),ue.some))})),ue.toUndefined),knowledgeHubAliases:(0,se.pipe)(e.knowledgeHubAliases,ue.fromNullable,ue.chain((function(e){return(0,se.pipe)(fe.parseJSON(e,fe.toError),fe.chain((0,se.flow)(i.Aliases.decode,fe.mapLeft(fe.toError))),fe.fold((function(e){return ce.Bx.Logging.getLogger("coreclients.capi.data").error("Error decoding knowledgeHubAliases",e),ue.none}),ue.some))})),ue.toUndefined)})},q=function(e,t){(0,se.pipe)(e.ops,oe.i8((function(e){return be.E.isInsert(e)&&(0,se.pipe)(be.E.getAttr(e,"type"),ue.exists((function(e){return e===Ie.d.Edit.Type.MAIN})))&&"string"==typeof e.insert})),ue.map((function(e){var n=e.insert;return t(n)})))},j=function(e,t){var n=function(t){var n,a=e[t];if(r.length>0){if(void 0===a.transformJson.alternatives)return{v:fe.left(new Error("The alternatives are missing from subalert, expected length: ".concat(r.length)))};if(a.transformJson.alternatives.length!==r.length)return{v:fe.left(new Error("Subalert has incorrect alternatives length: expected ".concat(r.length,", got ").concat(a.transformJson.alternatives.length)))}}o=(0,se.pipe)(o,ue.map((function(e){var t=function(e){var t=a.transformJson.alternatives[e];q(t,(function(t){return r[e].replacements.add(t)})),s[e]=(0,se.pipe)(new we.R(s[e]),(function(e){return e.compose(e.transform(new we.R(u.prependContext(a.transformJson.context,!0)(t)),!0))}),Ie.d.AbsAlternative.unsafeFromDelta)},n=(0,re._)(e,2),o=n[0],s=n[1];i[a.label].matches+=1,o.push(a.transformJson.context);for(var l=0;l<s.length;l++)t(l);return[o,s]}))),(n=s).push.apply(n,(0,ie._)(a.transformJson.highlights.map(u.prependContextToHighlight(a.transformJson.context)))),l.push(a.highlightText)};if(e.length<2)return fe.left(new Error("There should be more than one subalert, got "+e.length));var r=t.map((function(e){return{matches:0,replacements:new Set,label:e}})),i=r.reduce((function(e,t){return e[t.label]=t,e}),{}),a=ye.FM(e[0].transformJson.alternatives);if(r.length>0&&Boolean(ue.isNone(a))||!Boolean((0,se.pipe)(a,ve.Lw((function(e){return r.length===e.length})))))return fe.left(new Error("Alternatives array length must match labels array length"));for(var o=(0,se.pipe)(a,ue.map(de.rO((function(t,n){return q(n,(function(e){return r[t].replacements.add(e)})),u.prependContext(e[0].transformJson.context)(n)}))),ue.map((function(t){return i[e[0].label].matches+=1,[de.of(e[0].transformJson.context),t]}))),s=e[0].transformJson.highlights.map(u.prependContextToHighlight(e[0].transformJson.context)),l=[e[0].highlightText],c=1;c<e.length;c++){var d=n(c);if("object"===(0,ae._)(d))return d.v}return fe.right({subalerts:p.create({alternatives:(0,se.pipe)(o,ue.map((function(e){var t=(0,re._)(e,2),n=t[0],r=t[1];return Se.EF.Group.fromSubalerts(n,r)}))),highlights:s}),labels:r.map((function(e){var t=e.replacements,n=(0,ne._)(e,["replacements"]);return(0,te._)((0,ee._)({},n),{replacementTexts:Array.from(t)})})),highlightText:l})},z=function(e){return function(t){return t===s.SpecialCategory.InQuotes&&"true"===e.extra_properties.in_quotes}},Q=function(e){return!Y(e)&&!Z(e)},J=function(e){return void 0!==e.begin&&void 0!==e.end&&void 0!==e.highlightBegin&&void 0!==e.highlightEnd},Y=function(e){return void 0!==e.cardLayout&&void 0!==e.transformJson},Z=function(e){return"labels"in e&&"subalerts"in e},X=function(e,t,n,r){return Q(e)?t(e):Y(e)?n(e):r(e)},(H.Id||(H.Id={})).create=function(e){return e.toString()},function(e){e.Critical="critical",e.Advanced="advanced"}(V=H.Impact||(H.Impact={})),function(e){e.all="all",e.priority="priority"}(W=H.View||(H.View={})),function(e){e.inline="inline",e.not_inline="not_inline"}(G=H.Inline||(H.Inline={})),H.parseExtraProperties=U,H.fromAlertMessage=function(e){return Object.assign({},e,(0,ee._)({id:h.Id.create(e.id),cost:Boolean(e.cost)?e.cost:1,extra_properties:U(e.extra_properties)},e.transformJson?{transformJson:u.toAbs(e.transformJson),highlightText:[e.highlightText]}:(0,se.pipe)(ye.FM(e.subalerts),ue.fold((function(){return{highlightText:[e.highlightText]}}),(function(t){return(0,se.pipe)(function(e,t){return(0,se.pipe)(t,ue.fold((function(){return fe.left(new Error("Got corrupted superalert — the labels are missing"))}),(function(t){return j(e,t)})))}(t,ue.fromNullable(e.labels)),fe.getOrElse((function(e){return ce.Bx.Logging.getLogger("coreclients.capi.data").error("Error repacking superalert",e),{highlightText:[]}})))})))))},H.isFullSentence=function(e){return"true"===e.full_sentence_rewrite||"true"===e.full_sentence_fluency_rewrite},H.belongsToAnySpecialCategory=function(e){var t=z(e);return-1!==Object.values(s.SpecialCategory).findIndex(t)},H.belongsToSpecialCategory=z,H.withPosition=Q,H.hasPosition=J,H.withTransformJson=Y,H.withAlternatives=function(e){return Y(e)&&ue.isSome(e.transformJson.alternatives)},H.withSubalerts=Z,H.match=X,H.matchBy=function(e,t,n){return function(r){return X(r,e,t,n)}},function(e){function t(e){return e.end-e.begin}function n(e){return e.highlightEnd-e.highlightBegin}e.shift=function(e,t){return{begin:e.begin+t,end:e.end+t,highlightBegin:e.highlightBegin+t,highlightEnd:e.highlightEnd+t}},e.rebase=function(e,t){return{begin:t.transformPosition(e.begin,!0),end:t.transformPosition(e.end,!0),highlightBegin:t.transformPosition(e.highlightBegin,!0),highlightEnd:t.transformPosition(e.highlightEnd,!0)}},e.getReplacementLength=t,e.getHighlightLength=n,e.isSquashed=function(e){return 0===t(e)||0===n(e)},e.hasEqualLength=function(e,r){return t(e)===t(r)&&n(e)===n(r)}}(H.Position||(H.Position={})),H.isPlagiarism=function(e){return void 0!==e.cardLayout&&"Originality"===e.cardLayout.outcome},H.isOneGap=function(e){return void 0!==e.extra_properties&&"gap_transform"in e.extra_properties},H.isTakeaway=function(e){return void 0!==e.extra_properties&&"takeawayScore"in e.extra_properties},H.hasDrilldownTree=function(e){return void 0!==e.extra_properties&&"drilldownTree"in e.extra_properties},H.isShortenIt=function(e){return void 0!==e.extra_properties&&"shorten_it"in e.extra_properties},H.isToneAI=function(e){return void 0!==e.extra_properties&&"tone_slider"in e.extra_properties},H.isEthicalAI=function(e){return void 0!==e.extra_properties&&"ethical_ai_external_link"in e.extra_properties},H.isCitationDetection=function(e){return void 0!==e.extra_properties&&"citation_detection"in e.extra_properties},H.isSuggestedSnippet=function(e){return void 0!==e.extra_properties&&"suggested_snippet_text"in e.extra_properties&&"suggested_snippet_lib_link"in e.extra_properties},H.isKnowledgeHubSuggestedTerm=function(e){return"KnowledgeHub/SuggestedTerm/SuggestedTerm"===e.pname},H.isHidden=function(e){return!0===e.hidden},H.isRawAlert=function(e){if(!Boolean(e))return!1;var t=e;return Number.isInteger(t.rev)&&X(t,(function(e){return Number.isInteger(e.begin)&&Number.isInteger(e.end)&&Number.isInteger(e.highlightBegin)&&Number.isInteger(e.highlightEnd)}),(function(e){return e.transformJson.highlights.length>0}),(function(e){return e.labels.length>0}))},H.mock={id:h.Id.create(""),rev:0,pname:"Spelling/BritishVsAmerican/BrInstOfAm/BrInstOfAm",group:"ContextualSpelling",point:"BrInstOfAm",category:"BritishVsAmerican",categoryHuman:"British vs American",hidden:!1,text:"centralise",todo:"correct",minicardTitle:"correct",title:"Inconsistent spelling",cost:1,transforms:["<span class='gr_grammar_del'>centralise</span>→<span class='gr_grammar_ins'>centralize</span>"],details:"<p>One of&nbsp;the most obvious differences between American and British English is&nbsp;the spelling of&nbsp;certain words such as&nbsp;<b>color/colour, learned/learnt,</b> and <b>toward/towards</b>. Typically, the spelling of&nbsp;words like these only varies by&nbsp;one or&nbsp;two letters. In&nbsp;the interest of&nbsp;consistency and clarity, you should use the spelling that will be&nbsp;more familiar to&nbsp;your intended audience.\n",explanation:"<p>The word <b>centralise</b> is&nbsp;a&nbsp;British English spelling. In&nbsp;the interest of&nbsp;consistency, consider replacing it&nbsp;with the American English spelling.\n",examples:'<p><span class="grey">British: I&nbsp;wish you success in&nbsp;all your endeavours.</span><br/><span class="grey">American: I&nbsp;wish you success in&nbsp;all your endeavors.</span><br/><p><span class="grey">British: Sweet yoghurts contain a&nbsp;lot of&nbsp;sugar.</span><br/><span class="grey">American: Sweet yogurts contain a&nbsp;lot of&nbsp;sugar.</span><br/><p><span class="grey">British: Serena moved towards the blinking light.</span><br/><span class="grey">American: Serena moved toward the blinking light.</span><br/>',free:!0,impact:h.Impact.Critical,highlightBegin:5092,highlightEnd:5102,highlightText:[""],begin:5092,end:5102,replacements:["centralize"],extra_properties:{priority:"2"},cardLayout:{bundle:"Fix spelling and grammar",bundleRank:10,group:"Spelling",rank:10,outcome:"Correctness"},transformJson:p.create({highlights:[{s:5092,e:5102}],alternatives:ue.none}),view:W.all,inline:G.inline},H.mockPlagiarism={id:h.Id.create(""),rev:0,transforms:[],title:"Citation audit",cost:1,details:"",explanation:"",examples:"",free:!1,impact:h.Impact.Advanced,hidden:!1,todo:"",minicardTitle:"",cardLayout:{bundle:"Plagiarism",bundleRank:10,group:"Unoriginal content",rank:0,outcome:"Originality"},category:"Plagiarism",categoryHuman:"Unoriginal content",begin:156,end:697,text:"",group:"Plagiarism",pname:"Plagiarism/Plagiarism/UnoriginalContent",point:"UnoriginalContent",highlightBegin:156,highlightEnd:697,highlightText:[""],replacements:[],extra_properties:{},transformJson:p.create({highlights:[{s:1,e:40}],alternatives:ue.none}),view:W.all,inline:G.not_inline},H.mockWithSubalerts={id:h.Id.create(""),point:"Capitalization",title:"Inconsistent capitalization",details:"<p>For certain words, capitalization preferences can vary between style guides. <i>Internet</i> was once routinely capitalized, for example. However, in recent years many style guides have begun advising writers to lowercase the word: <i>internet</i>. Whether you choose to capitalize a particular term or not, it’s best to choose one style and use it consistently throughout the same document.\n",explanation:"<p>You wrote <b>Country</b> once and <b>country</b> twice. Both spellings are acceptable, but it’s best not to switch back and forth. Choose whether or not to capitalize this word throughout your text.\n",examples:'<p><span class="grey">Inconsistent: Office life was different before the <b>Internet</b>. Education has changed because of the <b>internet</b>, too.</span><br/><span class="grey">Consistent: Office life was different before the <b>internet</b>. Education has changed because of the <b>internet</b>, too.</span><br/><span class="grey">Consistent: Office life was different before the <b>Internet</b>. Education has changed because of the <b>Internet</b>, too.</span><br/>',todo:"capitalize consistently",minicardTitle:"capitalize consistently",free:!1,hidden:!1,labels:[{label:"Country",matches:1,replacementTexts:["Country"]},{label:"country",matches:2,replacementTexts:["country"]}],highlightText:["Country","country"],cost:1,subalerts:p.create({highlights:[{s:144,e:162},{s:755,e:778},{s:1458,e:1481}],alternatives:ue.some(Se.EF.Group.fromSubalerts([{s:144,e:162},{s:755,e:778},{s:1458,e:1481}],[Ie.d.AbsAlternative.unsafeFromDelta({ops:[{retain:144,attributes:{type:Ie.d.Edit.TypeExt.OPTIONAL_CONTEXT}},{delete:7,attributes:{type:Ie.d.Edit.Type.MAIN}},{insert:"Country",attributes:{type:Ie.d.Edit.Type.MAIN}}]}),Ie.d.AbsAlternative.unsafeFromDelta({ops:[{retain:144,attributes:{type:Ie.d.Edit.TypeExt.OPTIONAL_CONTEXT}},{delete:7,attributes:{type:Ie.d.Edit.Type.MAIN}},{insert:"country",attributes:{type:Ie.d.Edit.Type.MAIN}}]})]))}),category:"Inconsistency",text:"",group:"Style",pname:"Style/Inconsistency/Capitalization/Capitalization",rev:0,replacements:[],impact:V.Advanced,extra_properties:{priority:"4"},cardLayout:{bundle:"Keep your style consistent",bundleRank:10,group:"Consistency",rank:160,outcome:"Correctness"},categoryHuman:"Text Inconsistencies",updatable:!0,view:W.all,inline:G.not_inline},H.clearUserTextFields=function(e){return e.text,e.replacements,e.highlightText,e.transformJson,e.transforms,e.details,e.explanation,e.examples,(0,ne._)(e,["text","replacements","highlightText","transformJson","transforms","details","explanation","examples"])},H.unsafeGetPosition=function(e){return(0,_e.V1)(J(e),"raw alert should have a position"),e},H.unsafeGetTransformJson=function(e){return(0,_e.V1)(Y(e),"raw alert should have transformJson"),e},function(e){e.NOT_AUTHORIZED="not_authorized",e.SESSION_NOT_INITIALIZED="session_not_initialized",e.BAD_REQUEST="bad_request",e.BACKEND_ERROR="backend_error",e.AUTH_ERROR="auth_error",e.RUNTIME_ERROR="runtime_error",e.ILLEGAL_DICT_WORD="illegal_dict_word",e.TIMEOUT="timeout",e.CANNOT_FIND_SYNONYM="cannot_find_synonym",e.CANNOT_GET_TEXT_STATS="cannot_get_text_stats",e.GB_RULE_ERROR="gb_rule_error"}(m||(m={})),function(e){e[e.INFO=0]="INFO",e[e.WARN=1]="WARN",e[e.ERROR=2]="ERROR"}(g||(g={})),function(e){e.RENDERED="RENDERED",e.IGNORE="IGNORE",e.ADD_TO_DICTIONARY="ADD_TO_DICTIONARY",e.LOOKED="LOOKED",e.ACCEPTED="ACCEPTED",e.CLOSED="CLOSED",e.ACKNOWLEDGED="ACKNOWLEDGED",e.HIDE="HIDE",e.UNLOCK="UNLOCK",e.LIKE="LIKE",e.DISLIKE="DISLIKE",e.WRONG_SUGGESTION="WRONG_SUGGESTION",e.OFFENSIVE_CONTENT="OFFENSIVE_CONTENT",e.EXPANDED="EXPANDED",e.IGNORE_BULK_ACCEPTED="IGNORE_BULK_ACCEPTED",e.USER_SATISFACTION_FEEDBACK="USER_SATISFACTION_FEEDBACK"}(f||(f={})),function(e){e.DRILLDOWN="DRILLDOWN"}(y||(y={})),function(e){e.BULK_ACCEPTED="BULK_ACCEPTED"}(v||(v={})),function(e){e.LENS_CLOSE="LENS_CLOSE",e.LENS_OPEN="LENS_OPEN",e.DISMISS_BY_LENS="DISMISS_BY_LENS"}(_||(_={})),function(e){e.EMOTION_LIKE="EMOTION_LIKE",e.EMOTION_DISLIKE="EMOTION_DISLIKE",e.EMOTION_OFFENSIVE="EMOTION_OFFENSIVE"}(b||(b={})),function(e){e.WritingExpert="WRITING_EXPERT"}(w||(w={})),function(e){e.AiStudio="AI_STUDIO"}(S||(S={})),function(e){e.G2_UI="G2_UI"}(C||(C={})),function(e){e.Apply="APPLY",e.Revert="REVERT",e.RevertLook="REVERT_LOOK",e.CardPreviewLooked="CARD_PREVIEW_LOOKED",e.Appeared="APPEARED",e.IndividualPreviewLook="INDIVIDUAL_PREVIEW_LOOK",e.IndividualPreviewApply="INDIVIDUAL_PREVIEW_APPLY",e.IndividualPreviewDismiss="INDIVIDUAL_PREVIEW_DISMISS",e.Skipped="SKIPPED"}(I||(I={})),function(e){e.FEED_OPENED="FEED_OPENED",e.FEED_CLOSED="FEED_CLOSED",e.TRY_AGAIN="TRY_AGAIN"}(T||(T={})),function(e){e.FEED_OPENED="FEED_OPENED",e.FEED_CLOSED="FEED_CLOSED",e.TRY_AGAIN="TRY_AGAIN"}(A||(A={})),function(e){e.EMOTION_SENTENCE_LIKE="EMOTION_SENTENCE_LIKE",e.EMOTION_SENTENCE_DISLIKE="EMOTION_SENTENCE_DISLIKE"}(E||(E={})),function(e){e.RECHECK_SHOWN="RECHECK_SHOWN"}(k||(k={})),function(e){e.SYNONYM_ACCEPTED="SYNONYM_ACCEPTED",e.SYNONYM_DISMISSED="SYNONYM_DISMISSED"}(x||(x={})),function(e){e.MUTE="MUTE",e.UNMUTE="UNMUTE"}(R||(R={})),function(e){e.AUTOCORRECT_ACCEPT="AUTOCORRECT_ACCEPT",e.AUTOCORRECT_DISMISS="AUTOCORRECT_DISMISS",e.AUTOCORRECT_REPLACE="AUTOCORRECT_REPLACE"}(P||(P={})),function(e){e.COMPLETION_SHOWN="COMPLETION_SHOWN",e.COMPLETION_IGNORED="COMPLETION_IGNORED",e.COMPLETION_ACCEPTED="COMPLETION_ACCEPTED",e.COMPLETION_REJECTED="COMPLETION_REJECTED"}(N||(N={})),function(e){e.AUTOAPPLY_TRIGGERED="AUTOAPPLY_TRIGGERED",e.AUTOAPPLY_LOOKED="AUTOAPPLY_LOOKED",e.AUTOAPPLY_REVERTED="AUTOAPPLY_REVERTED",e.AUTOAPPLY_ACCEPT="AUTOAPPLY_ACCEPT",e.AUTOAPPLY_AFFECTED_BY_TEXTCHANGE="AUTOAPPLY_AFFECTED_BY_TEXTCHANGE"}(O||(O={})),function(e){e.SNIPPET_ACCEPTED="SNIPPET_ACCEPTED"}(K||(K={})),function(e){e.ASSISTANT_OPENED="ASSISTANT_OPENED"}(B||(B={})),function(e){e.ACCEPTED="ACCEPTED",e.DISMISSED="DISMISSED"}(D||(D={})),function(e){e.willRemoveAlert=function(e){return e===f.IGNORE||e===f.OFFENSIVE_CONTENT||e===f.WRONG_SUGGESTION||e===f.ADD_TO_DICTIONARY||e===f.LIKE||e===f.DISLIKE||e===f.ACKNOWLEDGED||e===f.HIDE}}(M||(M={})),function(e){e.Inline="inline",e.Hover="hover",e.Click="click",e.SidebarPriority="sidebar-priority",e.Sidebar="sidebar",e.Vbar="vbar",e.UnderlineWithTeaser="underline_with_teaser"}(L||(L={})),function(e){e.Context="context",e.GnarContainerId="gnar_containerId"}($||($={})),function(e){e.likelyToBeReadTakeaway="LikelyToRead",e.unlikelyToBeReadTakeaway="NotLikelyToRead"}(F||(F={}));var Te,Ae,Ee=300;!function(e){e.generatePoints=function(e,t,n){var r=function(e,t){return Math.max(Math.trunc(e/t),(0,me._9)(e))};return he.Bs(r(e,2),(function(e){return he.Bs(r(t,3),(function(t){return{value:Math.random()*n,alertIds:[],footprint:"".concat(100*e+t)}}))}))}}(Te||(Te={})),function(e){(e.Id||(e.Id={})).create=function(e){return e.toString()}}(Ae||(Ae={}))},62228:(e,t,n)=>{n.d(t,{QB:()=>i,k9:()=>r,to:()=>o});var r,i,a=n(10334),o=Math.pow(2,32)/2;!function(e){e.alertsUpdate="alerts_update",e.textInfo="text_info",e.freeAdvancedChecks="free_inline_advanced_alerts",e.readability="readability_check",e.sentenceVariety="sentence_variety_check",e.fillerWords="filler_words_check",e.alertsChanges="alerts_changes",e.freeClarityChecks="free_clarity_alerts",e.superAlerts="super_alerts",e.consistency="consistency_check",e.setGoalsLink="set_goals_link",e.emogenieCheck="emogenie_check",e.toneCards="tone_cards",e.alternativeDeletesCard="alternative_deletes_card",e.voxCheck="vox_check",e.plagiarismAlertsUpdate="plagiarism_alerts_update",e.fullSentenceRewrite="full_sentence_rewrite_card",e.listCard="turn_to_list_card",e.userMutes="user_mutes",e.completions="completions",e.muteQuotedAlerts="mute_quoted_alerts",e.keyTakeaways="key_takeaways_v4",e.supportsFormatting="formatting",e.supportsButtonTransformCards="transform_with_button_card",e.priorityAlertsView="priority_alerts_view",e.proofit="realtime_proofit",e.freeOccasionalPremiumAlerts="free_occasional_premium_alerts",e.gapTransformCard="gap_transform_card",e.toneAI="tone_slider_card",e.ethicalAI="ethical_ai_card",e.enclosingHighlight="enclosing_highlight",e.mainStartHighlight="main_start_highlight",e.drilldownCard="drilldown_card",e.shortenIt="shorten_it",e.ideasGalleryLink="ideas_gallery_link",e.citations="citations",e.citation_detection_card="citation_detection_card",e.citation_gap="citation_gap",e.reconnect="reconnect",e.suggestedSnippets="suggested_snippets",e.knowledgeHubSuggestedTerms="knowledge_hub_suggested_terms",e.knowledgeHub="knowledge_hub",e.autoapply="autoapply",e.cheetah="cheetah",e.gbContext="gb_context",e.vbarAlerts="vbar_alerts",e.gDebugger="g_debugger",e.g2UI="g2_ui",e.individualPreviewReverts="INDIVIDUAL_PREVIEW_REVERTS",e.individualPreviewImportantRetains="INDIVIDUAL_PREVIEW_IMPORTANT_RETAINS",e.lockedUIDelayedUnlock="locked_ui_debounced_unlock_on_focus",e.touchtypist="touchtypist"}(r||(r={})),function(e){var t,n,r,i,o,s,l,c,u,d;(d=e.SessionMode||(e.SessionMode={})).READ_ONLY="READ_ONLY",d.AI_STUDIO_PREVIEW="AI_STUDIO_PREVIEW",(u=e.ScoresStatus||(e.ScoresStatus={})).OK="OK",u.TOO_SMALL="TOO_SMALL",u.SENSITIVE="SENSITIVE",u.ERROR="ERROR",l=e.OutcomeScores||(e.OutcomeScores={}),c={Clarity:0,Correctness:0,Engagement:0,Tone:0,"Style guide":0,GeneralScore:0},l.normalize=function(e){return(0,a._)({},c,e)},(e.AttentionHeatmap||(e.AttentionHeatmap={})).hasAttentionInfo=function(e){return"attentionScore"in e&&"showAttentionCard"in e},t=e.Survey||(e.Survey={}),n=t.Data||(t.Data={}),o=n.BaseSurvey||(n.BaseSurvey={}),(s=o.Placement||(o.Placement={})).gmail="gmail",s.ggo="ggo",(i=n.ScoreSurvey||(n.ScoreSurvey={})).type="score",(i.Score||(i.Score={})).declined="declined",(r=n.OpenAnswerScoreSurvey||(n.OpenAnswerScoreSurvey={})).type="open_answer_score",r.scoreStage="score",r.submitStage="submit"}(i||(i={}))},32454:(e,t,n)=>{n.d(t,{d:()=>r});var r,i=n(10334),a=n(17171),o=n(69384),s=n(66202),l=n(65390),c=n(84647),u=n(88105);!function(e){var t;(e.Range||(e.Range={})).isEmpty=function(e){return e.e-e.s==0},function(e){var t;(t=e.Type||(e.Type={})).MAIN="main",t.IMPORTANT="important",(e.TypeExt||(e.TypeExt={})).OPTIONAL_CONTEXT="optional_context"}(t=e.Edit||(e.Edit={})),function(e){function n(e){return(0,c.pipe)(e.ops,l.fromPredicate((function(e){return-1===e.findIndex(n)})),l.fold((function(){return s.left({ops:(t=e.ops,t.reduce((function(e,t,r){if(n(t,r)){var s=t.attributes,l=(s.type,(0,o._)(s,["type"]));e.push((0,a._)((0,i._)({},t),{attributes:l}))}else e.push(t);return e}),[]))});var t}),(function(e){return s.right({ops:e})})));function n(e,n){return n>0&&u.E.isRetain(e)&&void 0!==e.attributes&&e.attributes.type===t.TypeExt.OPTIONAL_CONTEXT}}e.unsafeFromDelta=function(e){return(0,c.pipe)(e,n,s.fold(c.identity,c.identity))},e.fromDelta=n}(e.AbsAlternative||(e.AbsAlternative={}))}(r||(r={}))},37099:(e,t,n)=>{n.d(t,{UV:()=>c,nr:()=>s,zT:()=>l});var r=n(85886),i=n(80843),a=n(19309),o=n(11864);const s=/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g;const l=({children:e,emojiClassName:t,className:n})=>{const i=r.useRef(null);return r.useEffect((()=>{i.current&&(i.current.innerHTML=i.current.innerHTML.replace(s,(e=>function(e,t=u.emoji){return`<img alt="${e}" class="${t}" src="${function(e){return a.C+function(e){return e.length<4?e.codePointAt(0).toString(16):e.codePointAt(0).toString(16)+"-"+e.codePointAt(2).toString(16)}(e)+".svg"}(e)}" onerror="this.replaceWith(this.alt)" draggable="false" />`}(e,t))))}),[i,t]),r.createElement("span",{ref:i,className:n},e)},c=({id:e,className:t})=>{const[n,o]=r.useState(!1),[s,l]=r.useState(""),[c,d]=r.useState("");return r.useEffect((()=>{o(!1),d(function(e){return a.C+e+".svg"}(e)),l((e=>{try{return String.fromCodePoint(...e.map((e=>parseInt(e,16))))}catch(e){return""}})(e.split("-")))}),[e]),n?r.createElement("span",(0,i.Ly)(t,u.emojiFromIDAlt),s):r.createElement("img",{className:t,src:c,alt:s,onError:()=>o(!0),"aria-hidden":!0})},u=o.Ks.stylesheet({emoji:[{display:"inline",marginRight:".25em",width:"1em",verticalAlign:"sub",lineHeight:1,transform:"scale(1.25)",transformOrigin:"bottom",userSelect:"none"}],emojiFromIDAlt:[{display:"flex",alignItems:"center"}]})},21607:(e,t,n)=>{n.d(t,{W:()=>$});var r=n(10334),i=n(17171),a=n(69384),o=n(85886),s=n(45501),l=n(82840),c=n(91622),u=n(71871),d=n(15044),p=n(87709),h=n(34553),m=n(80843),g=n(35198),f=n(19967),y=n(26228),v=n(14737),_=n(82608),b=n(19772),w=n(37634),S=n(98205),C=n(21037),I=n(12175),T=n(11864),A=n(13607);const E={borderTop:`1px solid ${w.Q.Border.Base.Subdued}`,margin:`${T.Ks.rem(S.v$)} ${T.Ks.rem(-S.Jj)}`},k={listStyle:"none",margin:0,padding:0,outline:T.Ks.important("none")},x={position:"relative",overflow:"hidden",padding:`${T.Ks.rem(S.or)} ${T.Ks.rem(S.Jj)}`,borderRadius:T.Ks.rem(C.KD),cursor:"pointer",$nest:{"&:hover":{background:I.NeutralGray10},"&:focus, &:focus-visible":{boxShadow:`0 0 0 1px ${I.NeutralGray10}, 0 0 0 3px ${I.NeutralGray40}`,outline:T.Ks.important("none"),background:I.NeutralGray10,zIndex:A.yg},"& i":{marginLeft:T.Ks.rem(-S.v$),marginRight:T.Ks.rem(S.v$)}}},R={color:w.Q.Text.Base.Subdued},P={margin:`0 ${T.Ks.rem(S.v$)}`},N={display:"flex",alignItems:"center"},O={justifyContent:"space-between",width:T.Ks.percent(100)},K={padding:`0 ${T.Ks.rem(S.Jj)}`},B={padding:`${T.Ks.rem(S.v$)} ${T.Ks.rem(S.Jj)}`},D={fontSize:T.Ks.rem(.625),letterSpacing:T.Ks.rem(.04),lineHeight:T.Ks.rem(1),color:w.Q.Text.Base.Subdued,padding:`${T.Ks.rem(S.v$)} ${T.Ks.rem(S.v5)} ${T.Ks.rem(S.v$)} ${T.Ks.rem(S.Jj)}`},M={$nest:{'&[data-active="true"]':{background:I.NeutralGray10,color:w.Q.Text.Brand.Default}}},L=T.Ks.stylesheet({triggerButton:[M],separator:[E],itemList:[k],mainItemsList:[k,B],menuItem:[x],menuItemContentWrapper:[N],menuItemContent:[N,O],menuItemDisabled:[K],menuItemSelected:[{$nest:{"& span":{fontWeight:700}}}],sectionHeading:[D],section:[{padding:0}],label:[R],tag:[P]});var $;!function(e){function t(e){var{placement:t="bottom start",theme:l={},name:c,portalContainer:u,title:p,button:h=f.$n.Flat}=e,g=(0,a._)(e,["placement","theme","name","portalContainer","title","button"]);const v=o.useMemo((()=>Boolean(c)?`${c}-trigger`:"dropdown-menu-trigger"),[c]),_=(0,d.I)(g),[b,w]=o.useState(!1),S=o.useRef(null),C=(0,s.Vi)({},_,S),{menuTriggerProps:{onPress:I,onPressStart:T},menuProps:A}=C,E=(0,a._)(C.menuTriggerProps,["onPress","onPressStart"]),k=o.useCallback((e=>{var t;["escape","enter"].includes(e.key.toLowerCase())&&(null===(t=S.current)||void 0===t||t.focus())}),[]);return o.useEffect((()=>{if(_.isOpen&&!b)document.addEventListener("keydown",k),w(!0);else if(!_.isOpen&&b){var e;null===(e=S.current)||void 0===e||e.focus(),document.removeEventListener("keydown",k),w(!1)}return()=>document.removeEventListener("keydown",k)}),[_.isOpen,b,k]),o.createElement(o.Fragment,null,o.createElement(h,(0,i._)((0,r._)((0,i._)((0,r._)({},E),{name:v}),(0,m.Ly)(L.triggerButton,l.button)),{onClick:()=>_.open(),mount:e=>S.current=e,"aria-label":g["aria-label"],title:null!=p?p:g["aria-label"],active:_.isOpen}),g.label),o.createElement(y.A,{state:_,rerenderDependencies:[g.items,g.children],triggerRef:S,placement:t,portalContainer:u,className:l.popover,renderAssistiveDismiss:!1},o.createElement(n,(0,i._)((0,r._)({},g,A),{theme:l,name:c,onAction:e=>{var t,n;null===(t=(n=g).onAction)||void 0===t||t.call(n,e)}}))))}function n(e){var{name:t,className:n,itemAnimationMode:c=v.g.FromClickPoint,theme:u={},onMouseOver:d,onMouseLeave:h}=e;const g=(0,a._)(e,["name","className","itemAnimationMode","theme","onMouseOver","onMouseLeave"]),f=o.useMemo((()=>Boolean(t)?`${t}-list`:"dropdown-menu-list"),[t]),y=(0,p.p)(g),_=o.useRef(null),{menuProps:b}=(0,s.b)(g,y,_),C=(0,l.v6)(b,{onMouseOver:d,onMouseLeave:h});return o.createElement("ul",(0,r._)((0,i._)((0,r._)({"data-name":f},C),{ref:_}),(0,m.Ly)(L.mainItemsList,u.list,n)),Array.from(y.collection).map((e=>"section"===e.type?o.createElement(S,{key:e.key,section:e,state:y,theme:u}):o.createElement(w,{key:e.key,name:t,item:e,state:y,animationMode:c,className:u.item}))))}function w({item:e,state:t,animationMode:n,className:c,name:u}){const d=o.useMemo((()=>Boolean(u)?`${u}-item`:"dropdown-menu-item"),[u]),p=o.useRef(null),{menuItemProps:g,isDisabled:f,isSelected:y}=(0,s.Os)({key:e.key},t,p),w=o.useMemo((()=>new h.B),[]),S=o.useCallback((()=>null!=n&&o.createElement(v.n,{mouseDownEvents:w,animationMode:n})),[w,n]),{onPointerDown:C}=g,I=(0,a._)(g,["onPointerDown"]),T=(0,l.v6)(I,{onPointerDown:e=>{var t;w.next({pageX:e.pageX,pageY:e.pageY}),null===(t=C)||void 0===t||t(e)}});return b.R.useEffectOnDidMount((()=>{if(null!=p.current)try{const e=p.current.focus.bind(p.current);p.current.focus=t=>{var n;Boolean(null===(n=p.current)||void 0===n?void 0:n.matches(":hover"))||e(t)}}catch(e){}})),o.createElement("li",(0,r._)((0,i._)((0,r._)({"data-name":d},T),{ref:p}),(0,m.Ly)(L.menuItem,c,f?L.menuItemDisabled:void 0,y?L.menuItemSelected:void 0)),o.createElement(_.Typography,{nodeType:"span",styleType:_.Typography.Type.Base,className:L.menuItemContentWrapper},e.rendered),S())}function S({name:e,section:t,state:n,onAction:a,theme:l={},itemAnimationMode:u=v.g.FromClickPoint}){const d=o.useMemo((()=>Boolean(e)?`${e}-section`:"dropdown-menu-section"),[e]),{itemProps:p,headingProps:h,groupProps:g}=(0,s.y7)({heading:t.rendered,"aria-label":t["aria-label"]}),{separatorProps:f}=(0,c.r)({elementType:"li"});return o.createElement(o.Fragment,null,t.key!==n.collection.getFirstKey()&&o.createElement("li",(0,i._)((0,r._)({},f),{className:L.separator})),o.createElement("li",(0,r._)({"data-name":d},p,(0,m.Ly)(L.section,l.section)),Boolean(t.rendered)&&o.createElement(_.Typography.H5,(0,i._)((0,r._)({},h),{className:L.sectionHeading}),t.rendered),o.createElement("ul",(0,i._)((0,r._)({},g),{className:L.itemList}),Array.from(t.childNodes).map((t=>o.createElement(w,{key:t.key,item:t,state:n,onAction:a,animationMode:u,className:l.item,name:e}))))))}e.Item=u.q7,e.Section=u.wn,e.Dropdown=t,e.DropdownLifted=function(e){return(0,m.yY)(t)(e)},e.List=n,e.ItemContent=({children:e,label:t,tag:n})=>o.createElement("span",{className:L.menuItemContent},o.createElement("span",null,e,Boolean(n)&&o.createElement(g.E.Regular,{className:L.tag},n)),Boolean(t)&&o.createElement(_.Typography.Small,{className:L.label},t))}($||($={}))},26228:(e,t,n)=>{n.d(t,{A:()=>y});var r=n(10334),i=n(17171),a=n(69384),o=n(85886),s=n(94478),l=n(37634),c=n(88480),u=n(21037),d=n(80843),p=n(84712),h=n(11864),m=n(24243);const g=({portalContainer:e,children:t})=>void 0===e?o.createElement(o.Fragment,null,t):o.createElement(s.hJ,{portalContainer:e},t),f=e=>{var t,{children:n,className:l,state:c,offset:u=8,onTransitionEnd:p,portalContainer:h,renderAssistiveDismiss:m=!0}=e,f=(0,a._)(e,["children","className","state","offset","onTransitionEnd","portalContainer","renderAssistiveDismiss"]);const y=o.useRef(null),{popoverProps:v}=(0,s.fP)((0,i._)((0,r._)({},f),{isNonModal:null!=h,offset:u,popoverRef:y}),c);return o.createElement(g,{portalContainer:h},o.createElement("div",(0,i._)((0,r._)((0,i._)((0,r._)({},v),{style:(0,i._)((0,r._)({},v.style),{minWidth:null===(t=f.triggerRef.current)||void 0===t?void 0:t.clientWidth}),ref:y}),(0,d.Ly)(b.popover,l)),{onTransitionEnd:e=>{var t;if(e.target===y.current)return null===(t=p)||void 0===t?void 0:t()}}),m&&o.createElement(s.Rz,{onDismiss:c.close}),o.createElement("div",{className:b.wrapper},n),m&&o.createElement(s.Rz,{onDismiss:c.close})))},y=e=>{var{children:t,rerenderDependencies:n=[]}=e,s=(0,a._)(e,["children","rerenderDependencies"]);const l=o.useMemo((()=>t),n),c=o.useRef(y._index++);return o.useEffect((()=>{y._activePopovers.modify((e=>{const t=new Set(e);return s.state.isOpen?t.add(c.current):t.delete(c.current),t}))}),[s.state.isOpen]),o.createElement(m.A,{in:s.state.isOpen},((e,t)=>o.createElement(f,(0,r._)((0,i._)((0,r._)({},s),{onTransitionEnd:t}),(0,d.Ly)(s.className,e)),l)))};y._index=0,y._activePopovers=p.s.create(new Set),y.activeCount=y._activePopovers.view((e=>e.size));const v={width:h.Ks.percent(100)},_={display:"flex",flexDirection:"column",alignItems:"flex-start",background:l.Q.Background.Base.Default,boxShadow:c.R$.boxShadow,border:c.R$.border,borderRadius:h.Ks.rem(u.KD)},b=h.Ks.stylesheet({wrapper:[v],popover:[_]})},98530:(e,t,n)=>{n.d(t,{P:()=>r});var r,i=n(10334),a=n(17171),o=n(69384),s=n(85886),l=n(84647),c=n(56855),u=n(80843),d=n(7149),p=n(366),h=n(84872),m=n(58655),g=n(1185),f=n(54183),y=n(1395),v=n(18039),_=n(65390),b=n(72896),w=n(27199),S=n(35098),C=n(11864),I=n(19772);!function(e){let t;!function(e){e.toSelector=function(e){switch(e){case"top":case"topCenter":return{align:"top",selector:g.w.Selector.preferBy("top",g.w.Selector.Placement.middle)};case"topRight":return{align:"top",selector:g.w.Selector.preferBy("top",g.w.Selector.Placement.right)};case"topLeft":return{align:"top",selector:g.w.Selector.preferBy("top",g.w.Selector.Placement.left)};case"bottom":case"bottomCenter":return{align:"bottom",selector:g.w.Selector.preferBy("bottom",g.w.Selector.Placement.middle)};case"bottomRight":return{align:"bottom",selector:g.w.Selector.preferBy("bottom",g.w.Selector.Placement.right)};case"bottomLeft":return{align:"bottom",selector:g.w.Selector.preferBy("bottom",g.w.Selector.Placement.left)};case"left":return{align:"left",selector:g.w.Selector.preferBy("left",g.w.Selector.Placement.middle)};case"right":return{align:"right",selector:g.w.Selector.preferBy("right",g.w.Selector.Placement.middle)};case"auto":case"center":return{align:f.rw.Axis.vertical,selector:g.w.Selector.preferBy("top",g.w.Selector.Placement.middle)};default:return(0,y.xb)(e)}}}(t=e.Alignment||(e.Alignment={}));var n=e.ByPoint=e=>{var{point:t,className:n}=e,r=(0,o._)(e,["point","className"]);return s.createElement(c.F.div,(0,i._)({"data-role":"positioned-container",style:t.pipe(d.T(v.dQ(g.w.toCss,{})))},(0,u.Ly)(P.wrapper,n,t.pipe(d.T((e=>_.isNone(e)?P.hidden:"")))),r))};const r=e=>{const{rect:t,onMount:r}=I.R.useRectWatcher(),i=p.br(e.rect),a=p.br(e.pinTargetRect),o=T(e.align);var u;const h=C(i,t,o,null!==(u=e.selector)&&void 0!==u?u:g.w.Selector.preferTopMiddle,a,"relative"===e.position);return s.createElement(n,{mount:r,className:e.className,point:h.pipe(d.T(_.map((e=>e.tangentialPoint))))},s.createElement(c.F.Fragment,null,!0===e.withPin&&h.pipe(d.T((0,l.flow)(_.chain((e=>e.median)),_.map((e=>s.createElement(w,{point:e,key:"pin"}))),_.toNullable))),e.children))};e.ByAbsoluteRect=e=>s.createElement(r,(0,a._)((0,i._)({},e),{position:"absolute"})),e.ByRelativeRect=e=>s.createElement(r,(0,a._)((0,i._)({},e),{position:"relative"}));var w=e.Pin=e=>{const t=p.br(e.point).pipe(d.T((e=>e.side)),d.T((e=>R[e]))),n=p.br(e.point).pipe(d.T((e=>e.point)),d.T((({x:e,y:t})=>({top:t,left:e}))));return s.createElement(c.F.i,(0,i._)({"data-role":"pin",style:n},(0,u.Ly)(t,R.wrapper)))};const C=(e,t,n,r,i,a)=>h.z(e,s.useContext(S.L.Context).pipe(d.T((e=>e.rect))),t.pipe(m.F(_.getEq(f.az.eq).equals)),i).pipe(d.T((([e,t,i,o])=>(0,l.pipe)(i,_.map((i=>{const s=g.w.QualifiedVariants.build(t,i,n(e));let c=r(s).point;const u=(0,l.pipe)(g.w.toRect(i,c),_.fromEither,_.chain((t=>(0,l.pipe)(f.rw.getMedian(e,t),_.map((e=>({anchorMedian:e,bodyRect:t})))))),_.chain((({anchorMedian:e,bodyRect:t})=>{if(void 0!==o){const n=f.rw.stickToSide(f.rw.Side.invert(e.side),o)(t);return c=g.w.fromRect(n),(0,l.pipe)(f.rw.getMedian(o,n),_.map((({side:e,point:t})=>({side:e,point:f.rw.Point.relativeTo(t,n)}))))}return(0,l.pipe)(_.some(e),_.map((({side:e,point:n})=>({side:e,point:f.rw.Point.relativeTo(n,t)}))))})));return{tangentialPoint:g.w.relativeTo(c,a?e:t),median:u}})))))),T=(e=f.rw.Axis.both)=>(0,b.NX)(f.rw.Axis,e)?t=>g.w.Variants.byAxis(e,t):t=>({[e]:g.w.Zone.bySide(e,t)})}(r||(r={}));const T={position:"absolute",border:`${C.Ks.px(7)} solid ${w.Q1.BackgroundTooltip}`,transform:`translate(${C.Ks.px(-7)}, ${C.Ks.px(-7)})`},A={borderTopColor:"transparent",borderRightColor:"transparent",borderLeftColor:"transparent",$nest:{"& + *":{transform:`translateY(${C.Ks.px(7)})`}}},E={borderTopColor:"transparent",borderRightColor:"transparent",borderBottomColor:"transparent",$nest:{"& + *":{transform:`translateX(${C.Ks.px(-7)})`}}},k={borderRightColor:"transparent",borderBottomColor:"transparent",borderLeftColor:"transparent",$nest:{"& + *":{transform:`translateY(${C.Ks.px(-7)})`}}},x={borderTopColor:"transparent",borderBottomColor:"transparent",borderLeftColor:"transparent",$nest:{"& + *":{transform:`translateX(${C.Ks.px(7)})`}}},R=C.Ks.stylesheet({wrapper:[T],top:[A],right:[E],bottom:[k],left:[x]}),P=C.Ks.stylesheet({hidden:[{visibility:"hidden",opacity:0}],wrapper:[{position:"absolute",transition:"opacity .2s"}]})},90660:(e,t,n)=>{n.d(t,{_:()=>w});var r=n(23988),i=n(10334),a=n(17171),o=n(85886),s=n(37634),l=n(80843),c=n(1395),u=n(54183),d=n(27199),p=n(21476),h=n(98831),m=n(11864),g=n(92825);const f=2*Math.PI*32,y="#f1f2fa",v="#fff",_=(e,t,n)=>e<t?t:e>n?n:e,b=e=>{switch(e){case w.IconSize.pdf:return 110;case w.IconSize.normal:return 52;case w.IconSize.outcome:return 32;case w.IconSize.small:return 24;case w.IconSize.extraSmall:return 16;default:return(0,c.xb)(e)}};class w extends o.Component{render(){const{percentage:e,aimValue:t=100,colorType:n=w.ColorType.logan,fontSize:r=w.FontSize.normal,iconSize:d=w.IconSize.normal,description:m,theme:g=T}=this.props,S=[o.createElement("circle",{key:"circle",id:"circle",cx:36,cy:36,r:32,fill:"none"})],C=(e=>{switch(e){case w.FontSize.normal:return 32;case w.FontSize.small:return 24;default:return(0,c.xb)(e)}})(r),I=(e=>{switch(e){case w.IconSize.pdf:case w.IconSize.normal:case w.IconSize.outcome:return 5;case w.IconSize.small:return 3;case w.IconSize.extraSmall:return 10;default:return(0,c.xb)(e)}})(d),A=_(e,0,100),E=_(t,A,100),k=A*f/100,x=E*f/100,R=360*I/f,P=A?f-k-2*I:f;let N,O,K,B,D;const M=(e=>{switch(e){case w.ColorType.eggBlue:return{type:"gradient",value:{coordinates:{x1:"0%",y1:"50%",x2:"50%",y2:"50%"},start:"#0bc7c3",end:"#0fd5bf"},background:y,outline:v};case w.ColorType.dandelion:return{type:"gradient",value:{coordinates:{x1:"50%",y1:"0%",x2:"35%",y2:"100%"},start:"#ffde66",end:"#ffc148"},background:y,outline:v};case w.ColorType.radicalRed:return{type:"gradient",value:{coordinates:{x1:"50%",y1:"50%",x2:"40%",y2:"100%"},start:"#ff4562",end:"#ff153e"},background:y,outline:v};case w.ColorType.lightVisteria:return{type:"gradient",value:{coordinates:{x1:"50%",y1:"0%",x2:"50%",y2:"100%"},start:"#e191e2",end:"#c770c8"},background:y,outline:v};case w.ColorType.royalBlue:return{type:"gradient",value:{coordinates:{x1:"17%",y1:"15%",x2:"50%",y2:"100%"},start:"#2a42ef",end:"#6391ff"},background:y,outline:v};case w.ColorType.logan:return{type:"plain",value:"#a6adc9",background:y,outline:v};case w.ColorType.electricViolet:return{type:"plain",value:"#913dcc",background:"#eed6ff"};case w.ColorType.crimson:return{type:"plain",value:"#ea1537",background:"#ffccd5"};case w.ColorType.blueRibbon:return{type:"plain",value:"#1a57ff",background:"#cdf"};case w.ColorType.green:return{type:"plain",value:s.Q.Background.Brand.Default,background:s.Q.Background.Brand.Subdued};case w.ColorType.lightBlue:return{type:"plain",value:"#00bbcc",background:"#ccfbff"};case w.ColorType.orange:return{type:"plain",value:"#ffa600",background:"#fee8b4"};case w.ColorType.neoBlue:return{type:"plain",value:"#4A6EE0",background:"#DBEBFF"};case w.ColorType.white:return{type:"plain",value:"#fff",background:"#fff",backgroundOpacity:.2};default:return(0,c.xb)(e)}})(n);if("plain"===M.type)N=M.value,O=N,K=M.outline,B=M.background,D=void 0===M.backgroundOpacity?1:M.backgroundOpacity;else{const e=M.value;this._gradientId=Boolean(this._gradientId)?this._gradientId:"pb-gradient-"+w._nextGradientId++,S.push(o.createElement("linearGradient",(0,i._)({id:this._gradientId,key:this._gradientId,gradientUnits:"userSpaceOnUse"},e.coordinates),o.createElement("stop",{stopColor:e.start,offset:"0%"}),o.createElement("stop",{stopColor:e.end,offset:"100%"}))),N=`url(#${this._gradientId})`,O="#2b2d38",K=M.outline,B=M.background,D=void 0===M.backgroundOpacity?1:M.backgroundOpacity}return o.createElement(p.f.Context.Consumer,null,(e=>o.createElement(h.hh,(0,a._)((0,i._)({},(0,l.Ly)(T.iconWrapper,g.radialProgressBar)),{width:b(d),viewBox:"0 0 72 72"}),o.createElement("defs",null,S),o.createElement("g",null,o.createElement("use",{className:T.valueCircle,stroke:A>=94&&Boolean(K)?K:B,strokeOpacity:D,strokeWidth:I,strokeDasharray:f,strokeDashoffset:f-x,transform:"rotate(-90 36 36)",strokeLinecap:"round",xlinkHref:"#circle"}),Boolean(K)?o.createElement("use",{className:T.valueCircle,stroke:K,strokeWidth:I,strokeDasharray:f,strokeDashoffset:P,transform:`rotate(${-90-R} 36 36)`,strokeLinecap:"round",xlinkHref:"#circle"}):null,o.createElement("use",{className:T.valueCircle,stroke:N,strokeDasharray:f,strokeDashoffset:f-k,strokeLinecap:"round",transform:"rotate(-90 36 36)",strokeWidth:I,xlinkHref:"#circle"}),o.createElement("text",(0,i._)({className:g.radialProgressText,y:"38",x:"36",fill:O,fontSize:C,fontStyle:"normal",textAnchor:"middle"},u.ym(e.has(p.f.Flag.supportsSVGDominantBaseline))),A),Boolean(m)?o.createElement("text",{className:g.radialProgressDescription,fill:O,x:"50%",y:"80%",fontStyle:"normal",textAnchor:"middle"},m):null))))}constructor(...e){super(...e),(0,r._)(this,"_gradientId",void 0)}}(0,r._)(w,"_nextGradientId",0),function(e){let t,n,r;!function(e){e.eggBlue="eggBlue",e.dandelion="dandelion",e.radicalRed="radicalRed",e.lightVisteria="lightVisteria",e.royalBlue="royalBlue",e.logan="logan",e.electricViolet="electricViolet",e.crimson="crimson",e.blueRibbon="blueRibbon",e.green="green",e.lightBlue="lightBlue",e.orange="orange",e.white="white",e.neoBlue="neoBlue"}(t=e.ColorType||(e.ColorType={})),function(e){e.normal="normal",e.small="small"}(n=e.FontSize||(e.FontSize={})),function(e){e.normal="normal",e.small="small",e.extraSmall="extraSmall",e.outcome="outcome",e.pdf="pdf"}(r=e.IconSize||(e.IconSize={}))}(w||(w={}));const S={width:m.Ks.percent(100),height:m.Ks.percent(100),fontWeight:"bold",fill:d.Q1.CoreNeutral90},C={fontSize:m.Ks.rem(2),fill:d.Q1.CoreNeutral90},I={fontWeight:"normal",fontSize:m.Ks.px(11),fill:g.V9},T=m.Ks.stylesheet({radialProgressBar:[S],radialProgressText:[C],radialProgressDescription:[I],valueCircle:[{transition:"stroke-dashoffset .5s"}],iconWrapper:[{stroke:"none",fill:"none",$nest:{"&[data-hovered='true']":{stroke:"none",fill:"none"}}}]})},10619:(e,t,n)=>{n.d(t,{s:()=>$,a:()=>F});var r=n(10334),i=n(17171),a=n(69384),o=n(85886),s=n(57982),l=n(62016),c=n(88223),u=n(46924),d=n(82840),p=n(81738),h=n(12175),m=n(37634),g=n(43533),f=n(80843),y=n(56855),v=n(42279),_=n(99010),b=n(366),w=n(84872),S=n(7149),C=n(99695),I=n(72896),T=n(82608),A=n(19772),E=n(98205),k=n(21037),x=n(11864);const R={display:"flex",alignItems:"center",opacity:1,color:m.Q.Text.Base.Default,cursor:"pointer"},P={$nest:{'&[type="radio"]':{display:x.Ks.important("inline-block")}}},N={display:"flex",justifyContent:"center",alignItems:"center",transform:"scale(calc(var(--rem)/16))",minWidth:x.Ks.rem(E.Oh),marginRight:x.Ks.rem(E.sp)},O={display:"inline-flex"},K={flexDirection:"row",alignItems:"center",flexWrap:"wrap",gap:x.Ks.rem(E.or)},B={display:"flex",gap:x.Ks.rem(E.CN),color:m.Q.Background.Critical.Default,padding:`0 ${x.Ks.rem(E.v$)} 0 ${x.Ks.rem(E.CN)}`,margin:`${x.Ks.rem(E.v$)} 0`,$nest:{"& svg":{transform:"scale(1.4)"},"& path":{fill:m.Q.Background.Critical.Default}}},D={border:`1px solid ${m.Q.Background.Critical.Default}`,borderRadius:x.Ks.rem(k.KD)},M=x.Ks.stylesheet({input:[P],label:[R],disabled:[R,{opacity:.4,cursor:"not-allowed"}],dot:[N],circle:[{transition:"all .2s"}],horizontal:[O,K],vertical:[O,{flexDirection:"column"}],errorMessage:[B],errorGroup:[D],groupWrapper:[{display:"flex",flexDirection:"column"}]}),L=o.createContext(C.o.invariantContent("radioGroupContext"));var $,F;!function(e){e.Item=e=>{var{className:d}=e,p=(0,a._)(e,["className"]);const g=o.useContext(L),y=o.useRef(null),{inputProps:v,isSelected:_,isDisabled:b}=(0,s.z)(p,g,y),{isFocusVisible:w,focusProps:S}=(0,l.og)(),{hoverProps:C,isHovered:A}=(0,c.Mk)({}),E=_?5:2;return o.createElement(T.Typography,(0,r._)({styleType:T.Typography.Type.Base,nodeType:"label"},C,(0,f.Ly)((0,I.Sw)(M.disabled,M.label)(b),d)),o.createElement(u.s,null,o.createElement("input",(0,i._)((0,r._)({},v,S),{ref:y,className:M.input}))),o.createElement("div",{className:M.dot},o.createElement("svg",{width:n,height:n,"aria-hidden":!0},o.createElement("circle",{cx:t,cy:t,r:A?t:0,fill:h.BlueGray5,fillOpacity:+(A&&!b),className:M.circle}),o.createElement("circle",{cx:t,cy:t,r:t/2+2,fill:"none",stroke:m.Q.Background.Brand.Default,strokeWidth:2,strokeOpacity:+(w&&!b),className:M.circle}),o.createElement("circle",{cx:t,cy:t,r:t/2-E/2,fill:"none",stroke:_?m.Q.Background.Brand.Default:m.Q.Border.Base.Default,strokeWidth:E,className:M.circle}))),p.children)},e.Group=e=>{const{name:t,orientation:n="vertical",className:a,children:l,label:c,description:d,errorMessage:h,validationState:m}=e,y=(0,p.Z)(e),{radioGroupProps:v,labelProps:_,descriptionProps:b,errorMessageProps:w}=(0,s.m)(e,y);return o.createElement("div",(0,r._)({"data-name":t},v,(0,f.Ly)(M.groupWrapper,a)),Boolean(c)&&o.createElement(T.Typography,(0,r._)({nodeType:"span",styleType:T.Typography.Type.Base},_),c),o.createElement("div",(0,f.Ly)(M[n],(0,I.Sw)(M.errorGroup,void 0)(Boolean("invalid"===m))),o.createElement(L.Provider,{value:y},l),Boolean(d)&&o.createElement(u.s,null,o.createElement("div",b,d))),Boolean(h)&&"invalid"===m&&o.createElement(T.Typography.Small,(0,i._)((0,r._)({},w),{className:M.errorMessage}),o.createElement("i",{"aria-hidden":!0},o.createElement(g.G,null)),"function"!=typeof h?h:null))};const t=16,n=2*t}($||($={})),function(e){e.Group=e=>{var{items:t,selectedItemIndex:n,itemWrapperClassName:s}=e,l=(0,a._)(e,["items","selectedItemIndex","itemWrapperClassName"]);const[c,u]=o.useState(n.get()),[d,p]=o.useState(void 0);return A.R.useSubscriptionTo(v.h(n.pipe(_.M(u)),b.br(s).pipe(_.M(p)))),o.createElement($.Group,(0,i._)((0,r._)({},l),{value:String(c),onChange:e=>{var t,r;return null===(t=(r=l).onChange)||void 0===t||t.call(r,e),n.set(+e)}}),t.map(((e,t)=>o.createElement($.Item,{key:t,value:String(t),className:d},e))))},e.Item=e=>{var{onChange:t,checked:n,className:l,children:c}=e,u=(0,a._)(e,["onChange","checked","className","children"]);const h=(0,d.Bi)(),m=(0,p.Z)({defaultValue:n.get()?h:void 0});return(0,s.m)(u,m),o.useEffect((()=>{m.selectedValue===h&&t()}),[m.selectedValue,t,h]),A.R.useSubscriptionTo(n.pipe(_.M((e=>m.setSelectedValue(e?h:""))))),o.createElement(L.Provider,{value:m},o.createElement(y.F.Fragment,null,w.z([b.br(c),b.br(l)]).pipe(S.T((([e,t])=>o.createElement($.Item,(0,i._)((0,r._)({},u),{value:h,className:t}),e))))))}}(F||(F={}))},60280:(e,t,n)=>{n.d(t,{y:()=>g});var r,i=n(10334),a=n(17171),o=n(69384),s=n(85886),l=n(56855),c=n(80843),u=n(366),d=n(1395),p=n(27199),h=n(11864),m=n(92825);function g(e){var{wrapperClassName:t,variation:n,isIdle:r,ref:c,label:d}=e,p=(0,o._)(e,["wrapperClassName","variation","isIdle","ref","label"]);return s.createElement(l.F.span,{"data-role":"spinner",role:"status","aria-busy":!Boolean(r),"aria-live":Boolean(r)?"off":"polite","aria-label":null!=d?d:"Content is loading.",className:t},u.Y6(n,(e=>s.createElement(g.Svg,(0,a._)((0,i._)({},p),{type:e,isIdle:r})))))}(r=g||(g={})).getClassName=e=>t=>{switch(t){case"green":return e.green;case"blue":return e.blue;case"white":return e.white;case"yellowPremium":return e.yellowPremium;case"gray":return e.gray;case"cyan":return e.cyan;default:return(0,d.xb)(t)}},r.Svg=e=>{const{className:t,size:n=64,strokeWidth:r=2,type:l,name:u,isIdle:p}=e,h=(0,o._)(e,["className","size","strokeWidth","type","name","isIdle"]),m=s.useRef(null),f=s.useRef(null);return s.useEffect((()=>((0,d.V1)(null!==m.current,"groupEl should be already created"),f.current=m.current.animate({transform:["rotate(0deg)","rotate(360deg)"]},{duration:2e3,easing:"linear",fill:"forwards",iterations:1/0}),()=>f.current.cancel())),[]),s.useEffect((()=>{(0,d.V1)(null!==f.current,"groupAnimation should be already created");const e=f.current;Boolean(e.play)&&(!0===p?e.pause():"running"!==e.playState&&e.play())})),s.createElement("svg",(0,i._)((0,a._)((0,i._)({"data-role":u},(0,c.Ly)(t)),{viewBox:"25 25 50 50",width:n,height:n,"aria-hidden":!0}),h),s.createElement("g",{transform:"translate(50 50)"},s.createElement("g",{ref:m},s.createElement("circle",(0,a._)((0,i._)({},(0,c.Ly)(T.path,!0===p&&v,g.getClassName(T)(l))),{cx:"50",cy:"50",r:"20",fill:"none",transform:"translate(-50 -50)",strokeWidth:r,strokeMiterlimit:"10"})))))};const f=200,y=h.Ks.keyframes({"0%":{strokeDasharray:`1px, ${h.Ks.px(f)}`,strokeDashoffset:h.Ks.px(1)},"50%":{strokeDasharray:`89px, ${h.Ks.px(f)}`,strokeDashoffset:h.Ks.px(-35)},"100%":{strokeDasharray:`89px, ${h.Ks.px(f)}`,strokeDashoffset:h.Ks.px(-124)}}),v="spinnerIdle",_={animation:`${y} 2s ease-in-out infinite`,strokeDasharray:`1px, ${h.Ks.px(f)}`,strokeDashoffset:h.Ks.px(1),strokeLinecap:"round",$nest:{[`&.${v}`]:{animationIterationCount:0}}},b={stroke:p.Q1.CoreGreen50},w={stroke:p.Q1.CoreBlue50},S={stroke:p.Q1.CoreNeutral0},C={stroke:m.aD},I={stroke:p.Q1.CoreCyan50},T=h.Ks.stylesheet({path:[_],green:[b],blue:[w],white:[S],gray:[C],cyan:[I]})},6821:(e,t,n)=>{n.d(t,{b:()=>C});var r,i=n(23988),a=n(85886),o=n(84647),s=n(56855),l=n(99339),c=n(91745),u=n(93208),d=n(42279),p=n(57836),h=n(366),m=n(21644),g=n(75248),f=n(25093),y=n(53018),v=n(65390),_=n(54183),b=n(18039),w=n(63687);!function(e){const t="scrollaction";e.emit=e=>window.dispatchEvent(new CustomEvent(t,{detail:e})),e.observe=w.v((()=>l.R(window,t)))}(r||(r={}));var S=n(15050);class C extends a.Component{componentDidMount(){this._listenTooltipAppearance()}componentWillUnmount(){this._subs.forEach((e=>e.unsubscribe())),this._subs=[],this.context.hide()}render(){return a.createElement(s.F.div,{"data-role":"tooltip"},this.context.state.view(this.props.children))}_listenTooltipAppearance(){const e=l.R(document,"keydown").pipe(c.p((e=>e.keyCode===y.D$.ESC_CODE))),t=l.R(document,"mousedown").pipe(u.E(this.context.state),c.p((([e,t])=>(0,o.pipe)(t,v.map((e=>e.target)),v.filter((()=>_.d6(e.target))),b.Lw(this._outOfTarget({x:e.clientX,y:e.clientY})))))),n=d.h(e,t,l.R(document,"scroll"),r.observe.pipe(c.p((e=>"show"===e.detail)))).pipe(p.u(h.q6),m.u());this._subs=[this.context.hasContent.pipe(c.p(Boolean),g.K(n.pipe(f.$()))).subscribe(this.context.hide),this.context.hasContent.pipe(c.p(Boolean),g.K(d.h(h.cb(!0,500),n.pipe(p.u(!1))).pipe(f.$())),c.p(Boolean)).subscribe(this.context.show)]}constructor(...e){super(...e),(0,i._)(this,"context",void 0),(0,i._)(this,"_subs",[]),(0,i._)(this,"_outOfTarget",(e=>t=>!_.rw.hasPoint(t.getBoundingClientRect(),e)))}}(0,i._)(C,"contextType",S.S.Context)},92109:(e,t,n)=>{n.d(t,{$:()=>m});var r=n(10334),i=n(17171),a=n(85886),o=n(65390),s=n(84647),l=n(54183),c=n(27199),u=n(98530),d=n(11864),p=n(13607),h=n(6821);const m=()=>a.createElement(h.b,null,(0,s.flow)(o.map((e=>a.createElement(u.P.ByAbsoluteRect,(0,i._)((0,r._)({rect:l.rw.fromEl(e.target),className:y.container},u.P.Alignment.toSelector(e.alignment)),{withPin:!0}),a.createElement("div",{className:y.content},e.content)))),o.toNullable)),g={position:"fixed",zIndex:p.kf,pointerEvents:"none",$nest:{"@media print":{visibility:"hidden"}}},f={padding:`${d.Ks.rem(.25)} ${d.Ks.rem(1)}`,borderRadius:d.Ks.rem(p.H0),background:c.Q1.BackgroundTooltip,color:c.Q1.CoreNeutral1,textAlign:"center",whiteSpace:"nowrap",letterSpacing:d.Ks.px(.25),fontSize:d.Ks.rem(.75),lineHeight:d.Ks.rem(1)},y=d.Ks.stylesheet({container:[g],content:[f]})},24243:(e,t,n)=>{n.d(t,{A:()=>g});var r=n(10334),i=n(17171),a=n(85886),o=n(56855),s=n(84712),l=n(91745),c=n(93432),u=n(99010);const d="opacity 150ms linear",p=n(11864).Ks.stylesheet({visible:[{opacity:1}],hidden:[{opacity:0}],visibleTransition:[{opacity:1,transition:d}],hiddenTransition:[{opacity:0,transition:d}]}),h={enter:p.hidden,enterActive:p.visibleTransition,enterDone:p.visible,exit:p.visible,exitActive:p.hiddenTransition,exitDone:p.hidden};var m;!function(e){e.enter="enter",e.enterActive="enterActive",e.enterDone="enterDone",e.exit="exit",e.exitActive="exitActive",e.exitDone="exitDone"}(m||(m={})),function(e){const t={enter:m.enterActive,enterActive:m.enterDone,enterDone:m.exit,exit:m.exitActive,exitActive:m.exitDone,exitDone:m.enter};e.next=e=>t[e],e.shouldSwitchState=e=>t=>t===m.enterDone&&!e||t===m.exitDone&&e||t===m.enter||t===m.exit}(m||(m={}));const g=e=>a.createElement(f,(0,i._)((0,r._)({},e),{classNames:h})),f=e=>{const t=a.useRef(function(e){const t=s.s.create(e?m.enterDone:m.exitDone);return{state:t,next:()=>t.modify(m.next)}}(e.in));return a.useEffect((()=>{const n=t.current.state.pipe(l.p(m.shouldSwitchState(e.in)),c.c(0),u.M(t.current.next)).subscribe();return()=>n.unsubscribe()}),[e.in,t]),a.createElement(o.F.Fragment,null,t.current.state.view((n=>n===m.exitDone?null:e.children(h[n],t.current.next,n))))}},80926:(e,t,n)=>{n.d(t,{$:()=>r});var r,i=n(85886),a=n(99695),o=n(53354);!function(e){var t=e.Context=i.createContext(a.o.invariantContent("CopyToClipboard"));e.ContextMock=({children:e})=>i.createElement(t.Provider,{value:e=>o.B.copy(e,!1),children:e})}(r||(r={}))},15114:(e,t,n)=>{n.d(t,{TM:()=>W,Xz:()=>h});var r=n(10334),i=n(17171),a=n(72896),o=n(27199),s=n(11864),l=n(29120);const c=o.Q1.CoreGreen10,u="3px",d="1px",p="alerts-";var h;!function(e){e.markHeightStandard=`${p}markHeightStandard`,e.markHeightTall=`${p}markHeightTall`,e.markSelected=`${p}markSelected`,e.markSelectedFocused=`${p}markSelectedFocused`,e.markBase=`${p}markBase`,e.markAppliedBase=`${p}markAppliedBase`,e.markVisible=`${p}markVisible`,e.markStart=`${p}markStart`,e.correctness=`${p}correctness`,e.premium=`${p}premium`,e.clarity=`${p}clarity`,e.engagement=`${p}engagement`,e.delivery=`${p}delivery`,e.critical=`${p}critical`,e.advanced=`${p}advanced`,e.plagiarism=`${p}plagiarism`,e.originality=`${p}originality`,e.vox=`${p}vox`,e.knowledgeHub=`${p}knowledgeHub`,e.synonym=`${p}synonym`,e.markAnimated=`${p}markAnimated`,e.markHidden=`${p}markHidden`,e.markApplied=`${p}markApplied`,e.markBulkApplied=`${p}markBulkApplied`,e.markBulkAppliedAnimation=`${p}markBulkAppliedAnimation`,e.markSuccess=`${p}markSuccess`,e.noAnimation=`${p}noAnimation`,e.markVBar=`${p}markVBar`,e.markVBarHighlighted=`${p}markVBarHighlighted`,e.markWritingExpert=`${p}markWritingExpert`,e.markWritingExpertHighlighted=`${p}markWritingExpertHighlighted`}(h||(h={}));const m=`${p}custom`,g={backgroundPosition:`center calc(100% + ${u})`,backgroundRepeat:"no-repeat",contain:"layout style",$nest:{"@media print":{borderBottomWidth:"0 !important"}}},f={$nest:{"@media print":{borderBottomWidth:"3 !important"}}},y=s.Ks.keyframes({from:{backgroundSize:"100% 0"},to:{backgroundSize:"100% 12%"}}),v={standard:`calc(${s.Ks.rem(.45)} - 4px)`,tall:s.Ks.rem(.425)},_=e=>({to:{backgroundColor:e}}),b=(e,t=100)=>({borderWidth:`0 0 ${u} 0`,borderImage:s.Ks.linearGradient("to right",[e,"0%"],[e,`calc(100% - ${t}px)`],[s.Ks.color(e).fade(0).toRGBA().toString(),"100%"]),borderImageSlice:1}),w=(e,t,n,a)=>(0,i._)((0,r._)({$unique:!0},g),{paddingBottom:d,borderBottom:`${u} solid ${t}`,transition:"border-bottom-color .5s linear",$nest:(0,i._)((0,r._)({},g.$nest),{[`&.${h.markStart}`]:b(t),"&[data-vertical-underline-start]:before":{borderColor:n,color:n},"& > [data-vertical-underline-body]:after":{borderColor:n},"& > [data-vertical-underline-index]":{color:n},"&[data-superscript]":{padding:0,border:"none",color:n,transition:"none"},"&:not([data-superscript])":{$nest:{[`&.${h.markSelected}.${h.markHeightStandard}`]:{paddingTop:v.standard},[`&.${h.markSelected}.${h.markHeightTall}`]:{paddingTop:v.tall},[`&.${h.markSelected}`]:{$unique:!0,borderBottomColor:a,animation:`${e} 1s ease forwards`,$nest:{[`&.${h.markStart}`]:b(a)}},[`&.${h.markSelectedFocused}`]:{$unique:!0,borderBottomColor:n,$nest:{[`&.${h.markStart}`]:b(n)}},[`&.${h.markSelected} .${h.markBase}:not(.${h.markSelected})`]:{paddingBottom:`calc(${u} + ${d})`,borderBottomStyle:"hidden"},[`&.${h.markSelectedFocused} .${h.markBase}:not(.${h.markSelected})`]:{paddingBottom:`calc(${u} + ${d})`,borderBottomStyle:"hidden"}}}})}),S=s.Ks.keyframes(_(o.Q1.CoreRed10)),C=s.Ks.keyframes(_(o.Q1.CoreYellow10)),I=s.Ks.keyframes(_(o.Q1.CoreCyan10)),T=s.Ks.keyframes(_(o.Q1.CorePurple10)),A=s.Ks.keyframes(_(o.Q1.CoreNeutral10)),E=s.Ks.keyframes(_(o.Q1.CoreNeutral10)),k=s.Ks.keyframes(_(o.Q1.CoreBlue10)),x=s.Ks.keyframes(_(o.Q1.CoreRed10)),R=s.Ks.keyframes(_(o.Q1.CoreYellow10)),P=s.Ks.keyframes(_(o.Q1.CoreBlue10)),N=s.Ks.keyframes(_(o.Q1.CoreGreen10)),O=s.Ks.keyframes(_(o.Q1.CorePurple10)),K=s.Ks.keyframes(_(o.Q1.CoreGreen10)),B=e=>{const t=s.Ks.color(c).fade(e).toRGBA().toString();return{borderBottomColor:t,backgroundColor:t,$nest:{[`&.${h.markHeightStandard}`]:{paddingTop:v.standard},[`&.${h.markHeightTall}`]:{paddingTop:v.tall}}}},D=e=>({borderBottomColor:"transparent",backgroundColor:s.Ks.color(c).fade(e).toRGBA().toString()}),M=s.Ks.keyframes({from:B("100%"),to:B("50%")}),L={borderBottomWidth:"2px",borderBottomColor:`${o.Q1.CoreNeutral40}`,borderBottomStyle:"dotted",backgroundColor:"transparent"},$=s.Ks.keyframes({to:(0,r._)({},B("0%"),L)}),F=s.Ks.keyframes({from:D("100%"),to:D("50%")}),H={$nest:{[`&.${h.markHeightStandard}`]:{paddingTop:v.standard},[`&.${h.markHeightTall}`]:{paddingTop:v.tall},[`&:not(.${h.markSelected}):not(.${h.markSelectedFocused})`]:{$nest:{[`&.${h.clarity} &.${h.clarity}`]:{borderBottomStyle:"solid",borderBottomColor:o.Q1.CoreBlue50}}},[`&.${h.correctness}, &.${h.markSelected}, &.${h.markSelectedFocused}`]:{$nest:{[`.${h.markVisible}:not(.${h.markSelected}):not(.${h.markSelectedFocused}).${h.clarity} .${h.markVisible}:not(.${h.markSelected}):not(.${h.markSelectedFocused}).${h.clarity}`]:{}}},[`&.${h.clarity}`]:{$nest:{[`& & &:not(.${h.markSelected}):not(.${h.markSelectedFocused})`]:{borderBottomStyle:"hidden !important"}}}}},V={borderBottom:"0 solid transparent",background:"none",animation:"none"},W=(0,a.Bj)((()=>({custom(e,t){const n=s.Ks.color(e).fade(.25).toRGBA().toString(),r=s.Ks.keyframes(_(n));return[m,h.markBase,s.Ks.style(w(r,t,t,n)),l.b.style(w(r,t,t,n),f)].join(" ")},markBase:[h.markBase,s.Ks.style(g),l.b.style(g,{$nest:{"@media print":{borderBottomWidth:"3 !important"}}})].join(" "),markAppliedBase:[h.markAppliedBase,h.markBase,s.Ks.style({paddingBottom:`${d}`,borderBottom:`${u} solid ${c}`})].join(" "),correctness:[h.correctness,h.markBase,s.Ks.style(w(x,o.Q1.CoreRed20,o.Q1.CoreRed50,o.Q1.CoreRed10)),l.b.style(w(x,o.Q1.CoreRed20,o.Q1.CoreRed50,o.Q1.CoreRed10),f)].join(" "),premium:[h.premium,h.markBase,s.Ks.style(w(R,o.Q1.CoreYellow30,o.Q1.CoreYellow40,o.Q1.CoreYellow10)),l.b.style(w(R,o.Q1.CoreYellow30,o.Q1.CoreYellow40,o.Q1.CoreYellow10),f)].join(" "),clarity:[h.clarity,h.markBase,s.Ks.style(w(P,o.Q1.CoreBlue20,o.Q1.CoreBlue50,o.Q1.CoreBlue10)),l.b.style(w(P,o.Q1.CoreBlue20,o.Q1.CoreBlue50,o.Q1.CoreBlue10),f)].join(" "),markVisible:[h.markVisible,s.Ks.style(H),l.b.style(H)].join(" "),engagement:[h.engagement,h.markBase,s.Ks.style(w(N,o.Q1.CoreGreen20,o.Q1.CoreGreen50,o.Q1.CoreGreen10)),l.b.style(w(N,o.Q1.CoreGreen20,o.Q1.CoreGreen50,o.Q1.CoreGreen10),f)].join(" "),delivery:[h.delivery,h.markBase,s.Ks.style(w(O,o.Q1.CorePurple20,o.Q1.CorePurple50,o.Q1.CorePurple10)),l.b.style(w(O,o.Q1.CorePurple20,o.Q1.CorePurple50,o.Q1.CorePurple10),f)].join(" "),critical:[h.critical,h.markBase,s.Ks.style(w(S,o.Q1.CoreRed20,o.Q1.CoreRed50,o.Q1.CoreRed10)),l.b.style(w(S,o.Q1.CoreRed20,o.Q1.CoreRed50,o.Q1.CoreRed10),f)].join(" "),advanced:[h.advanced,h.markBase,s.Ks.style(w(C,o.Q1.CoreYellow30,o.Q1.CoreYellow40,o.Q1.CoreYellow10)),l.b.style(w(C,o.Q1.CoreYellow30,o.Q1.CoreYellow40,o.Q1.CoreYellow10),f)].join(" "),plagiarism:[h.plagiarism,h.markBase,s.Ks.style(w(I,o.Q1.CoreCyan20,o.Q1.CoreCyan50,o.Q1.CoreCyan10)),l.b.style(w(C,o.Q1.CoreCyan20,o.Q1.CoreCyan50,o.Q1.CoreCyan10),f)].join(" "),originality:[h.originality,h.markBase,s.Ks.style(w(T,o.Q1.CorePurple20,o.Q1.CorePurple50,o.Q1.CorePurple10)),l.b.style(w(O,o.Q1.CorePurple20,o.Q1.CorePurple50,o.Q1.CorePurple10),f)].join(" "),vox:[h.vox,h.markBase,s.Ks.style(w(A,o.Q1.CoreNeutral30,o.Q1.CoreNeutral50,o.Q1.CoreNeutral10)),l.b.style(w(A,o.Q1.CoreNeutral30,o.Q1.CoreNeutral50,o.Q1.CoreNeutral10),f)].join(" "),knowledgeHub:[h.knowledgeHub,h.markBase,s.Ks.style(w(E,o.Q1.CoreNeutral30,o.Q1.CoreNeutral50,o.Q1.CoreNeutral10)),l.b.style(w(E,o.Q1.CoreNeutral30,o.Q1.CoreNeutral50,o.Q1.CoreNeutral10),f)].join(" "),synonym:[h.synonym,h.markBase,s.Ks.style(w(k,o.Q1.CoreBlue50,"transparent",o.Q1.CoreBlue50)),l.b.style(w(k,o.Q1.CoreBlue50,"transparent",o.Q1.CoreBlue50),f)].join(" "),markAnimated:[h.markAnimated,s.Ks.style({animation:`${y} .075s ease`})].join(" "),markHidden:[h.markHidden,s.Ks.style(V),l.b.style(V)].join(" "),markBulkAppliedAnimation:[h.markBulkAppliedAnimation,h.markBase,s.Ks.style(B("100%"),L,{animation:`${M} 2s linear forwards,\n          ${$} .25s linear 2s forwards`})].join(" "),markBulkApplied:[h.markBulkApplied,h.markBase,s.Ks.style(w(K,o.Q1.CoreNeutral40,o.Q1.CoreGreen10,o.Q1.CoreGreen10),L)].join(" "),markApplied:[h.markApplied,s.Ks.style(B("100%"),{animation:`${M} .25s linear forwards`})].join(" "),markSuccess:[h.markSuccess,s.Ks.style(D("100%"),{animation:`${F} .25s linear forwards`})].join(" "),noAnimation:[h.noAnimation,s.Ks.style({animationDuration:"0s !important"})].join(" "),markSelected:h.markSelected,markSelectedFocused:h.markSelectedFocused,markHeightStandard:h.markHeightStandard,markHeightTall:h.markHeightTall,markStart:h.markStart,markVBar:h.markVBar,markVBarHighlighted:h.markVBarHighlighted,markWritingExpert:h.markWritingExpert,markWritingExpertCustom:()=>h.markWritingExpert,markWritingExpertHighlighted:h.markWritingExpertHighlighted,markWritingExpertHighlightedCustom:()=>h.markWritingExpertHighlighted})))},64191:(e,t,n)=>{n.d(t,{Rx:()=>k,q0:()=>x});var r=n(10334),i=n(17171),a=n(85886),o=n(80843),s=n(1395),l=n(27199),c=n(86922),u=n(19967),d=n(98831),p=n(65873),h=n(11864),m=n(4885),g=n(72747),f=n(55101);const y={position:"relative",width:h.Ks.percent(100)},v={position:"relative",margin:`0 0 ${h.Ks.rem(.5)}`},_={display:"flex",boxSizing:"border-box",padding:`${h.Ks.rem(1)} ${h.Ks.rem(2)} ${h.Ks.rem(1)} ${h.Ks.rem(.75)}`,width:h.Ks.percent(100),borderRadius:h.Ks.rem(g.H0),background:l.Q1.BackgroundNotification,color:l.Q1.CoreNeutral0,textAlign:"left",letterSpacing:0,alignItems:"flex-start"},b={width:h.Ks.percent(100)},w={display:"inline-block",width:h.Ks.percent(100)},S={margin:`${h.Ks.rem(-.5)} ${h.Ks.rem(.75)} ${h.Ks.rem(-.5)} 0`},C={position:"absolute",top:0,right:0,marginTop:h.Ks.rem(.5),marginRight:h.Ks.rem(.4),marginLeft:h.Ks.rem(.5)},I={stroke:m.aD},T={margin:`0 0 ${h.Ks.rem(.5)}`,color:l.Q1.CoreNeutral0,wordBreak:"break-word",fontWeight:"bold",fontSize:h.Ks.rem(l.EY.BodySize),lineHeight:h.Ks.rem(1.25)},A={marginTop:h.Ks.rem(-.1),marginBottom:h.Ks.rem(-.25),color:l.Q1.CoreNeutral0,fontSize:h.Ks.rem(l.EY.BodySize),lineHeight:h.Ks.rem(1.25)},E=h.Ks.prefixedStylesheet("notifications",{wrapper:[y],notification:[v],flexibleNotification:[v,{display:"flex",width:"auto"}],contentWrapper:[_],miniContentWrapper:[_,{position:"relative",width:"auto"}],fullWidthNotification:[v,_,b],content:[w],miniContent:[{flex:1}],alertIcon:[S],closeIconWrapper:[C],closeIcon:[I],header:[T],description:[A]});var k,x;!function(e){e.Wrapper=({notification:e,onClose:n,children:o,theme:s={}})=>{a.useEffect((()=>e.actions.next("shown")),[e.actions]);const l={wrapper:Boolean(s.wrapper)?s.wrapper:y.wrapper,content:void 0!==s.content?Object.assign({},y.content,s.content):y.content};return a.createElement("div",(0,i._)((0,r._)({},f.E.getAriaLiveProps(e)),{className:l.wrapper}),a.createElement(t,{metadata:e.metadata,onClose:n,theme:l.content},o))};var t=e.Base=({metadata:e,onClose:t,theme:r,children:i})=>a.createElement("div",{className:r.wrapper},n(e,r.icon),a.createElement("div",{className:r.content},i),!function(e){return e.priority===f.E.Priority.high||e.priority===f.E.Priority.highest}(e)&&a.createElement(h,{onClick:t,className:r.close}));const n=(e,t)=>{switch(e.icon){case f.E.Icon.sparkles:return a.createElement(d.In.Sparkles,{className:t});case void 0:case f.E.Icon.priority:return a.createElement(l,{priority:e.priority,className:t});default:return(0,s.xb)(e.icon)}};e.AdHoc=({title:e,children:t,className:n,onClose:r})=>a.createElement("div",(0,o.Ly)(y.content.wrapper,n),a.createElement("div",{className:y.content.content},a.createElement(m,{title:e},t)),a.createElement(h,{onClick:r,className:y.content.close}));var l=e.PriorityIcon=({priority:e,className:t})=>{switch(e){case f.E.Priority.lowest:case f.E.Priority.low:return a.createElement(d.In.NotificationInfo,{className:t});case f.E.Priority.average:return a.createElement(d.In.NotificationWarning,{className:t});case f.E.Priority.high:case f.E.Priority.highest:return a.createElement(d.In.NotificationError,{className:t});default:return(0,s.xb)(e)}},h=e.CloseButton=({onClick:e,className:t})=>{const n=a.useContext(c.S.Context);return a.createElement(u.$n,{name:"closeNotification","aria-label":n.actions.close,className:t,onClick:e},a.createElement(d.In.Close,{className:E.closeIcon,width:12}))},m=e.TitledContent=({title:e,children:t})=>Boolean(t)?a.createElement(a.Fragment,null,a.createElement(p.P1,{className:E.header},e),a.createElement(g,null,t)):a.createElement(p.P1,{className:E.description},e),g=e.Content=({children:e})=>a.createElement(p.C6,{className:E.description},e);const y={wrapper:E.wrapper,content:{wrapper:E.fullWidthNotification,icon:E.alertIcon,content:E.content,close:E.closeIconWrapper}}}(k||(k={})),function(e){e.Wrapper=({notification:e,onClose:t,children:n})=>(a.useEffect((()=>e.actions.next("shown")),[e.actions]),a.createElement("div",{className:E.flexibleNotification},a.createElement(k.Base,{metadata:e.metadata,onClose:t,theme:{wrapper:E.miniContentWrapper,icon:E.alertIcon,content:E.miniContent,close:E.closeIconWrapper}},n)))}(x||(x={}))},53987:(e,t,n)=>{n.d(t,{K:()=>r});var r,i=n(10334),a=n(17171);!function(e){var t=e.empty={cost:0,critical:0,advanced:0,free:0,freePremium:0,paid:0,unread:0,textLength:0,muted:0,priority:0};e.toUnmutedOnly=function(e){return 0===e.muted?e:(0,a._)((0,i._)({},t),{muted:e.muted})}}(r||(r={}))},889:(e,t,n)=>{n.d(t,{a:()=>r,l:()=>i});var r,i,a=n(7432);!function(e){e.is=e=>"string"==typeof e.meta.alertId,e.create=e=>a.vY.compose({alertId:e}),e.getRangeId=(e,t,n)=>`${e}|${t.btype}%${n}`,e.fromRangeIdToAlertId=function(e){const t=e.indexOf("|");return t<0?e:e.substring(0,t)}}(r||(r={})),function(e){let t;!function(e){let t,n;!function(e){e.REPLACE="r",e.HIGHLIGHT="h",e.HIGHLIGHT_UPDATABLE="hu",e.APPLIED="a",e.CONTEXT="ctx"}(t=e.Behavior||(e.Behavior={})),function(e){e.MAIN="m",e.FOCUS="f",e.ENCLOSING="e",e.MAIN_START="ms"}(n=e.View||(e.View={}))}(t=e.Meta||(e.Meta={}));var n=e.isAbstract=e=>{const n=e.meta.btype;return n===t.Behavior.REPLACE||n===t.Behavior.CONTEXT};e.isApplied=e=>e.meta.btype===t.Behavior.APPLIED,e.isVisible=e=>{const t=e;return"string"==typeof t.meta.btype&&!n(t)&&"string"==typeof t.meta.vtype},e.create=(e,t)=>a.vY.compose({btype:e,vtype:t}),e.hasBehavior=function(e){return t=>t.meta.btype===e};const r=e=>t=>i.isVisible(t)&&t.meta.vtype===e;e.isMainView=r(t.View.MAIN),e.isFocusView=r(t.View.FOCUS),e.isEnclosingView=r(t.View.ENCLOSING),e.isMainStartView=r(t.View.MAIN_START)}(i||(i={}))},63967:(e,t,n)=>{n.d(t,{Fc:()=>ye,Kz:()=>H,Zn:()=>se,HJ:()=>Q,Un:()=>re,bU:()=>V,Q_:()=>q,Ie:()=>Z,aR:()=>ae,rW:()=>J,z9:()=>pe,aW:()=>ce,us:()=>de,Hm:()=>W,zN:()=>he,Do:()=>z,vs:()=>Ie});var r=n(23988),i=n(10334),a=n(17171),o=n(45819),s=n(38886),l=n(84011),c=n(85982),u=n(83288),d=n(49490),p=n(46238),h=n(84647),m=n(95934),g=n(41318),f=n(87172),y=n(66799),v=n(38832),_=n(88105),b=n(32454),w=n(7432),S=n(65390),C=n(72896),I=n(66202),T=n(1395),A=n(13110),E=n(11623),k=n(18039),x=n(9896),R=n(89520),P=n(15990),N=n(24359),O=n(68074),K=n(91485),B=n(88761);class D{static register(e,t,n,r){return new D(e,t,n,r)}registerAlternatives(e){(0,T.V1)(!this._disposed,"Cannot call registerAlternatives method on disposed AlertAlternativeManager"),this.alternatives=(0,h.pipe)(e,A.Tj((e=>{const t=this._alternativesManager.registerAlternative(e,this._alertId);return this._alternativesMap.set(t.alternativeId,t),t})))}deregisterAlternatives(){return(0,T.V1)(!this._disposed,"Cannot call deregisterAlternatives method on disposed AlertAlternativeManager"),this._alternativesMap.forEach((e=>{this._alternativesMap.delete(e.alternativeId)&&this._alternativesManager.deregisterAlternative(e.alternativeId)})),this}registerReversedAlternative(e){return(0,h.pipe)(this._disposed,I.fromPredicate((e=>!e),(()=>new Error("Cannot call registerReversedAlternative method on disposed AlertAlternativeManager"))),I.map((()=>{const t=this._alternativesManager.registerAlternative(e,this._alertId);return()=>(0,h.pipe)(t.alternativeId,this._alternativesManager.getAlternative,I.map((e=>e.alternative)))})))}dispose(){(0,T.V1)(!this._disposed,"Cannot dispose already disposed AlertAlternativeManager"),this.deregisterAlternatives(),this._disposed=!0}constructor(e,t,n,i){(0,r._)(this,"_alternativesManager",void 0),(0,r._)(this,"_alertId",void 0),(0,r._)(this,"rev",void 0),(0,r._)(this,"_alternativesMap",void 0),(0,r._)(this,"_disposed",void 0),(0,r._)(this,"alternatives",void 0),this._alternativesManager=e,this._alertId=t,this.rev=n,this._alternativesMap=new Map,this._disposed=!1,this.registerAlternatives(i)}}var M=n(53987),L=n(889),$=n(53397);class F{static register(e,t,n,r,i){return new F(e,t,n,r,i)}_normalize(e){return 1===w.vY.size(e)?this._positionManager.widen(e):e}_getFirstRange(e){return this._rangesMap.get(this._ranges[e].values().next().value)}_getRanges(e){return Array.from(this._ranges[e]).map((e=>{const t=this._rangesMap.get(e);return Boolean(t)||this._log.warn("Got undefined range",{markId:e}),t})).filter(Boolean)}enqueueRanges(e,t,n){this._cleanupPendingRanges();const r=new Map;this._registerRanges(t.map(this._normalizeIfApplicable),(e=>this._pendingRanges.push(["highlight",e])),r,this._alertId),this._registerRanges(e,(e=>this._pendingRanges.push(["replace",e])),r),this._registerRanges(n,(e=>this._pendingRanges.push(["context",e])),r,this._alertId)}get pending(){return this._pendingRanges.length>0}_getPendingRanges(e){return this._pendingRanges.filter((([t])=>t===e)).map((([,e])=>this._rangesMap.get(e)))}hasMatchingPendingRanges(e,t,n){return this._getPendingRanges(t).some((t=>e.some((e=>n(e,t)))))}_deregisterRange(e){this._rangesMap.delete(e)&&this._positionManager.deregisterRange(e)}_cleanupPendingRanges(){this._pendingRanges.forEach((([e,t])=>this._deregisterRange(t))),this._pendingRanges=[]}applyPendingRangesUpdate(){if(!this.pending)return S.none;const e=this._getRanges("highlight");this._ranges.replace.forEach(this._deregisterByRangeId),this._ranges.context.forEach(this._deregisterByRangeId),this._ranges.replace.clear(),this._ranges.context.clear(),this._ranges.highlight.clear();const t=this._getPendingRanges("highlight");return this._pendingRanges.forEach((([e,t])=>this._ranges[e].add(t))),this._pendingRanges=[],this.highlightRanges=this._getRanges("highlight"),this.contextRanges=this._getRanges("context"),this.replaceRange=this._getFirstRange("replace"),S.some({addedHighlightedRanges:t,removedHighlightedRanges:[e,()=>{e.forEach((e=>this._deregisterRange(e.meta.id)))}]})}_registerRanges(e,t,n,r){e.forEach((e=>{let i;const a=`${e.start},${e.end}`;n&&n.has(a)?i=n.get(a):(i=L.a.getRangeId(this._alertId,e.meta,this._rangesIndex++),this._rangesMap.set(i,this._positionManager.registerRange(i,r?this._rangeCreator(e):e)),n&&n.set(a,i)),t(i)}))}registerJoinedAppliedRanges(){(0,h.pipe)(A.ci([...Array.from(this._ranges.highlight),...Array.from(this._ranges.replace)]),S.map(A.Tj((e=>this._rangesMap.get(e)))),S.map($.fold(w.vY.monoid)),S.map((e=>this._registerRanges((0,h.pipe)(e,L.l.create(L.l.Meta.Behavior.APPLIED,L.l.Meta.View.MAIN),this._positionManager.widen,s.of),(e=>this._ranges.applied.add(e))))))}registerHighlightRangesAsApplied(){const e=Array.from(this._ranges.highlight).map((e=>this._rangesMap.get(e))).map(L.l.create(L.l.Meta.Behavior.APPLIED,L.l.Meta.View.MAIN)).map(this._positionManager.widen);this._registerRanges(e,(e=>this._ranges.applied.add(e)))}get appliedRanges(){return(0,h.pipe)(this._getRanges("applied"),s.Tj((e=>()=>(0,h.pipe)(this._positionManager.narrow(e),S.getOrElse((()=>w.vY.create(e.start,e.start,e.meta)))))))}dispose(){this._rangesMap.forEach(((e,t)=>this._positionManager.deregisterRange(t))),this._rangesMap.clear()}constructor(e,t,n,i,a){(0,r._)(this,"_positionManager",void 0),(0,r._)(this,"_alertId",void 0),(0,r._)(this,"_log",void 0),(0,r._)(this,"_normalizeIfApplicable",void 0),(0,r._)(this,"_rangeCreator",void 0),(0,r._)(this,"_rangesMap",void 0),(0,r._)(this,"_ranges",void 0),(0,r._)(this,"_pendingRanges",void 0),(0,r._)(this,"_deregisterByRangeId",void 0),(0,r._)(this,"_rangesIndex",void 0),(0,r._)(this,"highlightRanges",void 0),(0,r._)(this,"contextRanges",void 0),(0,r._)(this,"replaceRange",void 0),this._positionManager=e,this._alertId=t,this._log=f.Bx.Logging.getLogger("AlertRangeManager",f.y7.$.DEBUG),this._normalizeIfApplicable=e=>L.l.isFocusView(e)?e:this._normalize(e),this._rangeCreator=L.a.create(this._alertId),this._rangesMap=new Map,this._ranges={highlight:new Set,replace:new Set,applied:new Set,context:new Set},this._pendingRanges=[],this._deregisterByRangeId=e=>!this._ranges.highlight.has(e)&&this._deregisterRange(e),this._rangesIndex=0,this._log.trace("register ranges for alert",t);const o=new Map;this._registerRanges(i.map(this._normalizeIfApplicable),(e=>this._ranges.highlight.add(e)),o,this._alertId),this._registerRanges(a,(e=>this._ranges.context.add(e)),o,this._alertId),this._registerRanges(n,(e=>this._ranges.replace.add(e)),o),this.highlightRanges=this._getRanges("highlight"),this.replaceRange=this._getFirstRange("replace"),this.contextRanges=this._getRanges("context")}}var H,V,W,G,U,q,j,z,Q,J,Y,Z,X=n(56330),ee=n(62597),te=n(11783);!function(e){e.api="api",e.sidebar="sidebar",e.text="text"}(H||(H={})),function(e){e.FullSentence="FullSentence",e.Simple="Simple",e.Regular="Regular",e.OneGap="OneGap",e.Takeaway="Takeaway",e.Synfony="Synfony",e.ShortenIt="shortenIt",e.ToneAI="ToneAI",e.EthicalAI="EthicalAI",e.SuggestedSnippet="SuggestedSnippet",e.Citation="Citation",e.CitationDetection="CitationDetection",e.WritingExpert="WritingExpert"}(V||(V={})),function(e){e.correctlyDetected="correctlyDetected",e.incorrectlyDetected="incorrectlyDetected"}(W||(W={})),(G=V||(V={})).parse=function(e){return y.tI.isFullSentence(e)?V.FullSentence:"true"===e.underline_with_teaser?V.WritingExpert:"true"===e.citation?V.Citation:void 0!==e.citation_detection?V.CitationDetection:"true"===e.transform_with_button?V.Simple:"true"===e.gap_transform?V.OneGap:void 0!==e.takeawayScore?V.Takeaway:void 0!==e.drilldownTree?V.Synfony:"true"===e.shorten_it?V.ShortenIt:void 0!==e.tone_slider?V.ToneAI:void 0!==e.ethical_ai_external_link?V.EthicalAI:void 0!==e.suggested_snippet_text&&void 0!==e.suggested_snippet_lib_link?V.SuggestedSnippet:V.Regular},G.isFullSentence=function(e){return e===V.FullSentence},G.isSimple=function(e){return e===V.Simple},G.isOneGap=function(e){return e===V.OneGap},G.isSynfony=function(e){return e===V.Synfony},G.isShortenIt=function(e){return e===V.ShortenIt},G.isToneAI=function(e){return e===V.ToneAI},G.isEthicalAI=function(e){return e===V.EthicalAI},G.isCitation=function(e){return e===V.Citation},G.isCitationDetection=function(e){return e===V.CitationDetection},G.isSuggestedSnippet=function(e){return e===V.SuggestedSnippet},G.isWritingExpert=function(e){return e===V.WritingExpert},function(e){const t=(0,h.flow)(s.di(u.contramap((e=>e.order))(u.ordNumber)),s.Tj((e=>({key:e.key,text:e.reason}))));e.parse=(0,h.flow)(S.fromNullable,S.map((e=>({question:e.question,options:t(e.options)}))))}(U||(U={})),function(e){e.parse=S.fromNullable,e.isVox=e=>"Vox"===e.categoryTitle}(q||(q={})),function(e){e.fromCapiExtraProperties=function(e){return{reactivationYellowUnderlines:"true"===e.reactivation_yellow_underlines,hasAddToDictionary:"true"===e.add_to_dict,didYouMean:"true"===e.did_you_mean,showTitle:"true"===e.show_title,isEnhancement:"true"===e.enhancement,isBeta:"true"===e.beta,priority:parseInt(Boolean(e.priority)?e.priority:"0",10),tone:o.Jq(S.option)({emojiId:S.fromNullable(e.emoji_id),name:S.fromNullable(e.tone)}),vox:(0,h.pipe)(S.fromNullable(e.voxCompanyName),S.map((t=>({companyName:t,logoUrl:S.fromNullable(e.voxLogoUrl)})))),fluencyMessage:S.fromNullable(e.fluency_message),cardType:V.parse(e),isInQuotes:"true"===e.in_quotes,bulkAcceptable:"true"===e.bulk_acceptable,takeaway:S.fromEither(de.parseExtraProps(e)),takeawayBundleId:(0,h.pipe)(S.fromNullable(e.takeaway_bundle_id),S.filter(C.z2)),shortenIt:(0,h.pipe)(S.fromEither(pe.parseExtraProps(e)),S.map((t=>(0,a._)((0,i._)({},t),{alertState:e.shorten_it_alert_state?{summaryState:J.SummaryState.fromString(e.shorten_it_alert_state.summaryState)}:void 0})))),toneAI:he.parseExtraProps(e),ethicalAI:me.parseExtraProps(e),freePremium:S.fromNullable(e.free_premium),premiumYellowFooterVariant:S.fromNullable(e.premium_yellow_footer_variant),occasionalPromotion:S.fromNullable(e.occasional_promotion),drilldownTree:S.fromNullable(e.drilldownTree),suggestedSnippet:(0,h.pipe)(o.Jq(S.option)({snippetText:S.fromNullable(e.suggested_snippet_text),libLink:S.fromNullable(e.suggested_snippet_lib_link)}),S.map((t=>(0,a._)((0,i._)({},t),{snippetsTrigger:S.fromNullable(e.snippet_trigger)})))),citationDetection:(0,h.pipe)(e.citation_detection,g.T0.citationType.decode,S.fromEither),citationGap:(0,h.pipe)(e.citation_gap,S.fromNullable,S.map((e=>"true"===e))),citationItalicization:(0,h.pipe)(e.citation_italicization,S.fromNullable,S.map((e=>"true"===e))),autoapply:(0,h.pipe)(S.fromNullable(e.autoapply),S.map((e=>"true"===e))),knowledgeHubTermCreationUrl:S.fromNullable(e.knowledgeHubTermCreationUrl),vbar:"true"===e.vbar,underlineWithTeaser:"true"===e.underline_with_teaser}}}(j||(j={})),function(e){e.isWithAlternative=function(e){return void 0!==e.reversedAlternative},e.mock={action:y.yp.LOOKED,commit:h.constVoid,undo:h.constVoid}}(z||(z={})),function(e){var t=e.ordId=u.contramap((e=>e.id))(u.ordString),n=e.ordHRange=u.contramap((e=>e.getHighlightRanges()[0]))(w.vY.ord);e.ord=u.getSemigroup().concat(n,t)}(Q||(Q={})),function(e){let t;!function(e){e.notRequested="notRequested",e.requestSent="requestSent",e.received="received",e.invalidated="invalidated",e.notFound="notFound"}(t=e.SummaryState||(e.SummaryState={})),(t=e.SummaryState||(e.SummaryState={})).fromString=function(e){switch(e){case t.notRequested:return t.notRequested;case t.requestSent:return t.requestSent;case t.received:return t.received;case t.notFound:return t.notFound;case t.invalidated:return t.invalidated;default:return}}}(J||(J={})),function(e){e.ToneSlider=m.YO(m.NW({emoji_id:m.Yj,name:m.Yj}))}(Y||(Y={})),function(e){const t=(0,h.constant)(c.pG(void 0));e.mock={_applyAlert:t,_applyTransformJson:t,_alertFeedback:t,_alertBatchFeedback:(0,h.constant)(h.constVoid),_dismissBatch:t,_releaseRef:t,_notifyAlertUpdated:t,_changeMuteState:(0,h.constant)(c.pG(I.right([]))),_changeGapValue:t,_confirmApplied:t,_changeTakeawayFeedback:e=>ye.isTakeaway(e)?c.pG(e):c.kb(new Error("Not a Takeaway alert")),_shortenItSummaryNotFound:e=>ye.isShortenIt(e)?c.pG(e):c.kb(new Error("Not a ShortenIt alert")),_commitShortenItSummaryRequest:e=>ye.isShortenIt(e)?c.pG(e):c.kb(new Error("Not a ShortenIt alert")),_dismissShortenItTransformGroup:(e,t)=>ye.isShortenIt(e)?c.pG(e):c.kb(new Error("Not a ShortenIt alert")),_changeToneAIToneAlternative:e=>ye.isToneAI(e)?c.pG(e):c.kb(new Error("Not a ToneAI alert"))}}(Z||(Z={}));const ne=(0,h.flow)(Number,O.w.prism.getOption,S.getOrElse((()=>O.w.MIN)));class re{static _createId(e){return`${e}_${(this.idCounter++).toString()}`}get rawId(){return te.P.isKnown(this._raw)?S.some(this._raw.id):S.none}get state(){return this._state}get patternName(){return this._raw.pname}get patternNameQualifier(){return this._raw.pnameQualifier}get inline(){return this._raw.inline}get freePremium(){return this.extraProperties.freePremium}get disposed(){return this._disposed}get isRead(){return this._isRead}set isRead(e){this._log.trace("isRead#"+this.version,String(e)),this.bumpVersion(),this._isRead=e}get version(){return this._version}get mute(){return this._mute}set mute(e){this._log.trace("mute#"+this.version,String(e)),this.bumpVersion(),this._mute=e}get todoAction(){return this._raw.todo}get miniCardTitle(){return this._raw.minicardTitle}_registerAll(e,t,n,r,i=!0){(0,h.pipe)(t,I.fold((e=>this._registerRanges(S.some(e),n,r)),(t=>{this._registerRanges(S.none,n,r),i&&(0,h.pipe)(t,S.fold(h.constVoid,(t=>this._registerAlternatives(e,t))))})))}_deregisterAllAlternatives(){this._alertAlternativeManager=(0,h.pipe)(this._alertAlternativeManager,re._disposeAltManager),this._pendingAlertAlternativeManager=(0,h.pipe)(this._pendingAlertAlternativeManager,re._disposeAltManager)}_deregisterRanges(){this._alertRangeManager.dispose()}bumpVersion(){this._version++}copy(e=!0){(0,T.V1)(ye.isNotDisposed(this),"Cannot copy disposed alert!",(()=>this.toString()));const t=new this.constructor(this._raw,this._ops,this._positionManager,this._alternativeManager,(0,h.pipe)(this._replaceEither,I.bimap(w.vY.copy,S.map(v.EF.Group.copy))),this.getHighlightRanges().map(w.vY.copy),(0,h.pipe)(this.getContextRanges(),A.ci,S.map(A.Tj(w.vY.copy))),this.isRead,this.version+1,e);return this.isValid||t.invalidate(),t.from=S.some(this.id),t}get isValid(){return this._isValid}validate(){(0,T.V1)(S.isSome(this.rawId),"Cannot validate local alert",(()=>this.toString())),this._isValid=!0}invalidate(){return this._isValid=!1,this}clearCapiId(){te.P.isKnown(this._raw)&&(this._raw=this.toLocalRawAlert())}silentPatchWithRawAlert(e){this._raw=e,this._mute=ye.MuteStateType.fromMutedByType(this._raw.muted),this.progress=ne(e.extra_properties.progress),this.extraProperties=j.fromCapiExtraProperties(e.extra_properties)}patchWithRawAlert(e){this._log.trace("patchWithRawAlert#"+this.version,e),this.bumpVersion(),this.silentPatchWithRawAlert(e)}updateAlertWithManagedData(e){(0,T.V1)(0===this.references,"Cannot update referenced alert, use enqueueRawAlertForUpdate instead"),this._deregisterRanges(),this._deregisterAllAlternatives(),this._registerAll(e.rev,(0,h.pipe)(Ce(e),I.map(S.map((e=>e.alternatives)))),be(e),Se(e)),this.patchWithRawAlert(e)}registerReversedAlternative(e){return(0,h.pipe)(this._alertAlternativeManager,S.chain((0,h.flow)((t=>t.registerReversedAlternative(e)),I.mapLeft((t=>(this._log.error("Could not register reversed alternative",{error:t,reversedAlternative:e}),t))),S.fromEither)))}_registerAppliedRanges(){(0,h.pipe)(this._replaceEither,I.fold((()=>{this._alertRangeManager.registerJoinedAppliedRanges()}),(()=>{this._alertRangeManager.registerHighlightRangesAsApplied(),(0,h.pipe)(this._alertAlternativeManager,S.map((e=>e.deregisterAlternatives())))})))}switchToBeingAppliedState(e,t){(0,T.V1)(!ye.isApplied(this)&&!ye.isBeingApplied(this),"can not apply already applied or being applied alert",(()=>JSON.stringify({alert:this,source:e,method:t}))),ye.isRemoved(this)&&this._log.warn("Trying to switch removed to applied state",{alert:this,source:e,method:t}),this._registerAppliedRanges();const n=this.changeState(ye.State.Applied.createBeingApplied(e,t,B.Y.create(this))),r=this.getHighlightRanges().map(w.vY.copy),i=(0,h.pipe)(this.getContextRanges(),A.ci,S.map(A.Tj(w.vY.copy)));return{beingAppliedAlert:n,undo:()=>{ye.isRemoved(this)||ye.isBulkApplied(this)||this._registerAll(this._raw.rev,(0,h.pipe)(this.getReplaceEither(),I.map(S.map(A.Tj((e=>e.alternative))))),r,i)}}}apply(e){const{alternativeIndex:t,feedbackSubtype:n,source:r,reason:i,gbPrompt:a}=e;(0,T.V1)(ye.isNotDisposed(this),"Cannot apply already disposed alert",(()=>this.toString())),(0,h.pipe)(this._replaceEither,I.fold((()=>this._ops._applyAlert({alert:this,replacementText:(0,h.pipe)(ye.getReplacementText(this,t)(),E.$v),source:r,method:ye.State.Applied.Method.ByCard,feedbackSubtype:n,reason:i,gbPrompt:a})),(()=>this._ops._applyTransformJson({alerts:[{alert:this,alternative:ye.getApplicableAlternative(this,t)}],source:r,method:ye.State.Applied.Method.ByCard,feedbackSubtype:n,drilldownSuggestionIds:e.drilldownSuggestionIds,reason:i,gbPrompt:a}))),c.WL((e=>()=>{throw e})))()}equals(e){return Q.ordId.equals(this,e)}hashCode(){return(0,K.CG)(this.id)}isSameType(e){return this.patternName===e.patternName&&this.patternNameQualifier===e.patternNameQualifier&&this.title===e.title&&this.lensType===e.lensType&&this._raw.free===e._raw.free&&this.lensId===e.lensId}enqueueRawAlertForUpdate(e){(0,T.V1)((0,h.pipe)(this.rawId,k.Lw((t=>t===e.id))),`Cannot update alert with different id, this: ${(0,h.pipe)(this.rawId,S.toNullable)}, that: ${e.id}`);const t=Ce(e);(0,T.V1)(I.isLeft(t)&&I.isLeft(this._replaceEither)||I.isRight(t)&&I.isRight(this._replaceEither),"Cannot change replace type on the go"),this._sanityCheck(e),this.patchWithRawAlert(e),this.highlightTexts=e.highlightText,(0,h.pipe)(t,I.fold((t=>{this._alertRangeManager.enqueueRanges([t],be(e),[])}),(t=>{this._alertRangeManager.enqueueRanges([],be(e),(0,h.pipe)(e,Se,S.getOrElse((()=>[])))),(0,h.pipe)(this._pendingAlertAlternativeManager,S.map((e=>e.dispose()))),this._pendingAlertAlternativeManager=(0,h.pipe)(t,S.map((t=>D.register(this._alternativeManager,this.id,e.rev,t.alternatives))))})))}get hasNewRangesForUpdate(){return this._alertRangeManager.pending}applyPendingRangesUpdate(){const e=B.Y.create(this);this._log.trace("applyPendingRangesUpdate#"+this.version),this.bumpVersion(),(0,h.pipe)(this._pendingAlertAlternativeManager,k.Mi((()=>{(0,h.pipe)(this._alertAlternativeManager,S.map((e=>e.dispose()))),this._alertAlternativeManager=this._pendingAlertAlternativeManager,this._pendingAlertAlternativeManager=S.none})));const t=this._alertRangeManager.applyPendingRangesUpdate(),n=B.Y.create(this);return(0,h.pipe)(this._ops._notifyAlertUpdated(Ie.create(e,n))(),I.mapLeft(this._log.handler("Could not update alert when applying pending ranges update").error)),t}hasMatchingHighlightsWith(e,t){return this.hasNewRangesForUpdate?this._alertRangeManager.hasMatchingPendingRanges(e.getHighlightRanges(),"highlight",t):this.getHighlightRanges().some((n=>e.getHighlightRanges().some((e=>t(n,e)))))}canBeMergedWith(e){return ye.isRemoved(this)?this.allowUpdate&&this.isSameType(e)&&this.hasMatchingHighlightsWith(e,w.vY.isOverlap)&&this.state.reason===ye.State.Removed.Reason.capiDone:this.hasMatchingHighlightsWith(e,w.vY.ord.equals)&&x.qm(this.highlightTexts,e.highlightTexts,((e,t)=>e===t))&&this.isSameType(e)}changeState(e){return this._log.trace("changeState#"+this.version,e),this.bumpVersion(),this._state=e,this}enqueueRangesRemove(e){const t=t=>!e.has(t);return this._alertRangeManager.enqueueRanges((0,h.pipe)(this.getReplaceEither(),I.fold((e=>[e]),(()=>[]))),this.getHighlightRanges().filter(t),this.getContextRanges().filter(t)),this}toString(){return"Alert: "+JSON.stringify(this.toJSON(),void 0,0)}toLiteString(){return`aid:${this.id} rid:${S.toNullable(this.rawId)}`}toJSON(){return(0,a._)((0,i._)({id:this.id,rawId:(0,h.pipe)(this.rawId,S.getOrElse((()=>"unknown"))),hranges:this.getHighlightRanges()},(0,h.pipe)(this.getReplaceEither(),I.fold((e=>({rrange:e})),(e=>({alts:(0,h.pipe)(e,S.map(s.Tj((e=>e.alternative.ops.map(v.hI.anonymize)))),S.toUndefined)}))))),{arange:(0,h.pipe)(this.getAppliedRanges(),S.fromPredicate(C.z2),S.toNullable),lensId:this.lensId,lensType:this.lensType,category:this._raw.category,patternName:this._raw.pname,patternNameQualifier:this._raw.pnameQualifier,impact:this._raw.impact,isValid:this._isValid,state:this.state.type,references:this._refNames,disposed:this._disposed,view:this._raw.view})}toLocalRawAlert(){return te.P.toLocal(this.toRawAlert())}toRawAlert(){const e=this.getHighlightRanges().map((e=>I.getOrElse((t=>(this._log.info("Alert cannot be restored",t),w.vY.copy(e))))(w.IL.restore(e)))),t=R.yo(this._raw,(0,i._)({isRead:this.isRead,muted:this._mute===ye.MuteStateType.Muted?y.xD.MutedByType.MUTED_BY_USER:void 0},(0,h.pipe)(this.getReplaceEither(),I.fold((e=>({begin:e.start,end:e.end})),(()=>({}))))));return R.yo(t,y.tI.match(this._raw,(()=>({highlightBegin:e[0].start,highlightEnd:e[0].end})),(t=>({transformJson:y.r5.create({alternatives:(0,h.pipe)(t.transformJson.alternatives,S.chain((()=>(0,h.pipe)(A.ci(this.getContextRanges())))),S.map(A.Tj((e=>({s:e.start,e:e.end})))),S.chain((e=>(0,h.pipe)(this.getReplaceEither(),E.$v,S.map((t=>({context:e,alternatives:(0,h.pipe)(t,A.Tj((e=>e.alternative)))}))))))),highlights:e.map((e=>({s:e.start,e:e.end,type:e.meta.vtype===L.l.Meta.View.FOCUS?"focus":e.meta.vtype===L.l.Meta.View.ENCLOSING?"enclosing":e.meta.vtype===L.l.Meta.View.MAIN_START?"main_start":"main"})))})})),(()=>({}))))}toLiteAlert(){return{group:this._raw.group,category:this._raw.category,categoryHuman:this._raw.categoryHuman,bundleInfo:(0,h.pipe)(this.bundleInfo,S.map((e=>e.title))),lensName:this.lensName,cost:1}}toLensAlert(){return{lensName:this._raw.cardLayout.group,isFree:this._raw.free,cost:1}}takeReference(e){return this._disposed?I.left(new T.zU("Can not take reference for already disposed",this.id)):-1!==this._refNames.indexOf(e)?I.left(new T.zU("can not take ref for same from twice",e)):(this._refNames.push(e),I.right({dispose:(0,h.pipe)((()=>x.o2(e,this._refNames)),l.g$(this._ops._releaseRef(e,this)),c.AU((e=>()=>this._log.error("Could not release ref",e)),h.constant),p.fromIO,p.delay(0))}))}dispose(){return this._log.isEnabled(f.y7.$.TRACE)&&this._log.trace("dispose alert call",new Error(`Alert(${this.toLiteString()})`).stack),(0,T.V1)(ye.isNotDisposed(this),"Cannot dispose already disposed",this.id),(0,T.V1)(0===this.references,"Cannot dispose alert in use",this.id),this._disposed=!0,this._deregisterAllAlternatives(),this._deregisterRanges(),this}switchToApplied(e){return(0,T.V1)(ye.State.Type.BEING_APPLIED===this.state.type,"Only being applied alert can be transitioned to applied"),this.changeState(ye.State.Applied.fromBeingApplied(this.state,e))}onRangeChange(e){return(0,T.V1)(ye.isNotDisposed(this),"Cannot change range on disposed alert!",(()=>this.toString())),ye.isApplied(this)&&e.some(L.l.hasBehavior(L.l.Meta.Behavior.APPLIED))||(()=>(e.some(L.l.hasBehavior(L.l.Meta.Behavior.HIGHLIGHT))||e.some(L.l.hasBehavior(L.l.Meta.Behavior.HIGHLIGHT_UPDATABLE))&&ye.highlightsCollapsed(this))&&!ye.isBulkApplied(this))()?S.some({state:ye.Transition.State.Dispose}):ye.isRegistered(this)&&e.some(L.l.hasBehavior(L.l.Meta.Behavior.CONTEXT))?S.some({state:ye.Transition.State.Pending,removedRanges:new Set}):S.none}_registerRanges(e,t,n){Boolean(this._alertRangeManager)&&this._alertRangeManager.dispose(),this._alertRangeManager=F.register(this._positionManager,this.id,(0,h.pipe)(e,S.fold((()=>[]),(e=>[e]))),t,(0,h.pipe)(n,S.getOrElse((()=>[]))))}get references(){return this._refNames.length}static castApplied(e){return(0,T.V1)(ye.isApplied(e),"can not cast not applied alert",(()=>e.toString())),e}constructor(e,t,n,i,a=Ce(e),s=be(e),l=Se(e),c=!0===e.isRead,u=0,d=!0){var p,m,g;(0,r._)(this,"_raw",void 0),(0,r._)(this,"_ops",void 0),(0,r._)(this,"_positionManager",void 0),(0,r._)(this,"_alternativeManager",void 0),(0,r._)(this,"_replaceEither",void 0),(0,r._)(this,"_isRead",void 0),(0,r._)(this,"_version",void 0),(0,r._)(this,"_log",void 0),(0,r._)(this,"_disposed",void 0),(0,r._)(this,"id",void 0),(0,r._)(this,"priority",void 0),(0,r._)(this,"progress",void 0),(0,r._)(this,"extraProperties",void 0),(0,r._)(this,"dismissSurvey",void 0),(0,r._)(this,"acceptSurvey",void 0),(0,r._)(this,"gbPrompt",void 0),(0,r._)(this,"result",void 0),(0,r._)(this,"_state",void 0),(0,r._)(this,"belongsToAllAlerts",void 0),(0,r._)(this,"lensType",void 0),(0,r._)(this,"lensName",void 0),(0,r._)(this,"isFree",void 0),(0,r._)(this,"lensPriority",void 0),(0,r._)(this,"from",void 0),(0,r._)(this,"highlightTexts",void 0),(0,r._)(this,"replaceText",void 0),(0,r._)(this,"bundleInfo",void 0),(0,r._)(this,"prediction",void 0),(0,r._)(this,"allowUpdate",void 0),(0,r._)(this,"_mute",void 0),(0,r._)(this,"muteCategory",void 0),(0,r._)(this,"_isValid",void 0),(0,r._)(this,"_sanityCheck",void 0),(0,r._)(this,"_alertRangeManager",void 0),(0,r._)(this,"_alertAlternativeManager",void 0),(0,r._)(this,"_pendingAlertAlternativeManager",void 0),(0,r._)(this,"view",void 0),(0,r._)(this,"getHighlightRanges",void 0),(0,r._)(this,"getNotEnclosingHighlightRanges",void 0),(0,r._)(this,"getContextRanges",void 0),(0,r._)(this,"getReplaceEither",void 0),(0,r._)(this,"getAppliedRanges",void 0),(0,r._)(this,"_registerAlternatives",void 0),(0,r._)(this,"_refNames",void 0),this._raw=e,this._ops=t,this._positionManager=n,this._alternativeManager=i,this._replaceEither=a,this._isRead=c,this._version=u,this._log=Te("BaseAlert.impl",f.y7.$.DEBUG),this._disposed=!1,this.id=re._createId((0,h.pipe)(this.rawId,S.getOrElse((()=>"local")))),this.priority=0,this.progress=ne(this._raw.extra_properties.progress),this.extraProperties=j.fromCapiExtraProperties(this._raw.extra_properties),this.dismissSurvey=U.parse((null===(p=this._raw.userReasonSurveys)||void 0===p?void 0:p.find((e=>"dismiss"===e.action)))||this._raw.userReasons),this.acceptSurvey=U.parse(null===(m=this._raw.userReasonSurveys)||void 0===m?void 0:m.find((e=>"accept"===e.action))),this.gbPrompt=q.parse(this._raw.gbPrompt),this.result=S.fromNullable(this._raw.result),this._state=ye.State.init,this.belongsToAllAlerts=!1,this.lensType=ee.J.Type.fromRawAlert(this._raw),this.lensName=this._raw.cardLayout.group,this.isFree=this._raw.free,this.lensPriority=Boolean(this._raw.cardLayout)&&this._raw.cardLayout.rank||0,this.from=S.none,this.highlightTexts=this._raw.highlightText,this.replaceText=this._raw.text,this.bundleInfo=(0,h.pipe)(S.fromNullable(this._raw.cardLayout.bundle),S.map((e=>({title:e,rank:Boolean(this._raw.cardLayout.bundleRank)?this._raw.cardLayout.bundleRank:Number.MAX_SAFE_INTEGER})))),this.prediction=S.fromNullable(this._raw.cardLayout.prediction),this.allowUpdate=!0===this._raw.updatable,this._mute=ye.MuteStateType.fromMutedByType(this._raw.muted),this.muteCategory=o.Jq(S.option)({id:(0,h.pipe)(S.fromNullable(this._raw.cardLayout.userMuteCategory),S.map((e=>e))),description:S.fromNullable(this._raw.cardLayout.userMuteCategoryDescription)}),this._isValid=!1,this._sanityCheck=(g=this._raw,y.tI.match(g,(()=>e=>{(0,T.V1)(y.tI.withPosition(e),"raw alert should be withPosition"),void 0!==e.transforms&&(0,T.V1)(e.transforms.length===e.replacements.length,`Every transform should have replacement, bro, tr: ${e.transforms}, rep: ${e.replacements}. AlertId: ${e.id}`)}),(()=>e=>(0,T.V1)(y.tI.withTransformJson(e),"raw alert should be withTransform")),(()=>e=>{(0,T.V1)(y.tI.withSubalerts(e),"raw alert should be withSubalerts"),(0,T.V1)((0,h.pipe)(e.subalerts.alternatives,k.Lw((t=>t.alternatives.length===e.labels.length))),"SuperAlert doesnt have any labels OR transformJson alternatives length is not equal to the number of labels",(()=>e.toString()))}))),this._alertAlternativeManager=S.none,this._pendingAlertAlternativeManager=S.none,this.view=Boolean(this._raw.view)?this._raw.view:y.tI.View.all,this.getHighlightRanges=()=>this._alertRangeManager.highlightRanges,this.getNotEnclosingHighlightRanges=()=>this._alertRangeManager.highlightRanges.filter((0,C.AU)(L.l.isEnclosingView)),this.getContextRanges=()=>this._alertRangeManager.contextRanges,this.getReplaceEither=()=>(0,h.pipe)(this._replaceEither,I.bimap((()=>this._alertRangeManager.replaceRange),(()=>(0,h.pipe)(this._alertAlternativeManager,S.map((e=>e.alternatives)))))),this.getAppliedRanges=()=>this._alertRangeManager.appliedRanges,this._registerAlternatives=(e,t)=>{this._deregisterAllAlternatives(),this._alertAlternativeManager=S.some(D.register(this._alternativeManager,this.id,e,t))},this._refNames=[],this._sanityCheck(e),this._registerAll(e.rev,(0,h.pipe)(a,I.map(S.map((e=>e.alternatives)))),s,l,d)}}(0,r._)(re,"idCounter",0),(0,r._)(re,"_disposeAltManager",S.chain((e=>(e.dispose(),S.none))));class ie extends re{get counters(){return{cost:1,critical:0,advanced:1,priority:0,free:0,freePremium:0,paid:1,unread:0,muted:0,textLength:0}}constructor(...e){super(...e),(0,r._)(this,"title",""),(0,r._)(this,"lensId",ee.J.SpecialId.Premium),(0,r._)(this,"alertType",ye.Type.Premium),(0,r._)(this,"group",this._raw.group),(0,r._)(this,"category",this._raw.category),(0,r._)(this,"isFree",this._raw.free),(0,r._)(this,"categoryHuman",this._raw.categoryHuman),(0,r._)(this,"allowDuplicates",!0),(0,r._)(this,"hasNestedHighlights",!1),(0,r._)(this,"_isRead",!0),(0,r._)(this,"labels",[]),(0,r._)(this,"transform",S.none)}}class ae extends re{_parsePlagiarismExtraProps(e){var t,n,r;return"PUBLICATION"===e.source?{source:"publication",authors:S.fromNullable(e.authors),citationStyle:{apa:null!==(t=e.reference_apa)&&void 0!==t?t:"",chicago:null!==(n=e.reference_chicago)&&void 0!==n?n:"",mla:null!==(r=e.reference_mla)&&void 0!==r?r:""},paraphrased:"true"===e.paraphrased}:{source:"web",url:S.fromNullable(e.url),paraphrased:"true"===e.paraphrased}}constructor(...e){var t;super(...e),(0,r._)(this,"lensType",ee.J.Type.Plagiarism),(0,r._)(this,"lensId",ee.J.SpecialId.Plagiarism),(0,r._)(this,"alertType",ye.Type.Plagiarism),(0,r._)(this,"allowDuplicates",!0),(0,r._)(this,"hasNestedHighlights",!1),(0,r._)(this,"counters",{cost:1,priority:0,critical:0,advanced:0,free:0,freePremium:0,paid:0,unread:0,muted:ye.isMuted(this)?1:0,textLength:this._raw.highlightText.map((e=>e.length)).reduce(C.cz,0)}),(0,r._)(this,"plagiarismType",this._parsePlagiarismExtraProps(this._raw.extra_properties)),(0,r._)(this,"title",null!==(t=this._raw.extra_properties.title)&&void 0!==t?t:""),(0,r._)(this,"labels",[]),(0,r._)(this,"cardId",JSON.stringify({title:this.title,source:this.plagiarismType.source})),(0,r._)(this,"_isRead",!0),(0,r._)(this,"transform",S.none)}}class oe extends re{get title(){return this._raw.title}get details(){return P.L.string(this._raw.details)}get counters(){if(ye.isBulkApplied(this))return M.K.empty;const e=this._raw.impact===y.tI.Impact.Critical?1:0,t=this._raw.impact===y.tI.Impact.Advanced?1:0,n=this._raw.free?1:0,r="unlocked"===this._raw.extra_properties.free_premium?1:0,i=this._raw.free?0:1;return{cost:1,priority:ye.isPriority(this)?1:0,critical:e,advanced:t,free:n,freePremium:r,paid:i,unread:Number(!this.isRead),textLength:0,muted:ye.isMuted(this)?1:0}}get transform(){return(0,h.pipe)(this.getReplaceEither(),I.fold((()=>(0,h.pipe)(this._raw.replacements,N.FM,S.map((e=>(0,h.pipe)(this._raw.transforms,N.FM,S.fold((()=>({kind:"replacement",content:e})),(e=>({kind:"transform",content:e}))),I.left))))),(0,h.flow)(S.map(A.Tj((e=>e.alternative))),S.map((e=>I.right({cardType:this.extraProperties.cardType,drilldown:this.extraProperties.drilldownTree,alternatives:e}))))),S.map((e=>({id:this.id,revision:(0,h.pipe)(this._alertAlternativeManager,S.fold((()=>this._raw.rev),(e=>e.rev))),todo:this._raw.todo,content:e}))))}onRangeChange(e){(0,T.V1)(ye.isNotDisposed(this),"Cannot change range on disposed alert!",(()=>this.toString()));const t=e.filter(L.l.hasBehavior(L.l.Meta.Behavior.HIGHLIGHT_UPDATABLE));return t.length>0&&!ye.highlightsCollapsed(this)?S.some({state:ye.Transition.State.Pending,removedRanges:new Set(t.filter(L.l.isFocusView))}):super.onRangeChange(e)}enqueueRawAlertForUpdate(e){super.enqueueRawAlertForUpdate(e),this.explanation=e.explanation}copy(e=!0){const t=super.copy(e);return t.explanation=this.explanation,t}constructor(...e){super(...e),(0,r._)(this,"lensId",E.$v(ee.J.OutcomeId.toOutcomeId(this._raw.cardLayout.outcome))),(0,r._)(this,"allowDuplicates",!1),(0,r._)(this,"hasNestedHighlights",ye.hasNestedHighlights(this)),(0,r._)(this,"isFree",this._raw.free),(0,r._)(this,"explanation",this._raw.explanation),(0,r._)(this,"examples",X.R.parse(this._raw.examples,this._raw.point.includes("Italicization"))),(0,r._)(this,"priority",this.extraProperties.priority),(0,r._)(this,"belongsToAllAlerts",!0),(0,r._)(this,"labels",this._raw.replacements.map((e=>({label:e,replacementTexts:[e],matches:1}))))}}class se extends oe{constructor(...e){super(...e),(0,r._)(this,"alertType",ye.Type.Default)}}class le extends oe{constructor(...e){super(...e),(0,r._)(this,"alertType",ye.Type.Synfony)}}class ce extends oe{enqueueRawAlertForUpdate(e){super.enqueueRawAlertForUpdate(e),this.labels=e.labels}updateAlertWithManagedData(e){super.updateAlertWithManagedData(e),this.labels=e.labels}constructor(...e){super(...e),(0,r._)(this,"labels",this._raw.labels),(0,r._)(this,"alertType",ye.Type.Super)}}class ue extends se{get gapValue(){return this._gapValue}changeGapValue(e){return this.bumpVersion(),this._gapValue=e,this}copy(e=!0){const t=super.copy(e);return t._gapValue=this._gapValue,t}constructor(...e){super(...e),(0,r._)(this,"_gapValue","")}}class de extends oe{setFeedback(e){return this.bumpVersion(),this._takeawayFeedback=S.some(e),this}get takeawayScore(){return this._takeawayScore}get takeawayIsLikelyToBeRead(){return this._takeawayIsLikelyToBeRead}get takeawayFeedback(){return this._takeawayFeedback}get miniCardTitle(){return this._miniCardTitle}get title(){return this._title}get details(){return this._details}enqueueRawAlertForUpdate(e){super.enqueueRawAlertForUpdate(e),this._miniCardTitle=e.minicardTitle,this._title=e.title,this._details=P.L.string(e.details),(0,h.pipe)(de.parseExtraProps(e.extra_properties),I.fold((e=>{throw new Error(`Cannot update Takeaway alert: ${e}`)}),(e=>{this._takeawayScore=e.score,this._takeawayIsLikelyToBeRead=e.isLikelyToBeRead,this._takeawayFeedback=e.feedbackState})))}copy(e=!0){const t=super.copy(e);return t._takeawayScore=this._takeawayScore,t._takeawayIsLikelyToBeRead=this._takeawayIsLikelyToBeRead,t._takeawayFeedback=this._takeawayFeedback,t._miniCardTitle=this._miniCardTitle,t._title=this._title,t._details=this._details,t}static parseExtraProps(e){return(0,h.pipe)(I.fromNullable("takeawayScore is missing")(e.takeawayScore),I.map((t=>({score:parseFloat(t),isLikelyToBeRead:(0,h.pipe)(S.fromNullable(e.isLikelyToReadTakeaway),S.fold(h.constFalse,(e=>"true"===e))),feedbackState:(0,h.pipe)(S.fromNullable(e.takeawayFeedback),S.chain((e=>e===W.correctlyDetected?S.some(W.correctlyDetected):e===W.incorrectlyDetected?S.some(W.incorrectlyDetected):(0,T.xb)(e))))}))))}static calculateHashCode(e){return(0,K.CG)(`${e.id}-${S.getShow(d.N4).show(e.takeawayFeedback)}-${e.takeawayIsLikelyToBeRead}-${e.title}-${e.miniCardTitle}-${e.explanation}-${e.details}`)}constructor(e,t,n,i){super(e,t,n,i),(0,r._)(this,"_raw",void 0),(0,r._)(this,"_ops",void 0),(0,r._)(this,"_positionManager",void 0),(0,r._)(this,"_alternativeManager",void 0),(0,r._)(this,"alertType",void 0),(0,r._)(this,"_takeawayScore",void 0),(0,r._)(this,"_takeawayIsLikelyToBeRead",void 0),(0,r._)(this,"_takeawayFeedback",void 0),(0,r._)(this,"_miniCardTitle",void 0),(0,r._)(this,"_title",void 0),(0,r._)(this,"_details",void 0),this._raw=e,this._ops=t,this._positionManager=n,this._alternativeManager=i,this.alertType=ye.Type.Takeaway,this._takeawayScore=0,this._takeawayIsLikelyToBeRead=!1,this._takeawayFeedback=S.none,this._miniCardTitle="",this._title="",this._details=S.none,(0,h.pipe)(this.extraProperties.takeaway,k.Mi((e=>{this._takeawayScore=e.score,this._takeawayIsLikelyToBeRead=e.isLikelyToBeRead,this._takeawayFeedback=e.feedbackState}))),this._miniCardTitle=e.minicardTitle,this._title=e.title,this._details=P.L.string(e.details)}}class pe extends oe{get todoAction(){return this._todoAction}get sentenceCount(){return this._sentenceCount}get wordCount(){return this._wordCount}get compressionRatio(){return this._compressionRatio}get summaryState(){return this._summaryState}get dismissedTransformGroups(){return this._dismissedTransformGroups}get transformGroups(){return(0,h.pipe)(this.transform,S.chain((e=>S.fromEither(e.content))),S.map((e=>(0,h.pipe)(e.alternatives,A.d5))),S.map((e=>v.EF.getTransformGroups(e))),S.getOrElse((()=>new Set)))}changeSummaryState(e){const t=(0,h.pipe)(e,(e=>{switch(e){case"requestSent":return J.SummaryState.requestSent;case"notFound":return J.SummaryState.notFound;default:(0,T.xb)(e)}}));return this.bumpVersion(),this._summaryState=t,this}dismissTransformGroup(e){if(!this._dismissedTransformGroups.has(e)){this._dismissedTransformGroups.add(e);const t=this._deleteRangesGroups.findIndex((t=>t===e));if(t>=0){this._deleteRangesGroups.splice(t,1);const e=t+1,n=this.getHighlightRanges();(0,T.V1)(e<n.length,"range to remove is out of bounds"),this.enqueueRangesRemove(new Set([n[e]]))}this.bumpVersion()}return this}_enqueueRawAlertTransformForUpdate(e){const t=Ce(e);(0,T.V1)(I.isRight(t)&&I.isRight(this._replaceEither),"Cannot change replace type on the go"),this._replaceEither=t,this.highlightTexts=e.highlightText,this._deleteRangesGroups=(0,h.pipe)(this._replaceEither,I.fold((()=>[]),S.fold((()=>[]),(e=>v.EF.getDeleteOpsGroupsList(e.alternatives[0]))))),(0,h.pipe)(this._replaceEither,I.map((t=>{this._alertRangeManager.enqueueRanges([],be(e),(0,h.pipe)(e,Se,S.getOrElse((()=>[])))),(0,h.pipe)(this._pendingAlertAlternativeManager,S.map((e=>e.dispose()))),this._pendingAlertAlternativeManager=(0,h.pipe)(t,S.map((t=>D.register(this._alternativeManager,this.id,e.rev,t.alternatives))))})))}enqueueRawAlertForUpdate(e){(0,T.V1)((0,h.pipe)(this.rawId,k.Lw((t=>t===e.id))),`Cannot update alert with different id, this: ${(0,h.pipe)(this.rawId,S.toNullable)}, that: ${e.id}`),this._sanityCheck(e),this.patchWithRawAlert(e),(0,h.pipe)(this.extraProperties.shortenIt,k.Mi((e=>{this._sentenceCount=e.sentenceCount,this._wordCount=e.wordCount,this._compressionRatio=e.compressionRatio})));let t=!1;switch(this._summaryState){case J.SummaryState.notRequested:break;case J.SummaryState.requestSent:y.tI.withAlternatives(e)?(this._summaryState=J.SummaryState.received,this._dismissedTransformGroups=new Set):t=!0;break;case J.SummaryState.received:y.tI.withAlternatives(e)||(this._summaryState=J.SummaryState.invalidated,t=!0);break;case J.SummaryState.invalidated:t=!0;break;case J.SummaryState.notFound:break;default:(0,T.xb)(this._summaryState)}t||(this.explanation=e.explanation,this._todoAction=e.todo,this._enqueueRawAlertTransformForUpdate(e))}copy(e=!0){const t=super.copy(e);return t._sentenceCount=this._sentenceCount,t._wordCount=this._wordCount,t._compressionRatio=this._compressionRatio,t._todoAction=this._todoAction,t._summaryState=this._summaryState,t._dismissedTransformGroups=new Set(this._dismissedTransformGroups),t._deleteRangesGroups=this._deleteRangesGroups,t}static parseExtraProps(e){var t,n;return(0,h.pipe)(e.shorten_it,I.fromPredicate((e=>"true"===e),(0,h.constant)("not a ShortenIt alert")),I.chain((()=>o.Jq(I.either)({sentenceCount:(0,h.pipe)(E.Su(null!==(t=e.sentence_count)&&void 0!==t?t:""),I.mapLeft((0,h.constant)(`invalid sentence_count: got ${e.sentence_count}`))),wordCount:(0,h.pipe)(E.Su(null!==(n=e.word_count)&&void 0!==n?n:""),I.mapLeft((0,h.constant)(`invalid word_count: got ${e.word_count}`))),compressionRatio:void 0===e.shorten_it_compression_ratio?I.right(O.w.unsafeFromNumber(0)):(0,h.pipe)(E.sS(e.shorten_it_compression_ratio),I.mapLeft((0,h.constant)(`invalid shorten_it_compression_ratio: got ${e.shorten_it_compression_ratio}`)),I.chain(O.w.fromNumber))}))))}static calculateHashCode(e){return(0,K.Ej)({dismissedTransformGroups:Array.from(e.dismissedTransformGroups.values()).sort().join("|"),id:e.id,patternName:e.patternName,sentenceCount:e.sentenceCount,wordCount:e.wordCount,compressionRatio:O.w.unwrap(e.compressionRatio),summaryState:e.summaryState})}constructor(e,t,n,i){super(e,t,n,i),(0,r._)(this,"_raw",void 0),(0,r._)(this,"_ops",void 0),(0,r._)(this,"_positionManager",void 0),(0,r._)(this,"_alternativeManager",void 0),(0,r._)(this,"alertType",void 0),(0,r._)(this,"_todoAction",void 0),(0,r._)(this,"_sentenceCount",void 0),(0,r._)(this,"_wordCount",void 0),(0,r._)(this,"_compressionRatio",void 0),(0,r._)(this,"_summaryState",void 0),(0,r._)(this,"_dismissedTransformGroups",void 0),(0,r._)(this,"_deleteRangesGroups",void 0),this._raw=e,this._ops=t,this._positionManager=n,this._alternativeManager=i,this.alertType=ye.Type.ShortenIt,this._todoAction="",this._sentenceCount=0,this._wordCount=0,this._compressionRatio=O.w.unsafeFromNumber(0),this._summaryState=J.SummaryState.notRequested,this._dismissedTransformGroups=new Set,this._deleteRangesGroups=[],(0,h.pipe)(this.extraProperties.shortenIt,k.Mi((t=>{var n,r;this._sentenceCount=t.sentenceCount,this._wordCount=t.wordCount,this._compressionRatio=t.compressionRatio,this._summaryState=null!==(r=null===(n=t.alertState)||void 0===n?void 0:n.summaryState)&&void 0!==r?r:y.tI.withAlternatives(e)?J.SummaryState.received:J.SummaryState.notRequested}))),this._todoAction=e.todo,this._deleteRangesGroups=(0,h.pipe)(this._replaceEither,I.fold((()=>[]),S.fold((()=>[]),(e=>v.EF.getDeleteOpsGroupsList(e.alternatives[0])))))}}class he extends oe{get toneAlternatives(){return this._toneAlternatives}get selectedToneAlternativeIdx(){return this._selectedToneAlternativeIdx}setSelectedToneAlternativeIdx(e){return this.bumpVersion(),this._selectedToneAlternativeIdx=e,this}copy(e=!0){const t=super.copy(e);return t._toneAlternatives=this._toneAlternatives,t._selectedToneAlternativeIdx=this._selectedToneAlternativeIdx,t}static parseExtraProps(e){const t=Te("ToneAIAlertImpl.parseExtraProps",f.y7.$.DEBUG);return(0,h.pipe)(S.fromNullable(e.tone_slider),S.chain((e=>(0,h.pipe)(I.tryCatch((()=>JSON.parse(e)),(()=>"invalid extra_properties.tone_slider JSON")),I.chain((e=>(0,h.pipe)(Y.ToneSlider.decode(e),I.mapLeft((e=>`cannot decode extra_properties.tone_slider ${JSON.stringify(e)}`))))),I.map((e=>e.map((e=>({emojiID:e.emoji_id,name:e.name}))))),I.filterOrElse((e=>e.length>1),(e=>`expected extra_properties.tone_slider length to be greater than 1, but found ${e.length}`)),I.bimap((e=>t.error(`Cannot parse extra_properties for ToneAI alert: ${e}`)),(e=>({toneAlternatives:e}))),S.fromEither))))}static calculateHashCode(e){return(0,K.Ej)({id:e.id,selectedToneAlternativeIdx:e.selectedToneAlternativeIdx})}constructor(e,t,n,i){super(e,t,n,i),(0,r._)(this,"_raw",void 0),(0,r._)(this,"_ops",void 0),(0,r._)(this,"_positionManager",void 0),(0,r._)(this,"_alternativeManager",void 0),(0,r._)(this,"alertType",void 0),(0,r._)(this,"_toneAlternatives",void 0),(0,r._)(this,"_selectedToneAlternativeIdx",void 0),this._raw=e,this._ops=t,this._positionManager=n,this._alternativeManager=i,this.alertType=ye.Type.ToneAI;const a=k.$v(this.extraProperties.toneAI);this._toneAlternatives=a.toneAlternatives,this._selectedToneAlternativeIdx=1}}class me extends oe{get externalLink(){return this._externalLink}get emojiID(){return this._emojiID}get bannerColors(){return this._bannerColors}get isFlaggable(){return this._isFlaggable}get shouldDismissAfterOpeningLink(){return this._shouldDismissAfterOpeningLink}get highlightBackgroundColor(){return this._highlightBackgroundColor}get highlightUnderlineColor(){return this._highlightUnderlineColor}copy(e=!0){const t=super.copy(e);return t._externalLink=this._externalLink,t._emojiID=this._emojiID,t._bannerColors=this._bannerColors,t._isFlaggable=this._isFlaggable,t}static parseExtraProps(e){return(0,h.pipe)(e,S.fromPredicate((e=>Boolean(e.ethical_ai_external_link))),S.map((e=>{let t,n;if(void 0!==e.ethical_ai_is_flaggable)try{t=JSON.parse(e.ethical_ai_is_flaggable)}catch(e){t=!0}else t=!0;if(void 0!==e.ethical_ai_should_dismiss_after_opening_link)try{n=JSON.parse(e.ethical_ai_should_dismiss_after_opening_link)}catch(e){n=!1}else n=!1;return{externalLink:e.ethical_ai_external_link,emojiID:e.ethical_ai_emoji_id,bannerColors:void 0!==e.ethical_ai_banner_colors&&""!==e.ethical_ai_banner_colors.trim()?e.ethical_ai_banner_colors.split(","):void 0,isFlaggable:t,shouldDismissAfterOpeningLink:n,highlightBackgroundColor:e.ethical_ai_highlight_background_color,highlightUnderlineColor:e.ethical_ai_highlight_underline_color}})))}constructor(e,t,n,i){super(e,t,n,i),(0,r._)(this,"_raw",void 0),(0,r._)(this,"_ops",void 0),(0,r._)(this,"_positionManager",void 0),(0,r._)(this,"_alternativeManager",void 0),(0,r._)(this,"alertType",void 0),(0,r._)(this,"_externalLink",void 0),(0,r._)(this,"_emojiID",void 0),(0,r._)(this,"_bannerColors",void 0),(0,r._)(this,"_isFlaggable",void 0),(0,r._)(this,"_shouldDismissAfterOpeningLink",void 0),(0,r._)(this,"_highlightBackgroundColor",void 0),(0,r._)(this,"_highlightUnderlineColor",void 0),this._raw=e,this._ops=t,this._positionManager=n,this._alternativeManager=i,this.alertType=ye.Type.EthicalAI;const a=k.$v(this.extraProperties.ethicalAI);this._externalLink=a.externalLink,this._emojiID=a.emojiID,this._bannerColors=a.bannerColors,this._isFlaggable=a.isFlaggable,this._shouldDismissAfterOpeningLink=a.shouldDismissAfterOpeningLink,this._highlightBackgroundColor=a.highlightBackgroundColor,this._highlightUnderlineColor=a.highlightUnderlineColor}}class ge extends oe{get snippetText(){return this._snippetText}get libLink(){return this._libLink}get snippetsTrigger(){return this._snippetsTrigger}copy(e=!0){const t=super.copy(e);return t._snippetText=this._snippetText,t._snippetText=this._libLink,t}static calculateHashCode(e){return(0,K.CG)(e)}hashCode(){return 31*super.hashCode()+ge.calculateHashCode(this._snippetText)}constructor(e,t,n,i){super(e,t,n,i),(0,r._)(this,"_raw",void 0),(0,r._)(this,"_ops",void 0),(0,r._)(this,"_positionManager",void 0),(0,r._)(this,"_alternativeManager",void 0),(0,r._)(this,"alertType",void 0),(0,r._)(this,"_snippetText",void 0),(0,r._)(this,"_libLink",void 0),(0,r._)(this,"_snippetsTrigger",void 0),this._raw=e,this._ops=t,this._positionManager=n,this._alternativeManager=i,this.alertType=ye.Type.SuggestedSnippet,(0,T.V1)(S.isSome(this.extraProperties.suggestedSnippet),"Tried to create SuggestedSnippetAlert without providing a snippet text."),this._snippetText=this.extraProperties.suggestedSnippet.value.snippetText,this._libLink=this.extraProperties.suggestedSnippet.value.libLink,this._snippetsTrigger=this.extraProperties.suggestedSnippet.value.snippetsTrigger}}class fe extends oe{get knowledgeHubTermCreationUrl(){return this._knowledgeHubTermCreationUrl}constructor(e,t,n,i){super(e,t,n,i),(0,r._)(this,"_raw",void 0),(0,r._)(this,"_ops",void 0),(0,r._)(this,"_positionManager",void 0),(0,r._)(this,"_alternativeManager",void 0),(0,r._)(this,"alertType",void 0),(0,r._)(this,"_knowledgeHubTermCreationUrl",void 0),this._raw=e,this._ops=t,this._positionManager=n,this._alternativeManager=i,this.alertType=ye.Type.KnowledgeHubSuggestedTerm,(0,T.V1)(S.isSome(this.extraProperties.knowledgeHubTermCreationUrl),"Tried to create KnowledgeHubSuggestedTermAlert without providing a term creation url."),this._knowledgeHubTermCreationUrl=this.extraProperties.knowledgeHubTermCreationUrl.value}}var ye;!function(e){let t;!function(e){e.Default="default",e.Plagiarism="plagiarism",e.Super="super",e.Premium="premium",e.Takeaway="takeaway",e.Synfony="synfony",e.ShortenIt="shortenIt",e.ToneAI="toneAI",e.EthicalAI="ethicalAI",e.SuggestedSnippet="suggestedSnippet",e.KnowledgeHubSuggestedTerm="knowledgeHubSuggestedTerm"}(t=e.Type||(e.Type={})),e.fromAlertModel=function(e){return e.alert},e.getReplacementText=(e,t)=>()=>E.zb((()=>{const n=e._raw.replacements[t];return(0,T.V1)(void 0!==n,"Unknown alternativeIndex",(()=>`alternativeIndex(${t}) `+e.toString())),n})),e.getApplicableAlternative=(e,t)=>()=>E.zb((()=>{(0,T.V1)((0,h.pipe)(e.getReplaceEither(),I.exists(S.isSome)),"Alert doesn't have any deltas to be applied",e.toString());const{alternative:r}=(0,h.pipe)(e.getReplaceEither(),E.$v,k.$v)[t];return(0,T.V1)(void 0!==r,"Unknown alternativeIndex",(()=>`alternativeIndex(${t}) `+e.toString())),{alternative:n(e,r),alternativeIndex:t}}));const n=(e,t)=>R(e)?v.EF.fillGaps(t,e.gapValue):x(e)?v.EF.dismissTransformGroups(t,e.dismissedTransformGroups):t;let r,o,l,c,d;function p(e){return ye.State.isBulkApplied(e.state)}function m(e){return e.state.type===ye.State.Type.REGISTERED}function g(e){return e.state.type===ye.State.Type.REMOVED}function f(e){return g(e)&&e.state.reason===ye.State.Removed.Reason.duplicated}function x(e){return e.alertType===ye.Type.ShortenIt}function R(e){return V.isOneGap(e.extraProperties.cardType)}function P(e){return(0,h.pipe)(e.extraProperties.freePremium,k.gR("unlocked"))}function N(e){return(0,h.pipe)(e.extraProperties.freePremium,k.gR("locked"))}function K(e){return(0,h.pipe)(e.extraProperties.freePremium,k.gR("uphook"))}function B(e){return e.lensId===ee.J.SpecialId.Premium}function D(e){return e.alertType===ye.Type.Default||e.alertType===ye.Type.Super||e.alertType===ye.Type.Takeaway||e.alertType===ye.Type.Synfony||e.alertType===ye.Type.ShortenIt||e.alertType===ye.Type.ToneAI||e.alertType===ye.Type.EthicalAI||e.alertType===ye.Type.SuggestedSnippet||e.alertType===ye.Type.KnowledgeHubSuggestedTerm}!function(e){let t;!function(e){e[e.Pending=0]="Pending",e[e.Dispose=1]="Dispose"}(t=e.State||(e.State={}))}(r=e.Transition||(e.Transition={})),function(e){e.IDLE="idle",e.CHECKING="checking"}(o=e.CheckingState||(e.CheckingState={})),function(e){let t,n,r,s;function l(e){return ye.State.Type.REGISTERED===e.type}!function(e){e.REGISTERED="REGISTERED",e.BEING_APPLIED="BEING_APPLIED",e.APPLIED="APPLIED",e.REMOVED="REMOVED"}(t=e.Type||(e.Type={})),e.isIdle=function(e){return e.type===ye.State.Type.REGISTERED&&e.checkingState===o.IDLE},function(e){e.create=e=>({type:t.REGISTERED,checkingState:e})}(n=e.Registered||(e.Registered={})),function(e){let n;e.create=(e,n,r,i)=>({type:t.APPLIED,from:i,undoable:e,source:n,method:r}),e.fromBeingApplied=(e,n)=>(0,a._)((0,i._)({},e),{type:t.APPLIED,undoable:n}),e.createBeingApplied=(e,n,r)=>({type:t.BEING_APPLIED,from:r,source:e,method:n}),function(e){e.ByCard="ByCard",e.Bulk="Bulk"}(n=e.Method||(e.Method={}))}(r=e.Applied||(e.Applied={})),function(e){let n;!function(e){e.textChange="textChange",e.capiDone="capiDone",e.capiDismiss="capiDismiss",e.duplicated="duplicated",e.canceled="canceled",e.bulkAcceptUserResponse="bulkAcceptUserResponse"}(n=e.Reason||(e.Reason={})),e.create=e=>({type:t.REMOVED,reason:e})}(s=e.Removed||(e.Removed={})),e.init=n.create(o.IDLE),e.isBulkApplied=function(e){return ye.State.Type.APPLIED===e.type&&e.method===ye.State.Applied.Method.Bulk},e.isRegistered=l,e.isRemoved=function(e){return ye.State.Type.REMOVED===e.type},e.isBeingApplied=function(e){return ye.State.Type.BEING_APPLIED===e.type},e.getCheckingState=function(e){return l(e)?e.checkingState:o.IDLE}}(l=e.State||(e.State={})),function(e){e.Muted="Muted",e.Unmuted="Unmuted"}(c=e.MuteStateType||(e.MuteStateType={})),function(e){e.fromMutedByType=e=>e===y.xD.MutedByType.MUTED_BY_USER?ye.MuteStateType.Muted:ye.MuteStateType.Unmuted}(c=e.MuteStateType||(e.MuteStateType={})),e.hasNestedHighlights=function(e){const t=e.getHighlightRanges();if(t.length<2)return!1;if(t.some(L.l.isEnclosingView))return!0;const{left:n,right:r}=s.jB(L.l.isMainView)(t);return 0!==n.length&&r.some((e=>n.some((t=>w.vY.contains(t,e)))))},e.hasEnclosingHighlight=function(e){return e.getHighlightRanges().some(L.l.isEnclosingView)},e.isApplied=function(e){return e.state.type===ye.State.Type.APPLIED},e.isBeingApplied=function(e){return e.state.type===ye.State.Type.BEING_APPLIED},e.isBeingAppliedinBulk=function(e){return e.state.type===ye.State.Type.BEING_APPLIED&&e.state.method===ye.State.Applied.Method.Bulk},e.isInteractable=function(e){return m(e)||p(e)},e.isBulkApplied=p,e.isAccepted=function(e){return ye.isApplied(e)&&e.state.undoable.action===y.yp.ACCEPTED},e.isRegistered=m,e.isNotRegistered=function(e){return e.state.type!==ye.State.Type.REGISTERED},e.isRemoved=g,e.isRemovedByTextChange=function(e){return g(e)&&e.state.reason===ye.State.Removed.Reason.textChange},e.isNotRemoved=function(e){return e.state.type!==ye.State.Type.REMOVED},e.isCapiDone=function(e){return g(e)&&e.state.reason===ye.State.Removed.Reason.capiDone},e.isDuplicated=function(e){return f(e)},e.isInDuplicatedState=f,e.isCritical=function(e){return e.lensType===ee.J.Type.Critical||e.lensType===ee.J.Type.Correctness},e.isCriticalImpact=function(e){return e._raw.impact===y.tI.Impact.Critical},e.isHidden=function(e){return e._raw.hidden},e.getRawId=function(e){return e.rawId},e.isPlagiarism=function(e){return e.lensId===ee.J.SpecialId.Plagiarism},e.isVox=function(e){return D(e)&&S.isSome(e.extraProperties.vox)},e.isTakeaway=function(e){return e.alertType===ye.Type.Takeaway},e.isShortenIt=x,e.isToneAI=function(e){return e.alertType===ye.Type.ToneAI},e.isEthicalAI=function(e){return e.alertType===ye.Type.EthicalAI},e.isCitationDetection=function(e){return S.isSome(e.extraProperties.citationDetection)},e.isOneGap=R,e.isRated=function(e){return u.gt(O.w.ord)(e.progress,O.w.MIN)},e.isPremium=function(e){return B(e)},e.isFreePremium=P,e.isLocked=N,e.isLockedUIUphook=K,e.isLockedUIAlert=function(e){return N(e)||P(e)||K(e)},e.isPriority=function(e){return e.view===y.tI.View.priority},e.isInPremiumLens=B,e.isApplicableAlert=D,e.isRegisteredApplicableAlert=function(e){return m(e)&&D(e)},e.isSuperAlert=function(e){return e.alertType===ye.Type.Super},e.isSuggestedSnippet=function(e){return e.alertType===ye.Type.SuggestedSnippet},e.isKnowledgeHubSuggestedTerm=function(e){return e.alertType===ye.Type.KnowledgeHubSuggestedTerm},e.isCacheable=function(e){return ye.isRegistered(e)&&(0,C.Ub)(ye.isVbar,ye.isWithTeaser)(e)&&!ye.isPlagiarism(e)&&!ye.isRated(e)&&!ye.isSuperAlert(e)},e.isVbar=function(e){return e.extraProperties.vbar},e.isWithTeaser=function(e){return e.extraProperties.underlineWithTeaser},e.belongsToAllAlerts=function(e){return e.belongsToAllAlerts},e.belongsToPriorityLens=function(e){return ye.belongsToAllAlerts(e)&&ye.isPriority(e)},e.belongsToPredictionTakeaways=function(e){return ye.belongsToAllAlerts(e)&&(0,h.pipe)(S.fromNullable(e.prediction),S.flatten,S.exists((e=>"takeaways"===e)))},e.belongsToPredictionEmogenie=function(e){return ye.belongsToAllAlerts(e)&&(0,h.pipe)(S.fromNullable(e.prediction),S.flatten,S.exists((e=>"emogenie"===e)))},e.belongsToAnySpecialCategory=function(e){return y.tI.belongsToAnySpecialCategory(e._raw)},e.belongsToSpecialCategory=function(e){return y.tI.belongsToSpecialCategory(e._raw)},e.getCheckingState=function(e){return ye.State.getCheckingState(e.state)},e.inUse=function(e){return e.references>0},e.isMuted=function(e){return!ye.isPlagiarism(e)&&e.mute===ye.MuteStateType.Muted},e.isBulkAcceptable=function(e){return ye.isRegistered(e)&&e.extraProperties.bulkAcceptable&&e.alertType===ye.Type.Default},e.isInline=function(e){return e.inline===y.tI.Inline.inline},e.hasDrilldownTree=function(e){return D(e)&&S.isSome(e.extraProperties.drilldownTree)},e.shouldBeRemoved=function(e){return!ye.inUse(e)&&ye.isNotRegistered(e)},function(e){e.snapshot=e=>({cardType:e.cardType,alternatives:e.alternatives.map((e=>({type:e.type,lengthAffected:e.lengthAffected,delta:_.E.anonymizeTextAndStringAttrs(e.delta)})))})}(d=e.Alternatives||(e.Alternatives={}));let M=1;function $(e){return Math.trunc(Math.random()*e)}let F=0;e.generate=function(e,t,n,r,o){F+=30;const s=n&&"number"==typeof n.start?n.start:F,l=n&&"number"==typeof n.end?n.end:s+1,c=r?r.start:s,u=r?r.end:l,d=function(e,t){const n=y.tI.Id.create("alert#"+String(M++)),r=t&&t.cardLayout||y.BU.mock,o=e===ee.J.SpecialId.Plagiarism?{outcome:"Originality"}:ee.J.isMainOutcomeId(e)?{outcome:ee.J.OutcomeId.toRawOutcome(e)}:{},s=!!ee.J.isPremiumId(e)||t&&t.hidden;return(0,i._)((0,a._)((0,i._)({},y.tI.mock),{id:n,cardLayout:(0,i._)({},r,o),hidden:s}),t)}(e,t),p={begin:c,end:u,highlightBegin:s,highlightEnd:l,transformJson:o?(0,h.pipe)(o,S.toUndefined):y.r5.create({highlights:[{s,e:l}],alternatives:S.none})};return Object.assign(d,p),d},e.generateWithSubAlerts=function(e,t){const n=e?y.r5.create({highlights:e.map((e=>({s:e.start,e:e.end}))),alternatives:(0,h.pipe)(A.ci(e),S.map(A.Tj((e=>({s:e.start,e:e.end})))),S.map((e=>v.EF.Group.fromSubalerts(e,[b.d.AbsAlternative.unsafeFromDelta({ops:[{insert:"Alternative 1_1",attributes:{type:b.d.Edit.Type.MAIN}}]}),b.d.AbsAlternative.unsafeFromDelta({ops:[{insert:"Alternative 2_1",attributes:{type:b.d.Edit.Type.MAIN}}]})]))))}):y.tI.mockWithSubalerts.subalerts,r=e?e.map(((e,t)=>"Highlight_"+t)):y.tI.mockWithSubalerts.highlightText;return(0,i._)((0,a._)((0,i._)({},y.tI.mockWithSubalerts),{labels:y.tI.mockWithSubalerts.labels,highlightText:r,subalerts:n}),t)};let H=1;e.generatePlagiarism=function(e,t,n){const r=n&&n.start||$(F+=1),a=(0,i._)({},y.tI.mockPlagiarism,t),o=n&&n.end||r+1+$(20),s={id:y.tI.Id.create("plagiarismAlert#"+String(H++)),begin:r,end:o,highlightBegin:r,highlightEnd:o,highlightText:[e],transformJson:y.r5.create({highlights:[{s:r,e:o}],alternatives:S.none})};return Object.assign(a,s),a},e.isPlagiarismSourceEqual=function(e,t){return e.title===t.title&&function(e,t){return e.source===t.source&&("web"===e.source&&(0,h.pipe)(k.fP(((e,t)=>e===t))(e.url,t.url),S.exists(h.identity))||"publication"===e.source&&(0,h.pipe)(k.fP(((e,t)=>e===t))(e.authors,t.authors),S.exists(h.identity)))}(e.plagiarismType,t.plagiarismType)},e.create=function(e,t,n,r){let i;return i=y.tI.isHidden(e)?new ie(e,t,n,r):y.tI.isPlagiarism(e)?new ae(e,t,n,r):y.tI.isOneGap(e)?new ue(e,t,n,r):!y.tI.withSubalerts(e)||y.tI.isEthicalAI(e)||y.tI.isCitationDetection(e)?y.tI.isTakeaway(e)?new de(e,t,n,r):y.tI.hasDrilldownTree(e)?new le(e,t,n,r):y.tI.isShortenIt(e)?new pe(e,t,n,r):y.tI.isToneAI(e)?new he(e,t,n,r):y.tI.isEthicalAI(e)?new me(e,t,n,r):y.tI.isSuggestedSnippet(e)?new ge(e,t,n,r):y.tI.isKnowledgeHubSuggestedTerm(e)?new fe(e,t,n,r):new se(e,t,n,r):new ce(e,t,n,r),i};var W=e.CRITICAL_GROUPS=new Set(["Spelling","Grammar","Punctuation","Fluency","Conventions"]);e.isCriticalGroup=function(e){return W.has(e)},e.highlightsCollapsed=function(e){return e.getHighlightRanges().every(w.vY.isEmpty)},e.isDuplicateCandidate=function(e,t=!1){return(t||e.isValid)&&!e.allowDuplicates&&ye.isRegistered(e)},e.isDuplicatedBy=function(e,t){if(!t.hasMatchingHighlightsWith(e,w.vY.ord.equals))return!1;const n=e.toRawAlert(),r=t.toRawAlert();return n.group===r.group&&"Spelling"===n.group||n.category===r.category&&n.point===r.point},e.isNotDisposed=function(e){return!e.disposed}}(ye||(ye={}));const ve=y.tI.matchBy((e=>w.vY.create(e.begin,e.end,{btype:L.l.Meta.Behavior.REPLACE})),(()=>w.vY.empty),(()=>w.vY.empty));function _e(e,t){return t.highlights.map((t=>w.vY.create(t.s,t.e,{vtype:"focus"===t.type?L.l.Meta.View.FOCUS:"enclosing"===t.type?L.l.Meta.View.ENCLOSING:"main_start"===t.type?L.l.Meta.View.MAIN_START:L.l.Meta.View.MAIN,btype:e})))}function be(e){const t=!0===e.updatable?L.l.Meta.Behavior.HIGHLIGHT_UPDATABLE:L.l.Meta.Behavior.HIGHLIGHT;return y.tI.match(e,(e=>[w.vY.create(e.highlightBegin,e.highlightEnd,{vtype:L.l.Meta.View.MAIN,btype:t})]),(e=>_e(t,e.transformJson)),(e=>_e(t,e.subalerts)))}const we=S.map((e=>(0,h.pipe)(e.context,A.Tj((e=>w.vY.create(e.s,e.e,{btype:L.l.Meta.Behavior.CONTEXT}))))));function Se(e){return y.tI.match(e,(()=>S.none),(e=>we(e.transformJson.alternatives)),(e=>we(e.subalerts.alternatives)))}const Ce=y.tI.matchBy((e=>I.left(ve(e))),(e=>I.right(e.transformJson.alternatives)),(e=>I.right(e.subalerts.alternatives)));var Ie;!function(e){e.create=function(e,t){return(0,T.V1)(e.id===t.id,"can not create UpdatedAlertWithOldAlert from alerts with different ids",(()=>JSON.stringify({olda:B.Y.show.show(e),newa:B.Y.show.show(t)}))),(0,T.V1)(e.version<t.version,"old alert should have different revision than new alert",(()=>JSON.stringify({olda:B.Y.show.show(e),newa:B.Y.show.show(t)}))),(0,T.V1)(ye.isNotDisposed(t.alert),"new alert can not be disposed",(()=>JSON.stringify({olda:e.alert.toString(),newa:t.alert.toString()}))),[e,t]},e.show=(0,d.M4)(B.Y.show,B.Y.show)}(Ie||(Ie={}));const Te=(0,C.Bj)(f.Bx.Logging.getLogger)},56330:(e,t,n)=>{n.d(t,{R:()=>r});var r,i=n(65390),a=n(84647),o=n(72896),s=n(40183),l=n(15990);!function(e){let t;!function(e){e[e.red=0]="red",e[e.green=1]="green",e[e.yellow=2]="yellow",e[e.grey=3]="grey"}(t=e.Color||(e.Color={}));const n=/<span.*?<\/span><br\/>/g,r=/^<span.*?class="(.+?)".*?>/,c=/^<span.*?>(.+?): /,u=/^<span.*?>(?:.+?: )?(.+?)<\/span><br\/>/;e.parse=(e,d=!1)=>(0,a.pipe)(i.fromNullable(e),i.map((e=>e.replace(/^<p>/,"").split("<p>").map((e=>{const a=e.match(n);return a&&(0,o.z2)(a)?a.map((e=>{var n;const a=function(e){switch(e){case"red":return t.red;case"green":return t.green;case"yellow":return t.yellow;default:return t.grey}}(s.Zx(null!==(n=s.Q7(e,r))&&void 0!==n?n:"")),o=i.fromNullable(s.Q7(e,c)),l=s.Q7(e,u);return Boolean(l)?{color:a,title:o,text:l,hasItalic:d}:null})).filter(Boolean):[]})).filter(o.z2))),i.chain(l.L.array)),e.colorMatch=function(e){return n=>{switch(e){case t.red:return n.red;case t.green:return n.green;case t.yellow:return n.yellow;default:return n.fallback}}}}(r||(r={}))},62597:(e,t,n)=>{n.d(t,{J:()=>r});var r,i=n(23988),a=n(10334),o=n(17171),s=n(66202),l=n(44869),c=n(83288),u=n(44551),d=n(84647),p=n(84906),h=n(1395),m=n(98997),g=n(89520),f=n(68074),y=n(91485),v=n(53987);!function(e){let t,n,_,b,w,S,C;function I(e){return e===r.SpecialId.PredictionTakeaways}function T(e){return e===r.SpecialId.PredictionEmogenie}function A(e){return r.isOutcomeId(e)||r.isPremiumId(e)||r.isPlagiarismId(e)||r.isAllAlerts(e)||r.isPredictionTakeaways(e)||r.isPredictionEmogenie(e)||r.isRealtimeProofitId(e)||r.isFreePremiumId(e)}function E(e){return e===_.Correctness||e===_.Clarity||e===_.Engagement||e===_.Delivery||e===_.Vox||e===_.KnowledgeHub}function k(e){return r.SpecialId.AllAlerts===e}var x;let R,P;!function(e){e.empty=d.constTrue}(t=e.Filter||(e.Filter={})),function(e){function t(e){return t=>{const n=t;return new K(n.info,e(n.meta),t.filter)}}e.modifyMeta=t,e.setMeta=function(e){return n=>t((()=>e))(n)}}(n=e.WithAlerts||(e.WithAlerts={})),function(e){e.Plagiarism="Originality",e.DraftAI="Draft AI",e.Cheetah="Cheetah",e.Premium="Hidden",e.Closed="Closed",e.AllAlerts="All alerts",e.PredictionEmogenie="PredictionEmogenie",e.PredictionTakeaways="PredictionTakeaways",e.RealTimeProofit="RealTimeProofit",e.Clarity="ClarityOutcome",e.Correctness="CorrectnessOutcome",e.Engagement="EngagementOutcome",e.Delivery="DeliveryOutcome",e.Vox="Style guide",e.FreePremiumAlerts="FreePremiumAlerts",e.KnowledgeHub="KnowledgeHub"}(_=e.SpecialId||(e.SpecialId={})),e.isRelevantForOggy=function(e){return[r.SpecialId.Premium,r.SpecialId.FreePremiumAlerts,r.SpecialId.Cheetah,r.SpecialId.AllAlerts,r.SpecialId.Plagiarism,r.SpecialId.Closed].includes(e)},e.isClosedId=function(e){return e===_.Closed},e.isPremiumId=function(e){return e===r.SpecialId.Premium},e.isPredictionTakeaways=I,e.isPredictionEmogenie=T,e.isPrediction=function(e){return I(e)||T(e)},e.isWithAlertsId=A,e.isWithSuccessId=function(e){return r.isAllAlerts(e)||r.isPrediction(e)||r.isOutcomeId(e)||r.isRealtimeProofitId(e)||r.isFreePremiumId(e)},function(e){e.toOutcomeId=function(e){switch(e){case"Correctness":return s.right(r.SpecialId.Correctness);case"Clarity":return s.right(r.SpecialId.Clarity);case"Engagement":return s.right(r.SpecialId.Engagement);case"Tone":return s.right(r.SpecialId.Delivery);case"Style guide":return s.right(r.SpecialId.Vox);case"Knowledge Hub":return s.right(r.SpecialId.KnowledgeHub);default:return s.left("Unknown outcome id")}},e.fromOutcomeId=function(e){switch(e){case r.SpecialId.Correctness:case r.SpecialId.Clarity:case r.SpecialId.Engagement:case r.SpecialId.Delivery:return e.slice(0,-7);default:return e}},e.toRawOutcome=function(e){switch(e){case r.SpecialId.Correctness:case r.SpecialId.Clarity:case r.SpecialId.Engagement:return e.slice(0,-7);case r.SpecialId.Delivery:return"Tone";case r.SpecialId.Vox:return"Style guide";case r.SpecialId.KnowledgeHub:return"Knowledge Hub";default:return(0,h.xb)(e)}}}(b=e.OutcomeId||(e.OutcomeId={})),function(e){e.toCapiId=function(e){return e===r.SpecialId.Plagiarism?s.right(r.SpecialId.Plagiarism):r.OutcomeId.toOutcomeId(e)}}(w=e.CapiId||(e.CapiId={})),function(e){e.ord=c.ordString}(S=e.Id||(e.Id={})),e.isPlagiarismId=function(e){return e===_.Plagiarism},e.isDraftAIId=function(e){return e===_.DraftAI},e.isCheetah=function(e){return e===_.Cheetah},e.isOutcomeId=function(e){return E(e)},e.isMainOutcomeId=E,e.isRealtimeProofitId=function(e){return e===_.RealTimeProofit},e.isAllAlerts=k,e.isFreePremiumId=function(e){return r.SpecialId.FreePremiumAlerts===e},e.isMainLens=function(e){return k(e)},e.isCorrectness=function(e){return e===r.SpecialId.Correctness},e.isClarity=function(e){return e===r.SpecialId.Clarity},e.isDelivery=function(e){return e===r.SpecialId.Delivery},e.isEngagement=function(e){return e===r.SpecialId.Engagement},e.isVox=function(e){return e===r.SpecialId.Vox},e.isKnowledgeHub=function(e){return e===r.SpecialId.KnowledgeHub},function(e){e.Critical="critical",e.Advanced="advanced",e.Plagiarism="plagiarism",e.Correctness="correctness",e.Clarity="clarity",e.Engagement="engagement",e.Delivery="delivery",e.Vox="vox",e.KnowledgeHub="knowledgeHub",e.Other="other"}(C=e.Type||(e.Type={})),(x=C=e.Type||(e.Type={})).fromRawAlert=function(e){switch(e.cardLayout.outcome){case"Correctness":return C.Correctness;case"Clarity":return C.Clarity;case"Engagement":return C.Engagement;case"Tone":return C.Delivery;case"Style guide":return C.Vox;case"Originality":return C.Plagiarism;case"Knowledge Hub":return C.KnowledgeHub;default:return C.Other}},x.fromOutcomeId=function(e){switch(e){case r.SpecialId.Correctness:return r.Type.Correctness;case r.SpecialId.Clarity:return r.Type.Clarity;case r.SpecialId.Engagement:return r.Type.Engagement;case r.SpecialId.Delivery:return r.Type.Delivery;case r.SpecialId.KnowledgeHub:return r.Type.KnowledgeHub;default:return r.Type.Other}},function(e){e.Accuracy="Accuracy",e.Clarity="Clarity",e.Effectiveness="Effectiveness",e.Originality="Originality",e.Hidden="Hidden"}(R=e.Category||(e.Category={})),function(e){e.group=m.DT({count:m.$m,mutedCount:m.$m,unreadCount:m.$m,priorityCount:m.$m,percentile:f.w.groupSum}),e.eq=(0,l.OW)({count:p.Eq,unreadCount:p.Eq,percentile:f.w.ord}),e.fromAlertCounters=e=>{const t=v.K.toUnmutedOnly(e);return{count:t.cost,priorityCount:e.priority,mutedCount:e.muted,unreadCount:t.unread,percentile:f.w.MIN}},e.fromPercentile=e=>({count:0,mutedCount:0,unreadCount:0,priorityCount:0,percentile:e}),e.ratioToPercentile=e=>t=>(0,o._)((0,a._)({},t),{percentile:e}),e.isEmpty=e=>0===e.count&&0===e.mutedCount}(P=e.Meta||(e.Meta={})),e.outcomeTypeMatch=function(e){return t=>{switch(t){case r.Type.Correctness:return e.correctness;case r.Type.Clarity:return e.clarity;case r.Type.Engagement:return e.engagement;case r.Type.Delivery:return e.delivery;case r.Type.Vox:return e.vox;case r.Type.KnowledgeHub:return e.knowledgeHub;case r.Type.Advanced:return e.premium;case r.Type.Critical:case r.Type.Plagiarism:case r.Type.Other:throw new h.zU(`Don't use this function for ${t} type`);default:return(0,h.xb)(t)}}},e.outcomeFullTypeMatch=function(e){return t=>{switch(e){case r.Type.Correctness:return t.correctness;case r.Type.Clarity:return t.clarity;case r.Type.Engagement:return t.engagement;case r.Type.Delivery:return t.delivery;case r.Type.Plagiarism:return t.plagiarism;case r.Type.Vox:return t.vox;case r.Type.KnowledgeHub:return t.knowledgeHub;case r.Type.Advanced:return t.premium;case r.Type.Critical:case r.Type.Other:throw new h.zU(`Don't use this function for ${e} type`);default:return(0,h.xb)(e)}}};const N={vox:0,critical:10,correctness:10,advanced:20,clarity:20,engagement:30,delivery:40,plagiarism:50,knowledgeHub:60,other:70};e.getSortOrder=e=>N[e],e.ord=c.fromCompare(((e,t)=>(0,u._S)(N[e.type]-N[t.type]||t.priority-e.priority)));class O{get title(){return this.info.title}get type(){return this.info.type}get category(){return this.info.category}get description(){return this.info.description}get priority(){return this.info.priority}get count(){return this.meta.count}get mutedCount(){return this.meta.mutedCount}get unreadCount(){return this.meta.unreadCount}get priorityCount(){return this.meta.priorityCount}get percentile(){return this.meta.percentile}get id(){return this.info.id}get exclusiveHighlights(){return this.info.exclusiveHighlights}appendMeta(e){return new O(this.info,P.group.concat(this.meta,e),this.filter)}updateMeta(e){return new O(this.info,e(this.meta),this.filter)}equals(e){return this.id===e.id&&this.count===e.count&&this.unreadCount===e.unreadCount&&this.percentile===e.percentile&&this.priority===e.priority}hashCode(){let e=7;return e=31*e+(0,y.CG)(this.id),e=31*e+this.count,e=31*e+this.unreadCount,e=31*e+f.w.prism.reverseGet(this.percentile),e=31*e+this.priority,e}toString(){return JSON.stringify(this,void 0,2)}toJSON(){return{id:this.id,type:this.type,count:this.count,percentile:this.percentile,unreadCount:this.unreadCount,priority:this.priority}}constructor(e,t,n){(0,i._)(this,"info",void 0),(0,i._)(this,"meta",void 0),(0,i._)(this,"filter",void 0),this.info=e,this.meta=t,this.filter=n}}e.StaticLensImpl=O;class K extends O{get id(){return this.info.id}appendMeta(e){return new K(this.info,P.group.concat(this.meta,e),this.filter)}updateMeta(e){return new K(this.info,e(this.meta),this.filter)}constructor(e,t,n){super(e,t,n),(0,h.V1)(A(e.id),"can not create WithAlerts lens for static lens id",e.id)}}let B;e.LensImpl=K,function(e){var t=e.base={id:r.SpecialId.Correctness,type:r.Type.Other,category:r.Category.Hidden,title:"Base Lens",description:"",priority:0,exclusiveHighlights:!1};function n(e){return g.yo(t,e)}e.create=n,e.createOutcome=function(e){return n({id:e,title:r.OutcomeId.fromOutcomeId(e),type:r.Type.fromOutcomeId(e),exclusiveHighlights:!0})},e.plagiarism=n({id:r.SpecialId.Plagiarism,type:r.Type.Plagiarism,category:r.Category.Originality,title:"Plagiarism",exclusiveHighlights:!0}),e.draftAI=n({id:r.SpecialId.DraftAI,type:r.Type.Critical,title:"Draft AI"}),e.cheetah=n({id:r.SpecialId.Cheetah,type:r.Type.Critical,title:"Grammarly Ideate"}),e.premium=n({id:r.SpecialId.Premium,type:r.Type.Advanced,title:"Premium"}),e.freePremium=n({id:r.SpecialId.FreePremiumAlerts,title:"Premium"}),e.allAlerts=n({id:r.SpecialId.AllAlerts,type:r.Type.Critical,title:"All suggestions"}),e.predictionTakeaways=n({id:r.SpecialId.PredictionTakeaways,type:r.Type.Critical,title:"Reader's attention"}),e.predictionEmogenie=n({id:r.SpecialId.PredictionEmogenie,type:r.Type.Critical,title:"How it sounds"}),e.realTimeProofit=n({id:r.SpecialId.RealTimeProofit,type:r.Type.Critical,title:"Proofreading"})}(B=e.Info||(e.Info={})),e.createStaticLens=function(e,t,n){const r=g.yo(B.base,e);return new O(r,t,n)}}(r||(r={}))},11783:(e,t,n)=>{n.d(t,{P:()=>r});var r,i=n(69384),a=n(66799),o=n(89520);!function(e){var t=e.isKnown=e=>"id"in e;let n;e.splitById=e=>{if(t(e)){const{id:t}=e;return{id:t,local:(0,i._)(e,["id"])}}return{local:e}},e.toLocal=e=>{if(t(e)){const{id:t}=e;return(0,i._)(e,["id"])}return e},function(e){e.identity=e=>e,e.forcePositionOverTransformJson=e=>(e=>void 0!==e.extra_properties&&void 0!==e.extra_properties.progress)(e)?e:a.tI.withTransformJson(e)&&a.tI.hasPosition(e)&&!a.tI.withSubalerts(e)?o.yo(e,{transformJson:void 0}):e}(n=e.Transform||(e.Transform={})),e.isHighlightValid=function(e,t){return a.tI.match(e,(e=>t.substring(e.highlightBegin,e.highlightEnd)===e.highlightText[0]),(e=>!!a.tI.hasPosition(e)&&t.substring(e.highlightBegin,e.highlightEnd)===e.highlightText[0]),(()=>!1))}}(r||(r={}))},98383:(e,t,n)=>{n.d(t,{dn:()=>i,jQ:()=>f});var r,i,a=n(23988),o=n(44869),s=n(65390),l=n(84647),c=n(99002),u=n(87172),d=n(38832),p=n(49004),h=n(66202),m=n(11623),g=n(1395);!function(e){e.show={show:e=>`A(#${e.alternativeId})`},e.eq=o.OW({alternative:d.EF.eq,alternativeId:c.Eq,alertId:c.Eq})}(r||(r={}));class f{pushChanges(e){p.lY.isDelta(e)&&this._alternatives.forEach((t=>{(0,l.pipe)(t.alternative.rebase(e.delta),s.fold(l.constVoid,(e=>t.alternative=e)))}))}registerAlternative(e,t){const n=f.getAlternativeId(t),r={alternative:e,alternativeId:n,alertId:t};return this._alternatives.set(n,r),r}deregisterAlternative(e){return(0,l.pipe)(this.getAlternative(e),h.chain((({alternative:e,alternativeId:t})=>m.zb((()=>((0,g.V1)(this._alternatives.delete(t),"alternative should exist before deletion"),e))))))}constructor(){(0,a._)(this,"_log",u.Bx.Logging.getLogger("alternative_manager",u.y7.$.DEBUG)),(0,a._)(this,"_alternatives",new Map),(0,a._)(this,"getAlternative",(e=>{const t=this._alternatives.get(e);if(t)return h.right(t);{const t=`Tried to retrieve non-registered alternative: ${e}`;return this._log.error(t),h.left(new Error(t))}}))}}(0,a._)(f,"_alternativeCounter",0),(0,a._)(f,"getAlternativeId",(e=>`alt-${e}-${f._alternativeCounter++}`)),function(e){e.mock={registerAlternative:(e,t)=>({alternative:e,alternativeId:f.getAlternativeId(t),alertId:t}),getAlternative:()=>h.left(new Error("Not implemented in mock")),deregisterAlternative:()=>h.right(d.EF.create([]))}}(i||(i={}))},88761:(e,t,n)=>{n.d(t,{Y:()=>r});var r,i=n(10334),a=n(83288),o=n(15668),s=n(49490),l=n(7432);!function(e){let t;!function(e){e.ord=a.ordString,e.show=s.N4}(t=e.Id||(e.Id={}));var n=e.ordId=a.contramap((e=>e.id))(a.ordString),r=e.ordHRange=a.contramap((e=>e.alert.getHighlightRanges()[0]))(l.vY.ord),c=e.ordVersion=a.contramap((e=>e.version))(a.ordNumber),u=e.ord=(0,o.fold)(a.getSemigroup())(r,[n,c]),d=e.show={show:e=>`Alert #(${e.id}, version:${e.version}, state:${e.state.type}, mute:${e.mute})`};e.ordShow=(0,i._)({},u,d),e.create=function(e){return{alert:e,id:e.id,state:e.state,counters:e.counters,version:e.version,mute:e.mute}},e.isRegistered=e=>"REGISTERED"===e.state.type}(r||(r={}))},22809:(e,t,n)=>{n.d(t,{A:()=>r});var r,i=n(60608),a=n(36916),o=n(84647),s=n(99002),l=n(6320),c=n(88597),u=n(39598),d=n(88761),p=n(7173),h=n(44277);!function(e){let t;!function(e){e.show=c.b_.getShow(s.wv,d.Y.show),e.eq=c.b_.getEq(d.Y.Id.ord,d.Y.ord),e.empty=()=>c.b_.empty(),e.toRegistered=function(e){return c.b_.fromMutation((t=>{(0,o.pipe)(e,c.b_.forEach(((e,n)=>d.Y.isRegistered(e)&&t.set(n,a.kb(e))),((e,n,r)=>{d.Y.isRegistered(e)?d.Y.isRegistered(n)?t.set(r,a.WP(e,n)):t.set(r,a.kb(e)):d.Y.isRegistered(n)&&t.set(r,a.pG(n))}),((e,n)=>d.Y.isRegistered(e)&&t.set(n,a.pG(e)))))}))},e.filter=function(e){return c.b_.filter(e,((t,n)=>e(t)&&e(n)),e)}}(t=e.Diff||(e.Diff={})),e.empty=p.z.iso.wrap(p.z.empty),e.eq=l.nZ(p.z.eqShow),e.show=p.z.eqShow,e.get=function(e){return(0,o.flow)(p.z.iso.unwrap,p.z.get(e))},e.reduce=function(e,t){return(0,o.flow)(p.z.iso.unwrap,p.z.reduce(e,t))},e.diff=function(e,t){return p.z.diff(p.z.iso.unwrap(e),p.z.iso.unwrap(t))},e.isEmpty=function(e){return 0===p.z.iso.unwrap(e).entries.size},e.find=function(e){return(0,o.flow)(p.z.iso.unwrap,p.z.find(e))},e.size=function(){return(0,o.flow)(p.z.iso.unwrap,p.z.size)},e.from=function(e){return(0,o.pipe)(p.z.createDiff({added:e.reduce(((e,t)=>e.set(t.id,d.Y.create(t))),new Map)}),u.s.recover(o.constVoid),h.z.applyDiff,i.Tj((0,o.flow)(u.s.recover(o.constVoid),p.z.iso.wrap)))(p.z.empty)}}(r||(r={}))},7173:(e,t,n)=>{n.d(t,{z:()=>_});var r=n(10334),i=n(38886),a=n(65390),o=n(49490),s=n(36916),l=n(84647),c=n(84906),u=n(6320),d=n(88597),p=n(1395),h=n(11623),m=n(87870),g=n(66202),f=n(80993),y=n(44869);const v={equals:()=>!0};var _,b=n(88761);!function(e){function t(e,t){return n=>n.order.reduce(((e,r)=>((0,p.V1)(n.entries.has(r),"got corrupted state"),t(e,n.entries.get(r)))),e)}function n({added:e=new Map,updated:t=new Map,removed:n=new Map}){const r=new Map,i=d.b_.fromMutation((i=>{n.forEach(((e,t)=>{i.set(t,s.kb(e))})),e.forEach(((e,t)=>{i.has(t)?r.set(t,`alert add overlaps with alert remove: toAdd(${b.Y.show.show(e)} overlapWith(${s.cs(b.Y.show,b.Y.show).show(i.get(t))}))`):i.set(t,s.pG(e))})),t.forEach((([e,t],n)=>{i.has(n)?r.set(n,`alert update overlaps with unexpected alert add/remove: toUpdate(${b.Y.show.show(t)}) overlapWith(${s.cs(b.Y.show,b.Y.show).show(i.get(n))}))`):i.set(n,s.WP(e,t))}))}));return r.size>0?g.left({recovered:i,rejected:r}):g.right(i)}e.iso=u.KH(),e.empty={entries:new Map,order:[],latestChangeDiff:d.b_.empty(),diffVersion:0},e.get=function(e){return t=>a.fromNullable(t.entries.get(e))},e.find=function(e){return t(a.none,((t,n)=>(0,l.pipe)(t,a.alt((()=>a.fromPredicate(e)(n))))))},e.reduce=t,e.size=e=>e.entries.size,e.diff=function(e,t){return 0===e.diffVersion?h.$v(n({added:t.entries})):e.diffVersion+1===t.diffVersion?t.latestChangeDiff:m.H_(b.Y.ord)(e.entries,t.entries)},e.applyDiff=function(e){return t=>{const n=m.bt(m.n.createStrict(b.Y.ordShow),t.entries,e);return(0,l.pipe)(n,g.bimap((n=>{const r=d.b_.fromMutation((t=>{(0,l.pipe)(e,d.b_.forEach(((e,r)=>!n.rejected.has(r)&&t.set(r,s.kb(e))),((e,r,i)=>!n.rejected.has(i)&&t.set(i,s.WP(e,r))),((e,r)=>!n.rejected.has(r)&&t.set(r,s.pG(e)))))}));return{recovered:C(n.recovered,r,t.diffVersion),rejected:n.rejected}}),(n=>C(n,e,t.diffVersion))))}},e.applyDiffLoose=function(e){return t=>{const n=m.bt(m.n.createLoose(b.Y.ordShow),t.entries,e);return(0,l.pipe)(n,g.bimap((n=>({recovered:C(n.recovered,e,t.diffVersion),rejected:n.rejected})),(n=>C(n,e,t.diffVersion))))}},e.createDiff=n,e.toJSON=function(e){return{entries:Array.from(e.entries),order:e.order,latestChangeDiff:d.b_.toJSON(e.latestChangeDiff),diffVersion:e.diffVersion}};var _=e.diffEqShow=(0,r._)({},d.b_.getEq(b.Y.Id.ord,b.Y.ord),d.b_.getShow(b.Y.Id.show,b.Y.show));const w=(0,r._)({},f.nZ(b.Y.Id.ord,b.Y.ord),f.cs(b.Y.Id.show,b.Y.show)),S=(0,r._)({},i.nZ(b.Y.Id.ord),i.cs(b.Y.Id.show));function C(e,t,n){return{entries:e,order:(0,l.pipe)(e,f.zu(b.Y.ord),i.Tj((e=>e.id))),latestChangeDiff:t,diffVersion:n+1}}e.contentEqShow=(0,r._)({},y.OW({entries:w,order:S,latestChangeDiff:v,diffVersion:v}),o.pJ({entries:w,order:S,latestChangeDiff:_,diffVersion:c.wv})),e.eqShow=(0,r._)({},y.OW({entries:w,order:S,latestChangeDiff:_,diffVersion:c.Eq}),o.pJ({entries:w,order:S,latestChangeDiff:_,diffVersion:c.wv}))}(_||(_={}))},44277:(e,t,n)=>{n.d(t,{z:()=>r});var r,i=n(66202),a=n(84647),o=n(7173);!function(e){e.empty=o.z.empty,e.applyDiff=function(e){return(0,a.flow)(o.z.applyDiffLoose(e),i.mapLeft((e=>({recovered:e.recovered,rejected:e.rejected}))))},e.toCheckingResult=function(e){return o.z.iso.wrap(e)}}(r||(r={}))},78429:(e,t,n)=>{n.d(t,{hI:()=>C,vz:()=>i});var r,i,a=n(23988),o=n(84647),s=n(87172),l=n(49004),c=n(91242),u=n(88105),d=n(7432),p=n(40183),h=n(65390),m=n(66202),g=n(11623),f=n(9896),y=n(1395),v=n(18039),_=n(72896),b=n(34553);function w(e){return null===e||p.WA(e.charCodeAt(0))}class S{pushChanges(e){l.lY.isReset(e)?this._textLength=e.length:l.lY.isDelta(e)&&(this._verify&&(0,c.vA)(e.prevLen,this._textLength,"Incorrect textLength on insert."),this._textLength+=e.length)}get textLength(){return this._textLength}constructor(e=0,t=!1){(0,a._)(this,"_textLength",void 0),(0,a._)(this,"_verify",void 0),this._textLength=e,this._verify=t}}!function(e){e.create=e=>d.vY.compose({id:e})}(r||(r={})),function(e){class t{registerRange(e,t){return r.create(e)(t)}deregisterRange(e){return d.vY.empty}findClosestToPosition(e,t){return h.none}findRanges(e){return[]}widen(e){return(0,o.pipe)(e,(e=>d.vY.alterLeft(e,1)),m.chain((e=>d.vY.alterRight(e,1))),g.$v)}narrow(e){return(0,o.pipe)(e,h.fromPredicate((e=>d.vY.size(e)>1)),h.map((e=>(0,o.pipe)(e,(e=>d.vY.alterLeft(e,-1)),m.chain((e=>d.vY.alterRight(e,-1))),g.$v))))}}e.RangeManagerMock=t,e.mock=new t}(i||(i={}));class C{pushChanges(e){this._log.trace("PM Incoming: ",{changes:e,currentLen:this._lenCalc.textLength});try{this._lenCalc.pushChanges(e)}catch(e){if(this._strictMode)throw e;this._log.error("TextLengthCalc check failed",e)}const t=((e,t)=>{let n=0;const r=new Map;if(l.lY.isFlush(e))return{affected:[],changed:[]};let i=t.length+1;return l.lY.isReset(e)?t.forEach((e=>{e.start=0,e.end=0,r.set(e.meta.id,e)})):e.delta.ops.forEach((e=>{if(u.E.isRetain(e))n+=e.retain;else if(u.E.isInsert(e)){const a=n,o=f.yz(t,(e=>e.end<a)),s=e.insert,l="string"==typeof s?s.length:1;if(n+=l,h.isSome(o)){const e="string"==typeof s?s.charAt(s.length-1):null,n="string"==typeof s?s.charAt(0):null;for(let i=o.value;i<t.length;++i){const o=t[i];o.start<a?o.end===a?w(n)||r.set(o.meta.id,o):(r.set(o.meta.id,o),o.end+=l):o.start===o.end&&o.end===a?w(n)||r.set(o.meta.id,o):(o.start!==a||w(e)||r.set(o.meta.id,o),o.start+=l,o.end+=l)}i>o.value&&(i=o.value)}}else if(u.E.isDelete(e)){const a=n,o=f.yz(t,(e=>e.end<=a));if(h.isSome(o)){const n=a+e.delete;for(let i=o.value;i<t.length;++i){const o=t[i];o.start,o.start<n?(r.set(o.meta.id,o),o.start<a?o.end=o.end-Math.min(e.delete,o.end-a):o.end<=n?(o.start=a,o.end=a):(o.start=a,o.end-=e.delete)):(o.start-=e.delete,o.end-=e.delete)}i>o.value&&(i=o.value)}}})),{changed:t.slice(i),affected:Array.from(r.values())}})(e,this._rangesArray);this._verifyState&&this._verifyIsSorted();const n={changed:t.changed,affected:t.affected.map((e=>this.getRange(e.meta.id)))};return this._enableMPTE&&n.affected.length>0?this.rangeChangedMPTE.next(n.affected):(n.changed.length>0||n.affected.length>0)&&this._rangeChanged.next(n),n}registerRange(e,t){if(this._ranges.has(e))throw new Error("Range already registered "+e);this._log.trace("Registered range: "+e);const n=r.create(e)(t);return this._validateRange(n),this._ranges.set(e,n),this._rangesArray.push(n),this._rangesArray.sort(d.vY.ord.compare),n}_validateRange(e){d.vY.isValid(this._lenCalc.textLength)(e)||this._log.warn("Trying to modify corrupted range start",{range:JSON.stringify(e),length:this._lenCalc.textLength})}getRange(e){const t=this._ranges.get(e);if(void 0===t)throw new Error("Range is not registered");return t}findRanges(e){return this._rangesArray.filter(e)}deregisterRange(e){this._log.trace("deregisterRange #"+e);const t=this.getRange(e);this._verifyState&&this._verifyIsSorted(),this._ranges.delete(e);try{return(0,o.pipe)(f.yz(this._rangesArray,(e=>e.end<t.end)),h.getOrElse((()=>this._rangesArray.length)),(n=>{let r=n;for(;r<this._rangesArray.length&&this._rangesArray[r].meta.id!==e;)r++;return(0,y.V1)(r<this._rangesArray.length&&this._rangesArray[r].meta.id===e,"Range should be present: "+e),this._rangesArray.splice(r,1),t}))}catch(t){throw this._log.error("Cannot deregister range "+e,this._rangesArray),t}}findById(e){return h.fromNullable(this._ranges.get(e))}findByRange(e){const t=[];return(0,o.pipe)(f.yz(this._rangesArray,(t=>t.end<e.end)),h.getOrElse((()=>this._rangesArray.length)),(n=>{let r=n;for(;r<this._rangesArray.length&&this._rangesArray[r].end===e.end;)this._rangesArray[r].start===e.start&&t.push(this._rangesArray[r]),r++;return t}))}findIntersections(e){const t=[];return(0,o.pipe)(f.yz(this._rangesArray,(t=>t.end<e.start)),h.getOrElse((()=>this._rangesArray.length)),(n=>{let r=n;for(;r<this._rangesArray.length;){const n=this._rangesArray[r];n.end>e.start&&e.end>n.start&&t.push(this._rangesArray[r]),r++}return t}))}findClosestToPosition(e,t){const n=this._rangesArray.filter(t);return(0,o.pipe)(f.yz(n,(t=>e>=t.end)),h.getOrElse((()=>n.length)),(t=>{const r=h.fromNullable(n[t]),i=h.fromNullable(n[t-1]);return(0,o.pipe)(r,h.map((t=>(0,o.pipe)(i,h.fold((()=>t),(n=>t.start-e<=e-n.end?t:n))))),v.NW(i))}))}getRegisteredRanges(){return this._rangesArray}getTextLength(){return this._lenCalc.textLength}_verifyIsSorted(){for(let e=1;e<this._rangesArray.length;++e)this._rangesArray[e-1].end>this._rangesArray[e].end&&(this._log.isEnabled(s.y7.$.DEBUG)?this._log.error("Houston, we have a problem: Array is not sorted anymore @ "+e,this._rangesArray):this._log.error("Houston, we have a problem: Array is not sorted anymore"),this._rangesArray.sort(d.vY.ord.compare))}toString(){return JSON.stringify(this,void 0,2)}toJSON(){return{textLength:this.getTextLength(),ranges:this._rangesArray}}constructor(e=0,t=!1,n=!1){(0,a._)(this,"_enableMPTE",void 0),(0,a._)(this,"_strictMode",void 0),(0,a._)(this,"_log",void 0),(0,a._)(this,"_verifyState",void 0),(0,a._)(this,"_lenCalc",void 0),(0,a._)(this,"_ranges",void 0),(0,a._)(this,"_rangesArray",void 0),(0,a._)(this,"_rangeChanged",void 0),(0,a._)(this,"rangeChanged",void 0),(0,a._)(this,"rangeChangedMPTE",void 0),(0,a._)(this,"widen",void 0),(0,a._)(this,"narrow",void 0),this._enableMPTE=t,this._strictMode=n,this._log=s.Bx.Logging.getLogger("position_manager",s.y7.$.DEBUG),this._verifyState=this._log.isEnabled(s.y7.$.INFO),this._ranges=new Map,this._rangesArray=[],this._rangeChanged=new b.B,this.rangeChanged=this._rangeChanged,this.rangeChangedMPTE=new b.B,this.widen=e=>(this._validateRange(e),(0,o.pipe)(e,(e=>d.vY.alterLeft(e,e.start<=0?0:1)),m.chain((e=>d.vY.alterRight(e,e.end>=this._lenCalc.textLength?0:1))),m.getOrElse((t=>(this._log.error("TextRange mutation error",t),e))))),this.narrow=e=>(this._validateRange(e),(0,o.pipe)(e,h.fromPredicate((e=>d.vY.size(e)>1)),h.map((e=>(0,o.pipe)(e,(e=>d.vY.alterLeft(e,e.meta.increasedLeft>0?-1:0)),m.chain((e=>d.vY.alterRight(e,e.meta.increasedRight>0?-1:0))),m.getOrElse((t=>(this._log.error("TextRange mutation error",t),e)))))))),this._lenCalc=new S(e,this._verifyState),(0,_.hJ)("positions",(()=>{this._log.info("PositionManager",this.toString()),this._verifyIsSorted()}))}}},29120:(e,t,n)=>{n.d(t,{b:()=>r});const r=(0,n(44386).iN)()},80159:(e,t,n)=>{n.d(t,{G:()=>r,d:()=>i});var r,i,a=n(72896);!function(e){let t;function n(e){return e.type===r.Type.confirmed}function i(e){return e.type===r.Type.undone}!function(e){e.mounted="mounted",e.opened="opened",e.closed="closed",e.hovered="hovered",e.unhovered="unhovered",e.applied="applied",e.addedToDictionary="added_to_dictionary",e.ignored="ignored",e.confirmed="confirmed",e.undone="undone",e.looked="looked",e.feedbackModalOpen="feedbackModalOpen",e.feedbackModalClose="feedbackModalClose",e.feedbackModalSubmit="feedbackModalSubmit",e.teaserExpand="teaserExpand"}(t=e.Type||(e.Type={})),e.isAlertApplyAction=function(e){return e.type===r.Type.applied},e.isAlertOpenAction=function(e){return e.type===r.Type.opened},e.isCardCloseAction=function(e){return e.type===r.Type.closed},e.isAlertIgnoreAction=function(e){return e.type===r.Type.ignored},e.isAlertAddToDictionaryAction=function(e){return e.type===r.Type.addedToDictionary},e.isConfirmAction=n,e.isUndoAction=i,e.isMountAction=function(e){return e.type===r.Type.mounted},e.isLookedAction=function(e){return e.type===r.Type.looked},e.isFeedbackSubmitAction=function(e){return e.type===r.Type.feedbackModalSubmit},e.isFeedbackOpenAction=function(e){return e.type===r.Type.feedbackModalOpen},e.isFeedbackCloseAction=function(e){return e.type===r.Type.feedbackModalClose},e.isTeaserExpandAction=function(e){return e.type===r.Type.teaserExpand},e.isBulkAction=(0,a.Ub)(n,i)}(r||(r={})),function(e){let t;!function(e){e.Up="Up",e.Down="Down"}(t=e.Direction||(e.Direction={}))}(i||(i={}))},53354:(e,t,n)=>{n.d(t,{B:()=>s});var r=n(23988),i=n(33011),a=n(99339),o=n(25093);class s{static copy(e,t){this._clearSelection();const n=this._createHiddenSpan(e);return this.select(n),this._copy(e,t).then((()=>{n.parentElement.removeChild(n)})).catch((e=>{throw n.parentElement.removeChild(n),e}))}static select(e){if(Boolean(window.getSelection)&&Boolean(document.createRange)){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}else if("createTextRange"in document.body&&"selection"in document){const e=document.body.createTextRange();e.moveToElementText(this),e.select()}}static _clearSelection(){const e=Boolean(window.getSelection)?window.getSelection():document.selection;"removeAllRanges"in e?e.removeAllRanges():"empty"in e&&e.empty()}static _createHiddenSpan(e){const t=document.createElement("span");return t.setAttribute("style",["all: unset","position: fixed","top -999px","left -999px","opacity: 0","background transparent","white-space: pre","-webkit-user-select: text","-moz-user-select: text","-ms-user-select: text","user-select: text"].join(";")),t.textContent=e,document.body.appendChild(t),t}static _copy(e,t){return new Promise(((n,r)=>{try{const i=t?window.clipboardData.setData("text",e):document.execCommand("copy");Boolean(i)?n():r(new Error("Copy API doesn't work"))}catch(e){r(e)}}))}}(0,r._)(s,"copyApiAvailable",new i.t(!0));try{a.R(window,"click").pipe(o.$()).subscribe((()=>{document.queryCommandSupported("copy")||s.copyApiAvailable.next(!1)}))}catch(e){s.copyApiAvailable.next(!1)}},91485:(e,t,n)=>{n.d(t,{CG:()=>d,Ej:()=>p});var r=n(83531),i=n(83694),a=n(93432),o=n(42279),s=n(7149),l=n(25093),c=n(11623),u=n(66202);function d(e){let t=0;if(null==e||0===e.length)return t;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t}(0,r._)((function*(e,t=i.of(new Error("Timeout error")).pipe(a.c(1e4))){return c.$v(yield o.h(e.pipe(s.T(u.right)),t.pipe(s.T(u.left))).pipe(l.$()).toPromise().then((e=>null==e?u.left(new Error("Timeout error")):e)))}));const p=e=>d(Object.keys(e).sort().map((t=>t+":"+JSON.stringify(e[t]))).join(""))},19657:(e,t,n)=>{n.d(t,{$z:()=>h,y4:()=>r});var r,i,a=n(23988),o=n(38886),s=n(66202),l=n(84647),c=n(1395),u=n(18039),d=n(65390),p=n(9896);function h(e,t){return t.reduce(((t,n)=>{const r="function"==typeof e?e(n):n[e];let i=t.get(r);return i||(i=[],t.set(r,i)),i.push(n),t}),new Map)}(i=r||(r={})).URI="ImmutableSortedMap",i.create=function(e,t,n){const i=Array.isArray(e)?new Map(e.map((e=>[t(e),e]))):e,a=r.orderKeys(i,n);return i.forEach((e=>(0,c.V1)(g(e),"init value should implement IEquals",(()=>JSON.stringify(e))))),new m(i,a,n,t)},i.empty=function(e,t){return new m(new Map,[],t,e)},i.diff=function(e,t){const n=e.clear();return e.reduce((({added:e,preserved:n,removed:r,changed:i},a,o)=>{const s=e.has(o)?e.remove(o):e;if(t.has(o)){const e=a.equals(u.$v(t.get(o)).value);return{removed:r,added:s,preserved:e?n.add(a):n,changed:e?i:i.add(a)}}return{removed:r.add(a),added:s,preserved:n,changed:i}}),{removed:n,added:t,preserved:n,changed:n})},i.unsafeGet=function(e,t){return u.$v(t.get(e)).value},i.unsafeGetBy=function(e){return t=>u.$v(t.get(e)).value},i.unsafeGetAt=function(e,t){return u.$v(t.getAt(e))},i.unsafeGetAtBy=function(e){return t=>u.$v(t.getAt(e))},i.nonEmpty=function(e){return e.size>0},i.lowerBound=function(e,t){let n=-1,r=e.size;for(;n+1!==r;){const i=n+(r-n>>1);t(u.$v(e.getAt(i)))?n=i:r=i}return n+1},i.createKeySorter=function(e,t){return(n,r)=>t(e(n),e(r))},i.orderKeys=function(e,t){return Array.from(e.keys()).sort(r.createKeySorter((t=>e.get(t)),t))},i.takeByKey=function(e,t,n){const r=(0,l.pipe)(n,o.SL((t=>t===e))),i=d.fromNullable(t.get(e));return(0,c.V1)(d.isNone(r)&&d.isNone(i)||d.isSome(r)&&d.isSome(i),"unsynced hash&order"),u.fP(((e,t)=>({index:e,value:t})))(r,i)},i.getFoldableWithIndex=function(){return{URI:r.URI,_E:void 0,reduce:(e,t,n)=>e.reduce(n,t),foldMap:e=>(t,n)=>t.reduce(((t,r)=>e.concat(t,n(r))),e.empty),reduceRight:(e,t,n)=>e.reduce(((e,t)=>n(t,e)),t),reduceWithIndex:(e,t,n)=>e.reduce(((e,t,r)=>n(r,e,t)),t),reduceRightWithIndex:(e,t,n)=>e.reduce(((e,t,r)=>n(r,t,e)),t),foldMapWithIndex:e=>(t,n)=>t.reduce(((t,r,i)=>e.concat(t,n(i,r))),e.empty)}};class m{get(e){return r.takeByKey(e,this._hash,this._order)}getIndex(e){return d.fromPredicate((e=>e>-1))(this._order.indexOf(e))}getAt(e){return d.fromNullable(this._hash.get(this._order[e]))}has(e){return this._hash.has(e)}find(e,t=0){if(t<0)return d.none;for(let n=t;n<this._order.length;n++){const t=this._order[n],r=this._hash.get(t);if(e(r))return d.some({index:n,value:r})}return d.none}findFrom(e,t){return this.find(e,t)}findRight(e,t){if(Boolean(t)&&t>=this._order.length)return d.none;for(let n=Boolean(t)?t:this._order.length-1;n>=0;n--){const t=this._order[n],r=this._hash.get(t);if(e(r))return d.some({index:n,value:r})}return d.none}findRightFrom(e,t){return this.findRight(e,t)}map(e,t=this._comp){const n=new Map;this._order.forEach(((t,r)=>{const i=this._hash.get(t),a=e(i,t,r);(0,c.V1)(g(a),"transformed value should implement IEquals",(()=>JSON.stringify(a))),n.set(t,a)}));const i=r.orderKeys(n,t);return new m(n,i,t,this._getKey)}mapTo(e){return this._order.map(((t,n)=>e(this._hash.get(t),t,n)))}filter(e){const t=new Map,n=this._order.filter((n=>{const r=this._hash.get(n),i=e(r,n);return i&&t.set(n,r),i}));return new m(t,n,this._comp,this._getKey)}reduce(e,t){return this._order.reduce(((t,n,r)=>e(t,this._hash.get(n),n,r)),t)}modifyWith(e,t){const n=new Map(this._hash),i=this._order.slice(),a=(e,a)=>{const o=r.takeByKey(a,n,i),s=t(a,e,o);(0,c.V1)(g(s),"modified value should implement IEquals",(()=>JSON.stringify(s))),n.set(a,s),d.isNone(o)&&i.push(a)};return e instanceof Array?e.forEach((([e,t])=>a(t,e))):e.forEach(a),i.sort(r.createKeySorter((e=>n.get(e)),this._comp)),new m(n,i,this._comp,this._getKey)}patchWith(e,t){const n=new Map(this._hash),i=this._order.slice(),a=(e,a)=>{const o=r.takeByKey(a,n,i),s=t(a,e,o);(0,c.V1)(u.Lw(g)(s),"patched value should implement IEquals",(()=>JSON.stringify(s))),(0,l.pipe)(s,d.fold((()=>{(0,l.pipe)(o,d.fold(l.constVoid,(({index:e})=>{n.delete(a),i.splice(e,1)})))}),(e=>{n.set(a,e),d.isNone(o)&&i.push(a)})))};return e instanceof Array?e.forEach((([e,t])=>a(t,e))):e.forEach(a),i.sort(r.createKeySorter((e=>n.get(e)),this._comp)),new m(n,i,this._comp,this._getKey)}add(e){const t=new Map(this._hash),n=this._order.slice();return(Array.isArray(e)?e:[e]).forEach((e=>{const r=this._getKey(e);(0,c.V1)(g(e),"added value should implement IEquals",(()=>JSON.stringify(e))),t.set(r,e),-1===n.indexOf(r)&&n.push(r)})),n.sort(r.createKeySorter((e=>t.get(e)),this._comp)),new m(t,n,this._comp,this._getKey)}update(e,t){return(0,l.pipe)(this.get(e),d.fold((()=>s.left(`Provided key ${e} not found in the map`)),(({value:n})=>{const i=new Map(this._hash),a=this._order.slice();return i.set(e,t(n)),a.sort(r.createKeySorter((e=>i.get(e)),this._comp)),s.right(new m(i,a,this._comp,this._getKey))})))}remove(e){(0,c.V1)(this.has(e),`can not remove unknown key: ${e}`);const t=new Map(this._hash);t.delete(e);const n=p.cJ(e,this._order);return new m(t,n,this._comp,this._getKey)}clear(){return new m(new Map,[],this._comp,this._getKey)}hashCode(){let e=7;return this._hash.forEach((t=>e+=t.hashCode())),e}equals(e){return this.hashCode()===e.hashCode()&&this.size===e.size&&this.values().every(((t,n)=>t.equals(u.$v(e.getAt(n)))))}values(){return this._order.map((e=>this._hash.get(e)))}keys(){return this._order}get size(){return this._order.length}constructor(e,t,n,r){(0,a._)(this,"_hash",void 0),(0,a._)(this,"_order",void 0),(0,a._)(this,"_comp",void 0),(0,a._)(this,"_getKey",void 0),this._hash=e,this._order=t,this._comp=n,this._getKey=r,(0,c.V1)(e.size===t.length,"every hash entry should has order")}}function g(e){return!(!Boolean(e)||"function"!=typeof e.equals||"function"!=typeof e.hashCode)}},72017:(e,t,n)=>{n.d(t,{Iq:()=>r,JV:()=>s,Us:()=>a,V_:()=>l,hx:()=>c,lW:()=>d,pJ:()=>i,tG:()=>p,u:()=>o,vH:()=>h,vY:()=>u});var r,i,a,o,s,l,c,u,d,p,h,m=n(10334),g=n(17171),f=n(44869),y=n(84647),v=n(99002),_=n(72896);!function(e){e.Delete="delete",e.Insert="insert",e.Text="text",e.List="list",e.Arrow="arrow"}(r||(r={})),function(e){let t,n;!function(e){e[e.InsertList=0]="InsertList",e[e.DeleteList=1]="DeleteList",e[e.DeleteOr=2]="DeleteOr",e[e.InsertOr=3]="InsertOr",e[e.Arrow=4]="Arrow",e[e.FullSentence=5]="FullSentence",e[e.OneGap=6]="OneGap",e[e.Drilldown=7]="Drilldown",e[e.ShortenIt=8]="ShortenIt",e[e.ToneAI=9]="ToneAI",e[e.Citation=10]="Citation",e[e.WritingExpert=11]="WritingExpert"}(t=e.Type||(e.Type={})),e.eq=f.ee(((e,t)=>e.type===t.type&&e.tooltipText===t.tooltipText&&JSON.stringify(e.labels)===JSON.stringify(t.labels))),function(e){e.eq=f.mJ((e=>JSON.stringify(e.labels)))(v.Eq)}(n=e.ShortenIt||(e.ShortenIt={})),e.isFullSentence=e=>e.type===i.Type.FullSentence,e.isOneGap=e=>e.type===i.Type.OneGap,e.isShortenIt=e=>e.type===i.Type.ShortenIt,e.isToneAI=e=>e.type===i.Type.ToneAI,e.isRegular=e=>(0,y.not)((0,_.Ub)(i.isFullSentence,i.isOneGap,i.isShortenIt,i.isToneAI))(e)}(i||(i={})),function(e){e.create=(e,t)=>({labels:e,tooltipText:t,type:i.Type.InsertList})}(a||(a={})),function(e){e.create=(e,t)=>({labels:e,tooltipText:t,type:i.Type.DeleteList})}(o||(o={})),function(e){e.create=(e,t)=>({labels:e,tooltipText:t,type:i.Type.DeleteOr})}(s||(s={})),function(e){e.create=(e,t,n)=>({type:i.Type.InsertOr,labels:[e,t],tooltipText:n})}(l||(l={})),function(e){e.create=function(e,t,n){return{type:i.Type.Drilldown,original:e,labels:t,tooltipText:n}},e.getSelectedItems=(e,t)=>{if(!t||0===t.length)return{activeLabels:e.labels,original:e.original};const n=t.slice(1).reduce(((e,t)=>e.subLabels[t]),e.labels[t[0]]);return{activeLabels:n.subLabels,original:n.label}}}(c||(c={})),function(e){function t(e,t){return[...e,...t].map((e=>e.text.length)).reduce(_.cz,0)>30}e.create=function(e,n,r,a){return{type:i.Type.Arrow,original:e,labels:n,tooltipText:r,onlyReplacements:!0===a||t(e,n[0])}}}(u||(u={})),function(e){e.WithFormatting="WithFormatting",e.PlainText="PlainText"}(d||(d={})),function(e){e.createPlainText=function(e,t){return{type:i.Type.FullSentence,labels:e,tooltipText:t,kind:d.PlainText}},e.createWithFormatting=function(e,t){return{type:i.Type.FullSentence,labels:e,tooltipText:t,kind:d.WithFormatting}}}(p||(p={})),function(e){e.create=function(e,t){return{type:i.Type.OneGap,labels:{left:e.left.map((e=>(0,g._)((0,m._)({},e),{type:r.Text}))),right:e.right.map((e=>(0,g._)((0,m._)({},e),{type:r.Text})))},tooltipText:t}}}(h||(h={}))},78884:(e,t,n)=>{n.d(t,{z:()=>r});var r,i=n(38886),a=n(44869);!function(e){var t=e.eq=(0,a.OW)({alert:(0,a.mJ)((e=>e.id))(a.w_),highlightIndex:a.w_});e.getEq=()=>t,e.getHighlightRange=e=>i.$I(e.highlightIndex)(e.alert.getHighlightRanges())}(r||(r={}))},45653:(e,t,n)=>{n.d(t,{A:()=>r});var r,i=n(10334),a=n(17171),o=n(66202),s=n(44869),l=n(84647),c=n(72896),u=n(18039),d=n(65390),p=n(89520),h=n(1395),m=n(62597),g=n(63967);!function(e){let t;function n(e){return e.type===t.default}function f(e){return e.type===t.super}function y(e){return e.type===t.takeaway}function v(e){return e.type===t.shortenIt}function _(e){return e.type===t.toneAI}function b(e){return e.type===t.ethicalAI}function w(e){return e.type===t.writingExpertVbar}function S(e){return e.type===t.writingExpertWithTeaser}function C(e){return e.type===t.writingExpertWithTeaser||e.type===t.writingExpertVbar}function I(e){return(0,l.pipe)(e.freePremium,u.gR("unlocked"))}function T(e){return(0,l.pipe)(e.freePremium,u.gR("locked"))}function A(e){return(0,l.pipe)(e.freePremium,u.gR("uphook"))}!function(e){e.default="default",e.super="super",e.plagiarism="plagiarism",e.premium="premium",e.takeaway="takeaway",e.synfony="synfony",e.shortenIt="shortenIt",e.toneAI="toneAI",e.ethicalAI="ethicalAI",e.suggestedSnippet="suggestedSnippet",e.knowledgeHubSuggestedTerm="knowledgeHubSuggestedTerm",e.writingExpertVbar="writingExpertVbar",e.writingExpertWithTeaser="writingExpertWithTeaser"}(t=e.Type||(e.Type={})),e.isApplicableAlert=function(e){return(0,c.Ub)(n,f,y,v,_,b,w,C,I)(e)},e.isDefault=n,e.isSuper=f,e.isPlagiarism=function(e){return e.type===t.plagiarism},e.isPremium=function(e){return e.type===t.premium},e.isPremiumPreviewPlagiarism=function(e){return(e.type===t.premium&&e.lensName)===m.J.SpecialId.Plagiarism},e.isFree=function(e){return e.isFree},e.isPriority=function(e){return"priority"===e.view},e.isTakeaway=y,e.isShortenIt=v,e.isToneAI=_,e.isEthicalAI=b,e.isSuggestedSnippet=function(e){return e.type===t.suggestedSnippet},e.isKnowledgeHubSuggestedTerm=function(e){return"KnowledgeHub/SuggestedTerm/SuggestedTerm"===e.patternName},e.isVBar=w,e.isWritingExpertWithTeaser=S,e.isWritingExpert=C,e.isWritingExpertDebug=function(e){return"WritingExpert/Rewrite/TextEvaluation"===e.patternName&&!w(e)&&!S(e)},e.isHoverableInline=function(e){return!w(e)},e.isFullSentence=function(e){return n(e)&&g.bU.isFullSentence(e.extraProperties.cardType)},e.isSynfony=function(e){return n(e)&&g.bU.isSynfony(e.extraProperties.cardType)},e.isOneGap=function(e){return n(e)&&g.bU.isOneGap(e.extraProperties.cardType)},e.isInQuotes=function(e){return n(e)&&e.extraProperties.isInQuotes},e.isBulkApplied=function(e){return g.Fc.State.isBulkApplied(e.state)},e.isBeingApplied=function(e){return g.Fc.State.isBeingApplied(e.state)},e.isFreePremium=I,e.isLocked=T,e.isLockedUIUphook=A,e.isLockedUIAlert=function(e){return T(e)||I(e)||A(e)};var E=e.eq=s.ee(((e,t)=>e.type===t.type&&g.HJ.ordId.equals(e,t)));e.snapshot=e=>({id:e.id,type:e.type,state:e.state,title:e.title,view:e.view,lensId:e.lensId,allowUpdate:e.allowUpdate,belongsToAllAlerts:e.belongsToAllAlerts,alternatives:(0,l.pipe)(e,d.fromPredicate(r.isApplicableAlert),d.chain((e=>e.getTransform())),d.chain((0,l.flow)(p.Up("content"),o.map(g.Fc.Alternatives.snapshot),d.fromEither)),d.toNullable)}),e.fromModel=function(e){const n={id:e.id,state:e.state,title:e.title,progress:e.progress,lensId:e.lensId,lensType:e.lensType,lensName:e.toLensAlert().lensName,alertType:e.alertType,lensPriority:e.lensPriority,getHighlightRanges:e.getHighlightRanges,hasNestedHighlights:e.hasNestedHighlights,highlightTexts:e.highlightTexts,allowUpdate:e.allowUpdate,miniCardTitle:e.miniCardTitle,todoAction:e.todoAction,patternName:e.patternName,patternNameQualifier:e.patternNameQualifier,belongsToAllAlerts:e.belongsToAllAlerts,hashCode:()=>e.hashCode(),equals:function(e){return E.equals(this,e)},toJSON:function(){return r.snapshot(this)},toString:function(){return JSON.stringify(this)},isFree:e.isFree,view:e.view,bundleInfo:e.bundleInfo,prediction:e.prediction,dismissSurvey:e.dismissSurvey,acceptSurvey:e.acceptSurvey,gbPrompt:e.gbPrompt,freePremium:e.extraProperties.freePremium,result:e.result};if(g.Fc.isTakeaway(e)){const r=(0,a._)((0,i._)({},n),{type:t.takeaway,examples:e.examples,explanation:e.explanation,details:e.details,extraProperties:e.extraProperties,getTransform:()=>e.transform,takeawayScore:e.takeawayScore,takeawayIsLikelyToBeRead:e.takeawayIsLikelyToBeRead,takeawayFeedback:e.takeawayFeedback});return(0,l.unsafeCoerce)(r)}if(g.Fc.isSuperAlert(e))return(0,l.unsafeCoerce)((0,a._)((0,i._)({},n),{type:t.super,examples:e.examples,explanation:e.explanation,details:e.details,extraProperties:e.extraProperties,getTransform:()=>e.transform,labels:e.labels}));if(g.Fc.isShortenIt(e)){const r=(0,a._)((0,i._)({},n),{type:t.shortenIt,examples:e.examples,explanation:e.explanation,details:e.details,extraProperties:e.extraProperties,getTransform:()=>e.transform,sentenceCount:e.sentenceCount,wordCount:e.wordCount,compressionRatio:e.compressionRatio,summaryState:e.summaryState,dismissedTransformGroups:new Set(e.dismissedTransformGroups),transformGroups:new Set(e.transformGroups)});return(0,l.unsafeCoerce)(r)}if(g.Fc.isToneAI(e))return(0,l.unsafeCoerce)((0,a._)((0,i._)({},n),{type:t.toneAI,examples:e.examples,explanation:e.explanation,details:e.details,extraProperties:e.extraProperties,getTransform:()=>e.transform,toneAlternatives:e.toneAlternatives,selectedToneAlternativeIdx:e.selectedToneAlternativeIdx}));if(g.Fc.isEthicalAI(e))return(0,l.unsafeCoerce)((0,a._)((0,i._)({},n),{type:t.ethicalAI,examples:e.examples,explanation:e.explanation,details:e.details,extraProperties:e.extraProperties,getTransform:()=>e.transform,externalLink:e.externalLink,emojiID:e.emojiID,bannerColors:e.bannerColors,isFlaggable:e.isFlaggable,shouldDismissAfterOpeningLink:e.shouldDismissAfterOpeningLink,highlightBackgroundColor:e.highlightBackgroundColor,highlightUnderlineColor:e.highlightUnderlineColor}));if(g.Fc.isSuggestedSnippet(e))return(0,l.unsafeCoerce)((0,a._)((0,i._)({},n),{type:t.suggestedSnippet,examples:e.examples,explanation:e.explanation,details:e.details,extraProperties:e.extraProperties,getTransform:()=>e.transform,snippetText:e.snippetText,libLink:e.libLink,snippetsTrigger:e.snippetsTrigger}));if(g.Fc.isKnowledgeHubSuggestedTerm(e))return(0,l.unsafeCoerce)((0,a._)((0,i._)({},n),{type:t.knowledgeHubSuggestedTerm,examples:e.examples,explanation:e.explanation,details:e.details,extraProperties:e.extraProperties,getTransform:()=>e.transform,knowledgeHubTermCreationUrl:e.knowledgeHubTermCreationUrl}));if(g.Fc.isPlagiarism(e))return(0,l.unsafeCoerce)((0,a._)((0,i._)({},n),{type:t.plagiarism,cardId:e.cardId,plagiarismType:e.plagiarismType}));if(g.Fc.isApplicableAlert(e))return(0,l.unsafeCoerce)((0,a._)((0,i._)({},n),{type:(o=e,g.Fc.isVbar(o)?t.writingExpertVbar:g.Fc.isWithTeaser(o)?t.writingExpertWithTeaser:t.default),examples:e.examples,explanation:e.explanation,details:e.details,extraProperties:e.extraProperties,getTransform:()=>e.transform}));var o;if(g.Fc.isPremium(e))return(0,l.unsafeCoerce)((0,a._)((0,i._)({},n),{categoryHuman:e.categoryHuman,type:t.premium}));throw new h.zU(`Not supported type of alert, must be either Alert, SuperAlert or PlagiarismAlert, was: ${e.constructor.name}(${e.lensType})`)}}(r||(r={}))},92141:(e,t,n)=>{n.d(t,{CC:()=>o,Jj:()=>l,X9:()=>r,tv:()=>i});var r,i,a,o,s,l,c=n(72896),u=n(1395),d=n(45653),p=n(73285);!function(e){let t,n,i;function a(e){return e.type===r.Type.takeawayCorrectlyDetected||e.type===r.Type.takeawayIncorrectlyDetected}function o(e){return e.type===r.Type.bulkApply}function s(e){return e.type===r.Type.bulkDismiss}function l(e){return e.type===r.Type.bulkIgnore}function u(e){return e.type===r.Type.bulkHighlight}function h(e){return e.type===r.Type.bulkUndo}function m(e){return e.type===r.Type.bulkIndividualUndo}function g(e){return e.type===r.Type.bulkLooksGood}!function(e){e.switchToNext="switchToNext",e.switchToClosestByViewport="switchToClosestByViewport",e.alertMinicardButtonClick="alertMinicardButtonClick",e.cardMatchesNavigationButtonClick="cardMatchesNavigationButtonClick",e.openSetGoals="setGoals",e.alertCardShow="alertCardShow",e.moreAlertsButtonShow="moreAlertsButtonShow",e.alternativeReplacementRadioButtonClick="alternativeReplacementRadioButtonClick",e.alertApply="alertApply",e.alertFeedback="alertFeedback",e.hover="hover",e.onboardingClose="onboardingClose",e.muteAlertCategory="muteAlertCategory",e.undoMuteAlertCategory="undoMuteAlertCategory",e.premiumTrialFooterCtaClick="premiumTrialFooterCtaClick",e.toSignIn="toSignIn",e.moreActionsButtonToggle="moreActionsButtonToggle",e.openPreferences="preferences",e.dismissMuteQuotedAdvice="dismissMuteQuotedAdvice",e.fullSentenceHighlightChangesToggle="fullSentenceHighlightChangesToggle",e.muteQuotedAdviceShow="muteQuotedAdviceShow",e.alertIgnore="alertIgnore",e.alertResolve="alertResolve",e.alertIgnoreFormSubmit="alertIgnoreFormSubmit",e.alertApplyFormSubmit="alertApplyFormSubmit",e.alertIgnoreFeedbackFormShow="alertIgnoreFeedbackFormShow",e.gbPromptApply="gbPromptApply",e.gbPromptCreateRule="gbPromptCreateRule",e.gbPromptDismiss="gbPromptDismiss",e.gbPromptShow="gbPromptShow",e.takeawayCorrectlyDetected="takeawayCorrectlyDetected",e.takeawayIncorrectlyDetected="takeawayIncorrectlyDetected",e.takeawayDismiss="takeawayDismiss",e.takeawayResolve="takeawayResolve",e.changeUserInput="changeUserInput",e.focusUserInput="focusUserInput",e.miniItemClick="miniItemClick",e.bulkApply="bulkApply",e.bulkDismiss="bulkDismiss",e.bulkIgnore="bulkIgnore",e.bulkHighlight="bulkHighlight",e.bulkIndividualUndo="bulkIndividualUndo",e.bulkUndo="bulkUndo",e.bulkAcceptItemShow="bulkAcceptItemShow",e.bulkLooksGood="bulkLooksGood",e.mutedAlertSuccessShow="mutedAlertSuccessShow",e.mutedAlertSuccessDismissed="mutedAlertSuccessDismissed",e.mutedAlertSuggestionManagementClick="mutedAlertSuggestionManagementClick",e.toneAIChangeToneAlternative="toneAIChangeToneAlternative",e.shortenItReviewEdit="shortenItReviewEdit",e.shortenItDismissEdit="shortenItDismissEdit",e.shortenItKeepEdit="shortenItKeepEdit",e.sduiCardAction="sduiCardAction",e.openIdeasGallery="openIdeasGallery",e.ethicalAIOpenExternalLink="ethicalAIOpenExternalLink",e.createSnippet="createSnippet",e.snippetsOpenExternalLink="manageSnippetsOpenExternalLink",e.suggestedSnippetSuccessDismissed="suggestedSnippetSuccessDismissed",e.listItemClick="listItemClick"}(t=e.Type||(e.Type={})),function(e){e.defaultCard="defaultCard",e.superCard="superCard"}(n=e.CardType||(e.CardType={})),e.getCardType=function(e){switch(e.activeAlert.type){case d.A.Type.super:return n.superCard;case d.A.Type.default:default:return n.defaultCard}},e.isAlertApplyAction=function(e){return e.type===r.Type.alertApply},e.isAlertFeedbackAction=function(e){return e.type===r.Type.alertFeedback},e.isTakeawayCorrectlyDetectedAction=function(e){return e.type===r.Type.takeawayCorrectlyDetected},e.isTakeawayIncorrectlyDetectedAction=function(e){return e.type===r.Type.takeawayIncorrectlyDetected},e.isTakeawayDismissAction=function(e){return e.type===r.Type.takeawayDismiss},e.isTakeawayResolveAction=function(e){return e.type===r.Type.takeawayResolve},e.isTakeawayDetectionFeedbackAction=a,e.isTakeawayAction=function(e){return a(e)||e.type===r.Type.takeawayDismiss||e.type===r.Type.takeawayResolve},e.isToneAIChangeToneAlternativeAction=function(e){return e.type===r.Type.toneAIChangeToneAlternative},e.isEthicalAIOpenExternalLinkAction=function(e){return e.type===r.Type.ethicalAIOpenExternalLink},e.isSnippetsOpenExternalLink=function(e){return e.type===r.Type.snippetsOpenExternalLink},e.isAlertIgnoreAction=function(e){return e.type===r.Type.alertIgnore},e.isAlertResolveAction=function(e){return e.type===r.Type.alertResolve},e.isAlertIgnoreFeedbackFormSubmit=function(e){return e.type===r.Type.alertIgnoreFormSubmit},e.isAlertApplyFeedbackFormSubmit=function(e){return e.type===r.Type.alertApplyFormSubmit},e.isGbPromptApply=function(e){return e.type===r.Type.gbPromptApply},e.isGbPromptCreateRule=function(e){return e.type===r.Type.gbPromptCreateRule},e.isGbPromptDismiss=function(e){return e.type===r.Type.gbPromptDismiss},e.isGbPromptShow=function(e){return e.type===r.Type.gbPromptShow},e.isMuteCategoryAction=function(e){return e.type===r.Type.muteAlertCategory},e.isUndoMuteCategoryAction=function(e){return e.type===r.Type.undoMuteAlertCategory},e.isMutedAlertCardDismissedAction=function(e){return e.type===r.Type.mutedAlertSuccessDismissed},e.isCreateSnippetAction=function(e){return e.type===r.Type.createSnippet},e.isSuggestedSnippetSuccessDismissed=function(e){return e.type===r.Type.suggestedSnippetSuccessDismissed},e.isHoverAction=function(e){return e.type===r.Type.hover},e.isAlertCardShow=function(e){return e.type===r.Type.alertCardShow},e.isBulkAcceptItemShow=function(e){return e.type===r.Type.bulkAcceptItemShow},e.isSwitchToClosestByViewport=function(e){return e.type===r.Type.switchToClosestByViewport},e.isAlertMinicardButtonClick=function(e){return e.type===r.Type.alertMinicardButtonClick},e.isMiniItemClick=function(e){return e.type===r.Type.miniItemClick},e.isChecklistItemCollapseButtonClick=function(e){return e.type===p.Q.Type.collapseButtonClick},e.isOnboardingClose=function(e){return e.type===r.Type.onboardingClose},e.isNavigation=function(e){return e.type===r.Type.openSetGoals||e.type===r.Type.openPreferences},e.isDismissMuteQuotedAdvice=function(e){return e.type===r.Type.dismissMuteQuotedAdvice},e.isMuteQuotedAdviceShow=function(e){return e.type===r.Type.muteQuotedAdviceShow},e.isChangeUserInput=function(e){return e.type===r.Type.changeUserInput},e.isFocusUserInput=function(e){return e.type===r.Type.focusUserInput},e.isBulkApply=o,e.isBulkDismiss=s,e.isBulkIgnore=l,e.isBulkHighlight=u,e.isBulkUndo=h,e.isBulkIndividualUndo=m,e.isBulkLooksGood=g,e.isBulkAction=(0,c.Ub)(o,s,l,u,m,g,h),e.isMutedAlertSuggestionsManagementClick=function(e){return e.type===r.Type.mutedAlertSuggestionManagementClick},e.isSDUICardAction=function(e){return e.type===r.Type.sduiCardAction},function(e){e.hasAction=function(e,t){return e.actions.some((e=>e.type===t))}}(i=e.ProxySduiCardAction||(e.ProxySduiCardAction={})),e.isOpenIdeasGallery=function(e){return e.type===r.Type.openIdeasGallery},e.isListItemClick=function(e){return e.type===r.Type.listItemClick},e.hasClickPoint=(0,c.Ub)(r.isBulkHighlight,r.isAlertMinicardButtonClick,r.isListItemClick)}(r||(r={})),function(e){let t;!function(e){e.drilldown="synfonyDrilldownSelect",e.back="synfonyDrilldownBack"}(t=e.Kind||(e.Kind={})),e.isDrilldown=function(e){return e.type===t.drilldown},e.isBack=function(e){return e.type===t.back}}(i||(i={})),function(e){e.isReviewEdit=function(e){return e.type===r.Type.shortenItReviewEdit},e.isDismissEdit=function(e){return e.type===r.Type.shortenItDismissEdit},e.isKeepEdit=function(e){return e.type===r.Type.shortenItKeepEdit}}(a||(a={})),function(e){let t;function n(e){return e.type===t.startTransitionTo}!function(e){e.startTransitionTo="startTransitionTo",e.completeTransitionTo="completeTransitionTo"}(t=e.Kind||(e.Kind={})),e.isStartTransitionTo=n,e.isCardExpand=function(e){return n(e)&&"expanded"===e.transition.type},e.isCompleteTransitionTo=function(e){return e.type===t.completeTransitionTo}}(o||(o={})),function(e){let t;!function(e){e.dismissBatch="dismissBatch"}(t=e.Kind||(e.Kind={})),e.isDismissAlertsBatchAction=function(e){return e.type===t.dismissBatch}}(s||(s={})),function(e){let t;!function(e){e.setAcademicDomainAndCitationStyle="setAcademicDomainAndCitationStyle"}(t=e.Kind||(e.Kind={})),e.isSetAcademicDomainAndCitationStyleAction=function(e){return e.type===t.setAcademicDomainAndCitationStyle}}(l||(l={})),(0,u.AS)(void 0)},79321:(e,t,n)=>{n.d(t,{K:()=>r,n:()=>i});var r,i,a=n(44869),o=n(52818),s=n(6320);!function(e){let t;!function(e){e.ISO=(0,s.KH)()}(t=e.FromWindowTop||(e.FromWindowTop={}))}(r||(r={})),function(e){let t,n,r;!function(e){e.ISO=(0,s.KH)(),e.equals=(0,s.nZ)(a.US).equals}(t=e.FromViewportTop||(e.FromViewportTop={})),function(e){e.ISO=(0,s.KH)()}(n=e.AbsTop||(e.AbsTop={})),function(e){e.ISO=(0,s.KH)()}(r=e.CardTop||(e.CardTop={}));var i=e.concatC=e=>t=>e+t;const l=e=>new o.uB(e);e.converters=function(e,t,n){const r=l(i(n)).get,a=l(i(-e)).get;return{windowToViewport:l(i(-t)).get,viewportToWindow:l(i(t)).get,cardTopToViewport:a,viewportToCardTop:l(i(e)).get,absTopToViewportTop:e=>a(r(e)),absTopToCardTop:r}}}(i||(i={}))},79334:(e,t,n)=>{n.d(t,{Et:()=>i,X$:()=>r});var r,i,a,o=n(23988),s=n(44869),l=n(79321);!function(e){e.above="above",e.below="below",e.hidden="hidden"}(r||(r={})),function(e){e.Impl=class{constructor(e,t,n){(0,o._)(this,"scrollTop",void 0),(0,o._)(this,"viewport",void 0),(0,o._)(this,"converters",void 0),this.scrollTop=e,this.viewport=t,this.converters=l.n.converters(e,l.K.FromWindowTop.ISO.unwrap(t.top),n)}}}(i||(i={})),function(e){const t=(0,s.OW)({top:s.US,height:s.US});e.eqDimensionsTuple=(0,s.JU)(t,t)}(a||(a={}))},94190:(e,t,n)=>{n.d(t,{K:()=>r});var r,i=n(10334),a=n(17171),o=n(44296),s=n(36652);!function(e){var t=s.e;e.Transition=t;var n=s.y;function r(e){return"visualState"in e}e.VisualState=n,e.eq={equals:(e,t)=>!r(e)||r(t)&&n.eq.equals(e.visualState,t.visualState)},e.isAnimatable=r,e.isFocused=e=>{switch(e.visualState.transition.type){case"expanded":case"focused":case"presuccess":case"success":case"feedback_form":return!0;default:return!1}};var l=e.isInTransition=e=>e.visualState.incomplete;let c;e.isRemoved=e=>"removed"===e.visualState.transition.type,e.isAnimatingAdded=e=>"added"===e.visualState.transition.type&&l(e),e.isAnimatingRemoval=e=>"removed"===e.visualState.transition.type&&l(e),e.isHidden=e=>"hidden"===e.visualState.transition.type,function(e){e.getPojoUpdates=()=>(0,a._)((0,i._)({},o.T.Capabilities.getPojoUpdates()),{setVisualState:e=>t=>(0,a._)((0,i._)({},t),{visualState:e})})}(c=e.Capabilities||(e.Capabilities={}))}(r||(r={}))},73285:(e,t,n)=>{var r;n.d(t,{Q:()=>r}),function(e){let t;!function(e){e.collapseButtonClick="collapseButtonClick"}(t=e.Type||(e.Type={}))}(r||(r={}))},44296:(e,t,n)=>{n.d(t,{T:()=>r});var r,i=n(10334),a=n(17171),o=n(44869),s=n(85731);!function(e){var t=s.X;let n;e.PositionState=t,e.eqById=o.ee(((e,t)=>e.id===t.id)),e.getEqById=()=>o.ee(((e,t)=>e.id===t.id)),e.positionStateEq={equals:(e,n)=>t.eq.equals(e.positionState,n.positionState)},e.verticalPositionEq={equals:(e,n)=>t.verticalEq.equals(e.positionState,n.positionState)},function(e){e.getPojoCloneable=()=>({clone:e=>(0,i._)({},e)}),e.getPojoUpdates=()=>({setPosition:e=>t=>(0,a._)((0,i._)({},t),{positionState:e})})}(n=e.Capabilities||(e.Capabilities={}))}(r||(r={}))},85731:(e,t,n)=>{n.d(t,{X:()=>r});var r,i=n(44869),a=n(93267),o=n(84647),s=n(84906),l=n(89520);!function(e){e.eq=i.OW({absTop:s.Eq,height:s.Eq,animationInProgress:a.Eq,visible:a.Eq,isHeightValid:a.Eq,watched:a.Eq,inert:a.Eq}),e.verticalEq=i.OW({absTop:s.Eq,height:s.Eq}),e.empty={absTop:0,height:0,animationInProgress:!1,visible:!1,isHeightValid:!1,watched:!1,inert:!1},e.create=o.identity,e.dimensionEquals=function(e,t){return e.absTop===t.absTop&&e.height===t.height},e.changeTop=function(e,t){return l.yo(e,{absTop:t})},e.changeHeight=function(e,t){return l.yo(e,{height:t,isHeightValid:!0})},e.changeAnimationInProgress=function(e,t){return l.yo(e,{animationInProgress:t})},e.changeVisible=function(e,t){return l.yo(e,{visible:t})},e.invalidateHeight=function(e){return l.yo(e,{isHeightValid:!1})},e.changeWatched=function(e,t){return l.yo(e,{watched:t})},e.changeInert=function(e,t){return l.yo(e,{inert:t})}}(r||(r={}))},26251:(e,t,n)=>{n.d(t,{p:()=>r});var r,i=n(10334),a=n(17171),o=n(84011),s=n(65390),l=n(84712),c=n(83694),u=n(1395);!function(e){let t,n,r;!function(e){e.RegularLightMode="regularLightMode",e.ContrastLightMode="contrastLightMode"}(t=e.CardVisualMode||(e.CardVisualMode={})),(t=e.CardVisualMode||(e.CardVisualMode={})).match=({onRegular:e,onContrast:n})=>r=>{switch(r){case t.RegularLightMode:return e();case t.ContrastLightMode:return n();default:return(0,u.xb)(r)}},e.toJSON=function(e){return(0,a._)((0,i._)({},e),{isNew:e.isNew._value})},function(e){e.cozy="cozy",e.compact="compact",e.minimal="minimal"}(n=e.Density||(e.Density={})),e.defaultOptions={features:new Set,layoutDensity:n.cozy,isNew:c.of(s.none),cardVisualMode:l.s.create(t.RegularLightMode)},function(e){function t(e,t,r){return i=>{switch(i){case n.cozy:return e();case n.compact:return t();case n.minimal:return r();default:return(0,u.xb)(i)}}}e.match=function(e,n,r){return t(o.of(e),o.of(n),o.of(r))},e.matchL=t,e.matchOrDefault=function(e){return(t,n)=>r=>r===e?t():n()}}(n=e.Density||(e.Density={})),function(e){e.showLabel="showLabel",e.enableMuteQuotedAdvice="enableMuteQuotedAdvice",e.showAnonymousUserFooters="showAnonymousUserFooters",e.showPremiumTrialFooters="showPremiumTrialFooters",e.showPersistentPremiumCardLabels="showPersistentPremiumCardLabels",e.showNewPremiumCardLabels="showNewPremiumCardLabels",e.showPremiumOnboarding="showPremiumOnboarding",e.a11yContrast="a11yContrast",e.showYellowFooterForTrialUsers="showYellowFooterForTrialUsers",e.sduiContainerStyle="sduiContainerStyle",e.showOnboardingTourA11yUpdates="showOnboardingTourA11yUpdates"}(r=e.Features||(e.Features={}))}(r||(r={}))},36652:(e,t,n)=>{n.d(t,{e:()=>r,y:()=>i});var r,i,a=n(93267),o=n(44869),s=n(65390),l=n(99002),c=n(1395),u=n(89520);!function(e){let t;e.eq=o.OW({type:l.Eq,clockwise:a.Eq}),t=e.nominal||(e.nominal={})}(r||(r={})),function(e){e.initial=(e,t=!0)=>({from:s.none,transitionId:0,transition:e,incomplete:t}),e.eq=o.OW({from:s.getEq(o.w_),transitionId:o.w_,transition:r.eq,incomplete:o.w_}),e.to=(e,t)=>({from:s.some(e.transition.type),transitionId:e.transitionId+1,transition:t,incomplete:!0}),e.complete=(e,t)=>((0,c.V1)(t===e.transitionId,"unexpected transitionId"),u.yo(e,{incomplete:!1}))}(i||(i={}))},87275:(e,t,n)=>{n.d(t,{Ct:()=>p,Ir:()=>i,Iw:()=>a,Tt:()=>o,nl:()=>r,os:()=>R,pk:()=>l});var r,i,a,o,s,l,c,u,d,p,h=n(23988),m=n(10334),g=n(17171),f=n(81276),y=n(53397),v=n(65390),_=n(92802),b=n(84647),w=n(89186),S=n(72896),C=n(1395),I=n(89520),T=n(62597),A=n(5406),E=n(91076),k=n(83694),x=n(91485);!function(e){e.forceText="forceText",e.forceSidebar="forceSidebar"}(r||(r={})),function(e){e.lensview="lensview",e.advanced="advanced",e.plagiarism="plagiarism",e.draftAI="draftAI",e.cheetah="cheetah",e.closed="closed"}(i||(i={})),(i||(i={})).fromLensId=e=>{switch(e){case T.J.SpecialId.Cheetah:return i.cheetah;case T.J.SpecialId.DraftAI:return i.draftAI;case T.J.SpecialId.Plagiarism:return i.plagiarism;case T.J.SpecialId.Premium:case T.J.SpecialId.FreePremiumAlerts:return i.advanced;case T.J.SpecialId.Closed:return i.closed;default:return i.lensview}},function(e){e.active="active",e.persistent="persistent",e.abstract="abstract"}(a||(a={})),function(e){function t(e){return(0,b.pipe)(e.cardIndex,v.chain((t=>e.items.getAt(t))))}e.getActiveItem=t,e.getActiveItemIndex=e=>(0,b.flow)(o.getActiveItem,v.chain((t=>e.get(t.id))),v.map((e=>e.index))),e.getActiveItemOfType=function(e){return(0,b.flow)(t,v.filter(e))}}(o||(o={})),function(e){e.withFilter=e=>t=>(n,r)=>t(n,(0,S.M4)(e,r)),e.compose=function(e){return(t,n)=>(0,y.concatAll)((0,f.JI)())(e.map((e=>e(t,n))))}}(s||(s={})),function(e){e.hasItems=function(e){return e.kind===a.active||e.kind===a.persistent}}(l||(l={}));class R{static create(e){return new R(e)}get alertSource(){return this._data.alertSource}get switchOrder(){return this._data.switchOrder}get currentLens(){return this._data.currentLens}patch(e){return new R((0,m._)({},this._data,e))}hashCode(){let e=7;return e=31*e+(0,x.CG)(this.alertSource),e=31*e+(0,x.CG)(this.switchOrder),e=31*e+this.currentLens.hashCode(),e}equals(e){return this.alertSource===e.alertSource&&this.switchOrder===e.switchOrder&&this.currentLens.equals(e.currentLens)}constructor(e){(0,h._)(this,"_data",void 0),this._data=e}}!function(e){var t=e.withCardLensSnapshot=(e,t)=>n=>{const r=n.currentLens.items.size>50,i=(0,b.pipe)(n.currentLens.cardIndex,v.getOrElse((()=>0))),[a,o]=r?[Math.max(i-25,0),i+25]:[0,50];return{alertSource:n.alertSource,switchOrder:n.switchOrder,lens:{id:n.currentLens.id,card:(0,b.pipe)(t(n.currentLens),v.map(e)),items:n.currentLens.items.values().slice(a,o).map(e),sample:r}}};function n(e,t,n){return r=>{switch(r.currentLens.kind){case a.active:return e(r);case a.persistent:return t(r);case a.abstract:return n(r);default:return(0,C.xb)(r.currentLens)}}}e.snapshot=(e,r)=>n(t(e,r),t(e,r),(e=>({alertSource:e.alertSource,switchOrder:e.switchOrder,lens:{id:e.currentLens.id,kind:e.currentLens.kind}}))),e.genericMapper=n;var o=e.mapper=e=>n(e,e,(()=>v.none)),s=e.getActiveItem=e=>o((({currentLens:t})=>e(t)));let l,c,u,d;function p(e){return e.currentLens.kind===a.persistent}e.getActiveAlertHighlight=e=>(0,b.flow)(s(e),v.map((e=>({alert:e.activeAlert,highlightIndex:e.activeHighlightIndex})))),e.getActiveAlert=e=>(0,b.flow)(s(e),v.map((e=>e.activeAlert))),e.getLens=o((({currentLens:e})=>v.some(e))),function(e){e.mapper=function(e,t){return n=>t[e(n)](n)}}(l=e.Items||(e.Items={})),e.is=function(e){return t=>t.currentLens.id===e},e.isLensview=function(e){return e.currentLens.type===i.lensview},e.isPersistent=p,e.hasCards=function(e){return e.currentLens.kind===a.active||p(e)},e.hasItems=function(e){return e.currentLens.kind===a.active||e.currentLens.kind===a.persistent},e.hasSuccess=function(e){return T.J.isOutcomeId(e.currentLens.id)||T.J.isMainLens(e.currentLens.id)||e.currentLens.id===T.J.SpecialId.PredictionTakeaways||e.currentLens.id===T.J.SpecialId.PredictionEmogenie},e.isForceSidebar=e=>(R.isLensview(e)||e.currentLens.type===i.plagiarism)&&e.alertSource===r.forceSidebar,e.isSidebarOpened=e=>!R.is(T.J.SpecialId.Closed)(e),function(e){e.defaultFilter=I.Up("alertHighlight")}(c=e.FocusFirstFilter||(e.FocusFirstFilter={})),function(e){e.getLens=()=>w.vt((e=>e.currentLens),((e,t)=>t.patch({currentLens:e}))),e.getLensWithItems=()=>w.vt((e=>e.currentLens),((e,t)=>t.patch({currentLens:e})))}(u=e.Prism||(e.Prism={})),function(e){let t,n,r,i,a,o,s,l,c;!function(e){e.SwitchLens="SwitchLens",e.SwitchAlert="SwitchAlert",e.Applicator="Applicator",e.ItemsApplicator="ItemsApplicator"}(t=e.Type||(e.Type={})),function(e){let n;e.create=function(e){return{type:t.Applicator,source:e}},function(e){e.identity=e=>e,e.override=e=>()=>e,e.empty=A.w}(n=e.Source||(e.Source={}))}(n=e.Applicator||(e.Applicator={})),function(e){let n;e.create=function(e){return{type:t.ItemsApplicator,source:e}},function(e){e.identity=()=>e=>e,e.override=e=>()=>e,e.empty=A.w}(n=e.Source||(e.Source={}))}(r=e.ItemsApplicator||(e.ItemsApplicator={})),function(e){e.create=function(e){return{type:t.SwitchAlert,source:e}}}(i=e.SwitchAlert||(e.SwitchAlert={})),function(e){e.create=function(e){return{type:t.SwitchLens,source:e}}}(a=e.SwitchLens||(e.SwitchLens={})),function(e){function t(e){return e===T.J.SpecialId.Closed}e.isSidebarClosed=t,e.isSidebarOpen=(0,_.AU)(t),e.always=b.constTrue}(o=e.When||(e.When={})),function(e){e.delayed=e=>t=>{const n=E.o((()=>k.of(void 0)),e),r=(0,g._)((0,m._)({},t.what),{source:n(t.what.source)});return(0,g._)((0,m._)({},t),{what:r})}}(s=e.Producer||(e.Producer={})),function(e){e.noFocus="noFocus",e.unFocus="unFocus",e.focusFirst="focusFirst",e.focusNext="focusNext",e.focusAlert="focusAlert"}(l=e.FocusBehaviorType||(e.FocusBehaviorType={})),function(e){e.noFocus={kind:l.noFocus},e.unFocus={kind:l.unFocus},e.focusNext={kind:l.focusNext},e.focusFirst={kind:l.focusFirst},e.focusAlert=e=>({kind:l.focusAlert,alertHighlight:e})}(c=e.FocusBehavior||(e.FocusBehavior={}))}(d=e.Effect||(e.Effect={}))}(R||(R={})),function(e){e.defaultOptions={focusBehavior:R.Effect.FocusBehavior.focusFirst}}(c||(c={})),function(e){e[e.allAlerts=0]="allAlerts",e[e.priorityAlertsOnly=1]="priorityAlertsOnly"}(u||(u={})),function(e){e.getDefault=()=>u.allAlerts}(d||(d={})),function(e){e.skip=b.constFalse,e.force=b.constTrue,e.proceed=e=>e.positionState.animationInProgress}(p||(p={}))},90045:(e,t,n)=>{n.d(t,{p:()=>r});var r,i=n(10334),a=n(17171),o=n(45819),s=n(38886),l=n(66202),c=n(44869),u=n(53397),d=n(83288),p=n(92802),h=n(38260),m=n(84647),g=n(89186),f=n(65390),y=n(18039),v=n(72896),_=n(89520),b=n(88597),w=n(1395),S=n(9896),C=n(63967),I=n(62597),T=n(22809),A=n(91485),E=n(94190),k=n(44296),x=n(87275);!function(e){let t,n,r,R;e.filterAlertInLens=(e,t)=>s.pb((n=>C.Fc.isNotRemoved(n)||f.isSome(e.items.find((e=>t.hasAlert(n.id)(e)))))),e.findItemWithAlertInLens=(e,t)=>(0,m.flow)(f.fromPredicate(C.Fc.isNotRemoved),f.chain((n=>e.items.find((e=>t.hasAlert(n.id)(e)&&!t.isScheduledToDispose(e))))),f.map((e=>e.value))),e.createWithInitialAlerts=(e,t,n,r,o)=>(s,l,c,u)=>{const d=(0,m.pipe)(u,f.fold((()=>m.identity),(e=>o.selectItemByAlert(e)))),p=e.create(s,l),h=c.filter(n.alertVisibleInSidebar(s)),g=t(s);if(x.pk.hasItems(p)){const e=T.A.empty,t=T.A.from(h),n=T.A.diff(e,t);return(0,m.pipe)(p,g(n,r),o.changeItemsVisualState(E.K.VisualState.initial({type:"rendered",clockwise:!0},!1)),d,(e=>(0,a._)((0,i._)({},e),{animation:x.Ct.skip})))}return p},e.createWithExternalItems=(e,t)=>(n,r,o,s,l)=>{const c=e.create(n,r);return(0,m.pipe)(l,f.filter((e=>x.pk.hasItems(e)&&x.pk.hasItems(c))),f.map((e=>t.changeItemsVisualState(E.K.VisualState.initial({type:"rendered",clockwise:!0},!1))((0,a._)((0,i._)({},c),{items:e.items.filter((0,p.AU)(t.isScheduledToDispose))})))),f.getOrElse((()=>c)))},function(e){e.setVisibleItems=e=>t=>(0,a._)((0,i._)({},t),{cardIndex:(0,m.pipe)(x.Tt.getActiveItem(t),f.chain((t=>(0,m.pipe)(e.get(t.id),f.map((e=>e.index)))))),items:e}),e.hideItem=function(e,t){return E.K.isAnimatable(e)&&"removed"!==e.visualState.transition.type&&"hidden"!==e.visualState.transition.type?t.transitionTo({type:"hidden",clockwise:!1})(e):e};var t=e.calculateCardsHeight=e=>(0,m.pipe)(e.getAt(e.size-1),f.map((e=>e.positionState.absTop+e.positionState.height)),f.getOrElse((()=>0)));e.getItemsPositionsUpdateTransformer=e=>({state:t,metadata:r})=>{if(!x.os.hasCards(t))return l.left({state:t,metadata:r});const i=x.os.Prism.getLens();return l.left({state:i.modify(n(e),t),metadata:r})},e.getSingleItemFeedPositionsUpdateTransformer=e=>({state:t,metadata:n})=>{if(!x.os.hasCards(t))return l.left({state:t,metadata:n});const r=x.os.Prism.getLens();return l.left({state:r.modify((t=>{const n=t.items.map(((n,r,o)=>{const s=y.gR(o)(t.cardIndex)?{absTop:n.positionState.absTop,height:n.positionState.height,animationInProgress:t.animation(n,o),visible:!0,isHeightValid:!0,watched:!0,inert:n.positionState.inert}:(0,a._)((0,i._)({},n.positionState),{visible:!1,isHeightValid:!0});return k.T.PositionState.eq.equals(n.positionState,s)?n:e.changePosition(s)(n)}));return(0,a._)((0,i._)({},t),{items:n,isCardsHeightValid:!0})}),t),metadata:n})},e.getRemoveDisposedItemsTransformer=e=>({state:t,metadata:n})=>{if(!x.os.hasCards(t))return l.left({state:t,metadata:n});const r=x.os.Prism.getLens();return l.left({state:r.modify((t=>{const n=x.Tt.getActiveItem(t),r=t.items.filter((t=>!e.isScheduledToDispose(t)||(0,v.Ub)((0,p.AU)(E.K.isAnimatable),E.K.isAnimatingRemoval)(t)||(0,m.pipe)(n,f.exists((e=>e.id===t.id))))),o=(0,m.pipe)(t,x.Tt.getActiveItemIndex(r));return(0,a._)((0,i._)({},t),{items:r,cardIndex:o})}),t),metadata:n})};var n=e.updateItemsPositions=e=>n=>{const r=x.Tt.getActiveItem(n),o=(l=e,e=>(0,m.pipe)(e.items.find((e=>t=>n=>n.positionState.watched&&!e.isHidden(n)&&(0,m.pipe)(t,y.Lw((e=>e.id!==n.id))))(l)(x.Tt.getActiveItem(e))),f.map((({value:e,index:t})=>({index:t,value:(0,m.pipe)(e,f.fromPredicate((e=>e.positionState.isHeightValid&&!l.isScheduledToDispose(e))))})))))(n),s=(0,m.pipe)(o,f.chain(_.Up("value")),f.map((e=>e.positionState.height)));var l;let c=0;const u=(0,m.pipe)(r,y.Lw((e=>e.positionState.isHeightValid))),d=(0,m.pipe)(o,f.map(_.Up("index")),f.getOrElse((()=>{return e=n.cardIndex,(0,m.pipe)(e,f.map((e=>0===e?1:0)),f.getOrElse((()=>0)));var e}))),p=n.items.map(((t,r,i)=>{const a=y.gR(i)(n.cardIndex),o=a||i===d,l=e.isScheduledToDispose(t)||(a?t.positionState.isHeightValid:f.isSome(s)),p=e.isScheduledToDispose(t)?e.useReferenceHeightOnRemove(t)?(0,m.pipe)(s,f.getOrElse((()=>t.positionState.height))):0:a?t.positionState.height:(0,m.pipe)(s,f.getOrElse((()=>t.positionState.height))),h={absTop:a||u?c:t.positionState.absTop,height:p,animationInProgress:n.animation(t,i),visible:t.positionState.visible,isHeightValid:l,watched:o,inert:t.positionState.inert};return e.shouldAnimatePositionChange(h,a)(t)||(h.animationInProgress=!1),c+=p,k.T.PositionState.eq.equals(t.positionState,h)?t:e.changePosition(h)(t)})),h=t(p),g=(0,m.pipe)(r,y.Lw((e=>e.positionState.isHeightValid)))&&(0,m.pipe)(p.getAt(d),y.Lw((e=>e.positionState.isHeightValid)));return(0,a._)((0,i._)({},n),{items:p,cardsHeight:h,isCardsHeightValid:g})}}(t=e.Items||(e.Items={})),function(e){e.apply=(e,t,n,r)=>i=>(0,m.pipe)(e,b.b_.reduce(i,((e,{alert:t})=>r([t])(e)),((e,t,{alert:r})=>n([r])(e)),((e,{alert:n})=>t([n])(e)))),e.applyWithFilter=(e,t)=>(n,r,i,a)=>{const o=(0,m.flow)(s.jB(e),(e=>(0,m.flow)(a(e.left),i(e.right))));return t(n,(t=>r(t.filter(e))),o,a)}}(n=e.ApplyDiff||(e.ApplyDiff={})),function(e){e.items=g.vt((e=>e.items),((e,n)=>t.setVisibleItems(e)(n))),e.getFeedItems=()=>g.vt((e=>e.items),((e,n)=>t.setVisibleItems(e)(n)))}(r=e.Prism||(e.Prism={})),e.getEq=e=>c.ee(((t,n)=>{if(t.kind===x.Iw.abstract||n.kind===x.Iw.abstract)return t.id===n.id;{const r=t,i=n;return t.id===n.id&&f.getEq(e).equals(x.Tt.getActiveItem(r),x.Tt.getActiveItem(i))&&r.meta.equals(n.meta)&&r.items.equals(i.items)}})),e.lensHash={hashCode:e=>{if(e.kind===x.Iw.abstract)return(0,A.CG)(e.id);{const n=e;let r=7;return r=31*r+(0,A.CG)(e.id),r=31*r+(t=x.Tt.getActiveItem(n),(0,m.pipe)(t,f.fold((()=>2433880),(e=>null==e?9735524:e.hashCode()<<2)))),31*r+e.meta.count}var t}},function(e){e.getAlertReleaser=e=>({release:t=>n=>{const r=n.items.map(e.removeAlertFromItem([t],n)),o=(0,m.pipe)(n.cardIndex,f.chain((t=>(0,m.pipe)(r.findRightFrom(e.isScheduledToDispose,t),f.map((e=>e.index))))),f.isSome)?x.Ct.skip:x.Ct.force;return(0,a._)((0,i._)({},n),{animation:o,items:r})}}),e.getUnselectable=(e,t)=>({unselectItem:()=>n=>{const r=(0,m.pipe)(n,e,f.filter((0,p.AU)(t.isScheduledToDispose)),f.map((e=>n.items.add((0,m.pipe)(e,t.unselect(f.none,n.itemsOrd))))),f.getOrElse((()=>n.items)));return(0,a._)((0,i._)({},n),{items:r,animation:x.Ct.force,cardIndex:f.none})}}),e.getHasChecksFeed=()=>({willShowChecksFeed:e=>e.type!==x.Ir.advanced});const t=e=>(0,m.pipe)(d.ordNumber,d.contramap((t=>(0,m.pipe)(e.items.get(t.id),f.map(_.Up("index")),f.getOrElse((()=>-1))))));function n(e,t,n){return r=>(0,m.pipe)(f.of(r),f.filter((e=>!n.isScheduledToDispose(e)&&t(e))),f.chain(n.hasActiveAlert),f.filter((t=>e.isRegistered(t.alert.id))))}e.getSelectableByAlert=(e,n)=>({selectItemByAlert:r=>o=>{if(!n.willShowChecksFeed(o))return o;const s=e(o),l=o.items.find(n.isSelectableByAlert(r));(0,w.V1)(f.isSome(l),"Can not find card for provided alert. Unknown card or it is already disposed.",(()=>r.alert.toString()));const{value:c,index:h}=y.$v(l),g=(0,u.concatAll)(d.getMonoid())([o.itemsOrd,t(o)]),v=(0,m.pipe)(s,f.filter((0,p.AU)(n.isScheduledToDispose)),f.map((e=>o.items.add((0,m.pipe)(e,n.unselect(f.some(c),o.itemsOrd))))),f.getOrElse((()=>o.items))).add((0,m.pipe)(c,n.selectByAlert(s,r,g)));return(0,a._)((0,i._)({},o),{items:v,animation:x.Ct.force,cardIndex:f.some(h)})}}),e.getSelectableById=(e,n)=>({selectItemById:r=>o=>{const s=e(o),l=o.items.get(r),{value:c,index:h}=y.$v(l),g=(0,u.concatAll)(d.getMonoid())([o.itemsOrd,t(o)]),v=(0,m.pipe)(s,f.filter((0,p.AU)(n.isScheduledToDispose)),f.map((e=>o.items.add((0,m.pipe)(e,n.unselect(f.some(c),g))))),f.getOrElse((()=>o.items))).add((0,m.pipe)(c,n.select(s,g)));return(0,a._)((0,i._)({},o),{items:v,animation:x.Ct.force,cardIndex:f.some(h)})}}),e.getItemReleaser=()=>({removeItemById:e=>t=>r(t.items.remove(e))(t)}),e.getMetaUpdatable=function(){return{updateMeta:e=>t=>(0,a._)((0,i._)({},t),{meta:I.J.WithAlerts.setMeta(e)(t.meta)})}},e.getAnimatable=function(e,t){return{changeItemsVisualState:e=>n=>t.willShowChecksFeed(n)?(0,a._)((0,i._)({},n),{items:n.items.map(t.changeVisualState(e))}):n,finishApplyAnimation:n=>r=>{(0,w.V1)(n.every(e.shouldAnimateAlertApply),"Tried to finish animation on non-animated state");const o=r.id,s=e=>{const r=e.items.map(t.removeAlertFromItem(n,e));return(0,a._)((0,i._)({},e),{items:r})};if(I.J.isOutcomeId(o))return s(r);switch(o){case I.J.SpecialId.AllAlerts:case I.J.SpecialId.PredictionTakeaways:case I.J.SpecialId.PredictionEmogenie:case I.J.SpecialId.RealTimeProofit:case I.J.SpecialId.FreePremiumAlerts:return s(r);case I.J.SpecialId.Premium:throw new Error("It's not possible to animate premium alerts");case I.J.SpecialId.Plagiarism:return(0,w.V1)(n.every(C.Fc.isPlagiarism),"tried to finish animation on non plagiarism alert in plagiarism lens"),s(r);default:return(0,w.xb)(o)}}}},e.getVerifiable=function(e){return{shouldVerify:t=>(0,m.pipe)(x.Tt.getActiveItem(t),f.exists((t=>e.isScheduledToDispose(t))))||f.isNone(t.items.find((t=>!e.isScheduledToDispose(t))))}},e.getHasSelectableAlert=n,e.getHasAlerts=function(e,t,r,i){const a=e=>n(t,r(e),i),s=e=>e.id===I.J.SpecialId.Premium||e.id===I.J.SpecialId.Plagiarism?e.meta.count:(0,m.pipe)(x.Tt.getActiveItem(e),f.chain(i.hasActiveAlert),f.map((e=>e.alert)),f.exists(C.Fc.isCapiDone))&&1===e.items.size?0:e.meta.count;return{getVisibleAlertsCount:s,getActiveAlertsCount:s,getActiveAlert:e=>(0,m.pipe)(x.Tt.getActiveItem(e),f.chain(i.hasActiveAlert)),findFirstAlert:e=>(0,m.pipe)(e.items.values(),h.CX(a(e))),findNextAlert:t=>((0,w.V1)(f.isSome(x.Tt.getActiveItem(t))===f.isSome(t.cardIndex),"Lens is in wrong state: cardIndex must reference existing card"),(0,m.pipe)((0,o.CO)(f.option)(x.Tt.getActiveItem(t),t.cardIndex),f.chain((([n,r])=>(0,m.pipe)(e.nextAlert(n),f.alt((()=>e.prevAlert(n))),f.map((e=>({alert:e,highlightIndex:0}))),f.alt((()=>(0,m.pipe)(S.rq(t.items.values(),r,a(t)),f.map((e=>e.value)))))))),y.NW((0,m.pipe)(t.items.values(),h.CX(a(t))))))}};var r=e.setVisibleItems=e=>t=>(0,a._)((0,i._)({},t),{cardIndex:(0,m.pipe)(x.Tt.getActiveItem(t),f.chain((t=>(0,m.pipe)(e.get(t.id),f.map((e=>e.index)))))),items:e})}(R=e.Capabilities||(e.Capabilities={}))}(r||(r={}))},93584:(e,t,n)=>{n.d(t,{Bm:()=>i,FA:()=>a,sL:()=>r});var r,i,a,o=n(23988),s=n(65011),l=n(84647),c=n(66202),u=n(11623),d=n(1395),p=n(65390),h=n(18039),m=n(63967),g=n(62597),f=n(34553),y=n(58655),v=n(79937),_=n(5406),b=n(43696),w=n(82585),S=n(7149),C=n(30343),I=n(75248),T=n(18449),A=n(366),E=n(11534),k=n(83694),x=n(99010),R=n(93208),P=n(92832),N=n(24239),O=n(91745),K=n(78884),B=n(87275),D=n(90045);!function(e){let t;!function(e){e.AppliedAlertAnimationFinished="AppliedAlertAnimationFinished"}(t=e.Type||(e.Type={}))}(r||(r={})),function(e){e.Mock=class{ensureAlertHighlightInViewport(){throw new Error("Method not implemented.")}getMarkByAlert(e){throw new Error("Method not implemented.")}getEnclosingMarkByAlert(e){throw new Error("Method not implemented.")}getAlertByMark(e){throw new Error("Method not implemented.")}constructor(){(0,o._)(this,"events",new f.B),(0,o._)(this,"focusAlertHighlight",(()=>c.left(new Error("Method not implemented.")))),(0,o._)(this,"highlightAlertHighlight",(()=>c.left(new Error("Method not implemented.")))),(0,o._)(this,"moveCursorToHighlight",l.constVoid)}},e.getHighlightIndex=function(e,t){return(0,l.pipe)(t,c.mapLeft((()=>new Error("Mark is collapsed"))),c.chain((t=>u.zb((()=>{const n=e.getHighlightRanges(),r=n.length>1?n.findIndex((e=>e.start===t.start&&e.end===t.end)):0;return(0,d.V1)(-1!==r,"Could not find highlight index by Range for provided Alert",(()=>JSON.stringify({alertRanges:n,targetRange:t}))),r})))))}}(i||(i={})),function(e){var t=e.getHighlightSubscription=(e,t,n)=>e.pipe(y.F(p.getEq(m.HJ.ord).equals),v.n((e=>(0,l.pipe)(e,p.fold((()=>_.w),(e=>b.c.create((()=>(n.debug(`highlight mark: ${e.id}`),(0,l.pipe)(t.highlightAlertHighlight(e),c.fold((t=>(n.error("Cannot highlight mark",t,{alertId:e.id}),l.constVoid)),(t=>()=>{n.debug(`unhighlight mark: ${e.id}`),t.dispose()})))))))))))),n=(e.getHoverAlertHightlightSource=(e,t,n,r)=>(0,l.pipe)(r,w.B(100),S.T((0,l.flow)(p.chain((r=>{const i=e.get();return B.os.hasCards(i)?i.currentLens.items.find((e=>(0,l.pipe)(t.hasActiveAlert(e),p.map((e=>e.alert)),p.exists((t=>e.id===r&&n.isRegistered(t.id)))))):p.none})),p.chain((({value:e})=>t.hasActiveAlert(e))),p.map((e=>e.alert)))),y.F(p.getEq(m.HJ.ord).equals),S.T(p.map((t=>({alert:t,highlightIndex:0,source:e.get().alertSource})))),C.Z(p.none)),e.highlightMarkByHighlightedCard=(e,n,r,i,a,o)=>{const s=t(e.hovered.pipe(w.B(100),S.T((0,l.flow)(p.chain((e=>{const t=n.get();return B.os.hasCards(t)?t.currentLens.items.find((t=>(0,l.pipe)(a.hasActiveAlert(t),p.map((e=>e.alert)),p.exists((n=>t.id===e&&i.isRegistered(n.id)))))):p.none})),p.chain((({value:e})=>a.hasActiveAlert(e))),p.map((e=>e.alert))))),r,o);return{id:"highlightMarkByHighlightedAlert",when:g.J.isWithAlertsId,what:B.os.Effect.Applicator.create(s.pipe(I.K(T.t)))}},e.getAlertHighlightSource=e=>t=>(0,l.pipe)(t,y.F(p.getEq(m.HJ.ord).equals),S.T(p.map((t=>({alert:t,source:e,highlightIndex:0})))),C.Z(p.none)),e.getActiveHighlightSource=(e,t,n)=>e.view(B.os.mapper((({currentLens:e,alertSource:t})=>(0,l.pipe)(n(e),p.map((e=>({alert:e.activeAlert,source:t,highlightIndex:e.activeHighlightIndex}))))))).pipe(v.n(A._F.rafScheduler),E.fY(p.getEq(K.z.getEq())),S.T(p.filter((e=>p.isSome(t.getRegistered(e.alert.id)))))));e.focusMarkByActiveAlert=(e,t,r,i,a,o=k.of(!0))=>{const s=(0,l.pipe)(n(e,r,i),x.M(h.Mi((e=>a.trace("new alert highlight: ",e)))),R.E(o),v.n((([e,n])=>(0,l.pipe)(e,p.fold((()=>(a.debug("Nothing to focus"),_.w)),(e=>b.c.create((()=>(a.debug(`Focus mark: ${e.alert.id} | ${e.highlightIndex}, shouldMoveCursor: ${n}`),e.source===m.Kz.sidebar&&n&&t.moveCursorToHighlight(e,"start"),(0,l.pipe)(t.focusAlertHighlight(e),c.fold((t=>(a.error("Cannot focus mark",t,{alertId:e.alert.id,highlightIndex:e.highlightIndex}),l.constVoid)),(t=>()=>{a.debug(`Unfocus mark: ${e.alert.id} | ${e.highlightIndex}'`),t.dispose()}))))))))))));return{id:"focusMarkByActiveAlert",when:g.J.isWithAlertsId,what:B.os.Effect.Applicator.create(s.pipe(I.K(T.t)))}},e.focusAlertByClickedMark=(e,t,n)=>({id:"focusAlertByActiveMark",when:B.os.Effect.When.isSidebarOpen,what:B.os.Effect.SwitchAlert.create(e.pipe(P.i(1),N.oE,R.E(t.pipe(O.p(B.os.hasCards))),O.p((([e,t])=>m.Fc.State.isRegistered(e.alert.state)&&(0,l.pipe)(e.alert,D.p.findItemWithAlertInLens(t.currentLens,n),p.isSome))),S.T(s.Es),S.T((({alert:e,highlightIndex:t})=>({alertHighlight:{alert:e,highlightIndex:t},alertSource:m.Kz.text,options:{order:"textOrder"}})))))}),e.createOnAlertApplySideEffect=function(e,t){const n=e.pipe(S.T((e=>n=>e.type===r.Type.AppliedAlertAnimationFinished&&n.currentLens.meta.filter(e.alert)&&m.Fc.isApplicableAlert(e.alert)&&B.os.hasItems(n)?n.patch({currentLens:t.finishApplyAnimation([e.alert])(n.currentLens),alertSource:e.alert.state.source}):n)));return{id:"onAlertApply",when:B.os.Effect.When.isSidebarOpen,what:B.os.Effect.Applicator.create(n)}}}(a||(a={}))},71202:(e,t,n)=>{n.d(t,{oh:()=>c});var r=n(23988),i=n(84647),a=n(84712),o=n(5406),s=n(87172),l=n(48368);class c{isStepEnabled(e){return void 0!==this._steps[e]}relaunchAllSteps(){s.Bx.Logging.getLogger("OnboardingViewModelImpl").error("Not implemented")}setState(e,t){this.subscribeForStep(e).state.set(t)}subscribeForStep(e){const t=a.s.create(l.f.Hidden);return Boolean(this._steps[e])?this._steps[e]:this._steps[e]={id:e,state:t,dotShown:i.constVoid,dotClicked:()=>t.set(l.f.Popup),popupClosed:()=>t.set(l.f.Passed),popupIgnored:()=>t.set(l.f.Hidden),actionTaken:()=>t.set(l.f.Passed)}}getStepCompletionCallback(e){throw new Error("Method not implemented.")}changeState(e){}constructor(){(0,r._)(this,"completionTrigger",a.s.create(!1)),(0,r._)(this,"_steps",{}),(0,r._)(this,"getFirstTargetRect",(()=>o.w))}}},48368:(e,t,n)=>{n.d(t,{f:()=>i});var r,i,a=n(84647),o=n(65390),s=n(84712),l=n(83694);!function(e){e.mock=()=>({isStepEnabled:a.constFalse,subscribeForStep:()=>{throw new Error("Not implemented")},getStepCompletionCallback:(0,a.constant)(a.constVoid),changeState:a.constVoid,relaunchAllSteps:a.constVoid,getFirstTargetRect:()=>l.of(o.none),isLastStep:a.constFalse,completionTrigger:s.s.create(!1)})}(r||(r={})),function(e){e.Hidden="hidden",e.Dot="dot",e.Popup="popup",e.Popover="popover",e.Passed="passed"}(i||(i={}))},757:(e,t,n)=>{n.d(t,{E:()=>r,T:()=>w});var r,i=n(85886),a=n(65390),o=n(84647),s=n(84906),l=n(41548),c=n(5406),u=n(83694),d=n(19772),p=n(75248),h=n(24239),m=n(7149),g=n(58655),f=n(11534),y=n(79937),v=n(58260),_=n(93208),b=n(30343);function w(e=12){const{ref:t,onMount:n}=d.R.useElWatcher(),{cardHeight:c,cardVisibleViewportHeight:p}=i.useContext(r.Context),h=i.useContext(l.q.Context);return{onMount:n,maxHeight:i.useRef(t.pipe(y.n(a.fold((0,o.constant)(u.of(a.none)),(e=>c.pipe(v.s(1),_.E(p),m.T((([t,n])=>(0,o.pipe)(n,a.map((n=>e.offsetHeight+Math.max(0,n-t)))))))))),b.Z(a.none),_.E(h.pipe(b.Z(void 0),m.T(a.fromNullable))),m.T((([t,n])=>(0,o.pipe)(t,a.alt((()=>(0,o.pipe)(n,a.map((t=>e*t)))))))),g.F(a.getEq(s.Eq).equals))).current,ref:t}}!function(e){var t=e.Context=i.createContext({cardHeight:c.w,cardVisibleViewportHeight:u.of(a.none)});e.Provider=e=>{const{ref:n,onMount:r}=d.R.useElWatcher(),o=i.useRef({cardHeight:e.card.pipe(p.K(n.pipe(h.oE,m.T((e=>e.offsetHeight)))),g.F(),f.tl({bufferSize:1,refCount:!0})),cardVisibleViewportHeight:e.cardVisibleViewportHeight.pipe(g.F(a.getEq(s.Eq).equals),f.tl({bufferSize:1,refCount:!0}))});return i.createElement(t.Provider,{value:o.current},e.children(r))}}(r||(r={}))},59054:(e,t,n)=>{n.d(t,{y:()=>w,z:()=>b});var r=n(10334),i=n(17171),a=n(27199),o=n(11864),s=n(4885),l=n(72747);const c={position:"relative",borderRadius:o.Ks.rem(l.Am),background:a.Q1.CoreNeutral0,boxShadow:`0 ${o.Ks.rem(.625)} ${o.Ks.rem(l.o1)} 0 rgba(198, 203, 222, .45)`},u={$nest:{"&:before":{position:"absolute",width:o.Ks.px(10),height:o.Ks.px(10),borderRadius:o.Ks.percent(50),content:"''",transform:"scale(.5)"}}},d={$nest:{"&:before":{backgroundColor:s.YP}}},p={$nest:{"&:before":{backgroundColor:s.jr}}},h={$nest:{"&:before":{backgroundColor:a.Q1.CoreRed50}}},m={$nest:{"&:before":{backgroundColor:a.Q1.CoreBlue50}}},g={$nest:{"&:before":{backgroundColor:a.Q1.CoreGreen50}}},f={$nest:{"&:before":{backgroundColor:a.Q1.CorePurple50}}},y={$nest:{"&:before":{backgroundColor:a.Q1.CoreNeutral50}}},v={$nest:{"&:before":{backgroundColor:a.Q1.CoreNeutral50}}},_={$nest:{"&:before":{backgroundColor:a.Q1.CoreGreen60}}},b={fullCardSelector:"fullCard",bundleInnerContainerSelector:"bundleInnerContainer",bundleFakeCard1Selector:"bundleFakeCard1",bundleFakeCard2Selector:"bundleFakeCard2",alignButtonHiddenSelector:"alignButtonHidden",cozyCardContainerSelector:"cozyCardContainer",successWrapperSelector:"successWrapper"},w=(0,i._)((0,r._)({},o.Ks.stylesheet({dot:[u],dotAdvanced:[p],dotCritical:[d],dotCorrectness:[h],dotClarity:[m],dotEngagement:[g],dotDelivery:[f],dotVox:[y],knowledgeHub:[v],dotWritingExpert:[_]})),{fullCard:o.Ks.joinClasses([b.fullCardSelector,o.Ks.style(c)])})},325:(e,t,n)=>{n.d(t,{v:()=>l});var r=n(62597),i=n(51707),a=n(45653),o=n(59054);const s=["b","i","br","ul","li"];var l;!function(e){e.renderToHtml=function(e,t){const n=t?{allowedTags:s.concat(["a"]),linkRegExp:t}:{allowedTags:s};return i.mA(e,n)},e.getDotStyle=e=>a.A.isWritingExpert(e)?o.y.dotWritingExpert:r.J.outcomeTypeMatch({correctness:o.y.dotCorrectness,clarity:o.y.dotClarity,premium:o.y.dotAdvanced,engagement:o.y.dotEngagement,delivery:o.y.dotDelivery,vox:o.y.dotVox,knowledgeHub:o.y.knowledgeHub})(e.lensType)}(l||(l={}))},88219:(e,t,n)=>{n.d(t,{$s:()=>re,OM:()=>ae,Vy:()=>ce,cS:()=>pe,gs:()=>le,iF:()=>te,mC:()=>ne});var r=n(10334),i=n(17171),a=n(85886),o=n(65390),s=n(84647),l=n(80843),c=n(84712),u=n(56855),d=n(35198),p=n(82608),h=n(40183),m=n(89520),g=n(1395),f=n(72896),y=n(86922),v=n(19967),_=n(14737),b=n(24290),w=n(98831),S=n(10486),C=n(65873),I=n(89011),T=n(7149),A=n(72017),E=n(26251),k=n(757),x=n(82315),R=n(33320),P=n(79750);const N=e=>e?R.a:R.m,O=({theme:e,children:t})=>a.createElement(C.tu,{className:e.list},t),K=({transform:e,title:t,disabled:n,boldifier:r=W,classes:i,onClick:o})=>a.createElement(v.$n,{animationMode:_.g.FromClickPoint,name:"apply-insert",role:"insertion",tag:b.f.div,onClick:o,title:t,disabled:n,className:i.itemInsert},e.map(((e,t)=>a.createElement(a.Fragment,{key:t},r(e,i.diff))))),B=({transform:e,theme:t,showOnboarding:n,onClick:i,onExpand:o})=>{const s=a.useContext(y.S.Context),c=e.label.map(((e,t)=>a.createElement(a.Fragment,{key:t},e.text))),u=a.createElement(v.$n,(0,r._)({animationMode:_.g.FromClickPoint,name:"expand-insert",onClick:o,title:s.synfony.drilldownTooltip(c)},(0,l.Ly)(t.itemInsert,t.drilldownArrowButton)),a.createElement(w.In.Arrow,{direction:w.bO.right,className:t.drilldownIcon}));return a.createElement("div",{className:t.drilldownInsertGroup},a.createElement(v.$n,{animationMode:_.g.FromClickPoint,name:"apply-insert",role:"insertion",tag:b.f.div,onClick:i,title:s.synfony.applyTooltip,className:t.itemInsert},c),Boolean(e.subLabels.length)&&(n?a.createElement(ie,null,u):u))},D=({transform:e,title:t,theme:n,onClick:r})=>a.createElement(v.$n,{animationMode:_.g.FromClickPoint,name:"apply-remove",role:"deletion",tag:b.f.div,onClick:r,title:t,className:n.itemRemove},e.map(((e,t)=>a.createElement(U,{key:t,element:e,theme:n})))),M=({transform:e,title:t,theme:n,onClick:r,children:i})=>a.createElement("div",{className:n.removeOrContainer},e.map(((i,o)=>"text"===i.type?a.createElement("span",{key:o,className:o===e.length-1?n.itemContextShifted:n.itemContext},i.text):a.createElement(v.$n,{key:o,animationMode:_.g.FromClickPoint,name:"apply-remove-or",role:"deletion",tag:b.f.div,onClick:r,title:t,className:n.itemRemove},a.createElement(U,{element:i,theme:n})))),i),L=e=>a.createElement("span",{className:e.classes.or},a.useContext(y.S.Context).card.or),$=({transform:e,replacements:t,boldifier:n=W,theme:r,strikeThrough:i=!0})=>{var o;const c=e.every((e=>null===e.text.match(/\n/))),u=e.map((e=>e.text)).join(""),d=1===t.length?t[0].map((e=>e.text)).join(""):"",p=(0,P.$B)(u,d),m=(0,s.pipe)(null===(o=p)||void 0===o?void 0:o.oldFragment,(e=>Boolean(e)&&h.TD(e))),g=c&&m;return a.createElement("div",(0,l.Ly)(r.itemOriginal,i&&r.itemOriginalStrikeThrough),a.createElement("span",(0,l.Ly)(r.itemOriginalContent,g&&r.spacesOnlyContent),e.map(((e,t)=>a.createElement(a.Fragment,{key:t},n(e,r.diff))))))},F=()=>{const e=a.useContext(y.S.Context);return a.createElement(d.E.Regular,{a11yContrast:!0},e.beta)},H=({transform:e,boldifier:t=W,header:n,classes:r,onClick:i,beta:o})=>a.createElement(v.$n,{name:"apply-insert",onClick:i,className:r.item},Boolean(n)?a.createElement("div",{className:r.inlineHeader},n,Boolean(o)&&a.createElement(F,null)):null,e.map(((e,n)=>a.createElement(a.Fragment,{key:n},t(e,r.diff))))),V=({transform:e,boldifier:t=W,header:n,classes:r,onClick:i,beta:o})=>a.createElement(v.$n,{name:"apply-insert",onClick:i,className:r.item},Boolean(n)?a.createElement("div",{className:r.inlineHeader},n,Boolean(o)&&a.createElement(F,null)):null,a.createElement(p.Typography.Base,{className:r.transform},e.filter((e=>[A.Iq.Text,A.Iq.Insert].includes(e.type))).map(((e,n)=>a.createElement(a.Fragment,{key:n},t((0,s.unsafeCoerce)(e),r.diff)))))),W=m.Up("text"),G=({text:e,type:t},n)=>"text"===t?e:a.createElement("span",{className:n},e),U=({element:e,strikeClass:t,theme:n})=>"delete"===e.type?a.createElement("span",(0,l.Ly)(P.n.getClass(n,e.text),t),e.text):a.createElement(a.Fragment,null,e.text);const q=/^\W/,j=(e,t)=>{switch(e.type){case A.Iq.Delete:return t.fullSentenceDelete;case A.Iq.Insert:return q.test(e.text)?t.fullSentenceInsertPunctuation:t.fullSentenceInsert;case A.Iq.Text:case A.Iq.List:return"";default:return(0,g.xb)(e)}},z=(e,t)=>{switch(e.type){case A.Iq.Delete:return t.fullSentenceHidden;case A.Iq.List:case A.Iq.Text:case A.Iq.Insert:return"";default:return(0,g.xb)(e)}},Q=(e,t)=>{switch(e.type){case A.Iq.Delete:return t.fullSentenceHidden;case A.Iq.List:return"bullet"===e.kind?t.fullSentenceBulletListItemWithFormatting:"dashed"===e.kind?t.fullSentenceDashedListItemWithFormatting:t.fullSentenceOrderedListItemWithFormatting;case A.Iq.Insert:case A.Iq.Text:return"";default:return(0,g.xb)(e)}},J=(e,t)=>{switch(e.type){case A.Iq.Delete:return t.fullSentenceHidden;case A.Iq.List:return"bullet"===e.kind?t.fullSentenceBulletListItem:"dashed"===e.kind?t.fullSentenceDashedListItem:t.fullSentenceOrderedListItem;case A.Iq.Insert:case A.Iq.Text:return"";default:return(0,g.xb)(e)}},Y=({p:e,theme:t})=>{const n=c.s.create(e.shouldBeCollapsed);return a.createElement(u.F.Fragment,null,n.view((0,f.Sw)(a.createElement("span",{className:e.type===A.Iq.Delete?t.collapsibleDelete:t.collapsibleInsert,onClick:()=>n.set(!1),role:"button",tabIndex:0},a.createElement("span",{className:t.collapsiblePartContent},"…")),a.createElement(a.Fragment,null,e.text))))},Z=(e,t,n)=>{if(!e.shouldBeCollapsed)return e.text;switch(e.type){case A.Iq.Insert:case A.Iq.Delete:return t?a.createElement(Y,{p:e,theme:n}):e.text;case A.Iq.Text:return a.createElement("span",null," … ");default:(0,g.xb)(e)}},X=e=>{const t=(0,s.pipe)(e.showDiff,(0,f.Sw)(j,z),(t=>t(e.transformPart,e.theme)));return a.createElement("span",{className:t},Z(e.transformPart,e.showDiff,e.theme))},ee=e=>{const t=(0,s.pipe)(e.showDiff,(0,f.Sw)(Q,J),(t=>t(e.transformPart,e.theme)));return e.transformPart.type===A.Iq.List?a.createElement("span",{className:t,"data-indent":e.transformPart.indent}):a.createElement("span",{className:t},Z(e.transformPart,e.showDiff,e.theme))},te=({index:e=0,oldText:t,theme:n,newText:r})=>{const i=(0,P.LE)(t,r),o=!!i&&h.TD(i[1]);return a.createElement(a.Fragment,null,i?[i[0],a.createElement("span",{key:e,className:o?n.spacesOnlyContent:n.diff},i[1]),i[2]]:r)},ne=e=>{const{onMount:t,maxHeight:n}=(0,k.T)(),r=N(e.a11yContrast);return a.createElement(C.C6,{mount:t,style:{maxHeight:n.pipe(T.T(o.getOrElse(s.constUndefined)))},tabIndex:0,className:(0,s.pipe)(e.layoutDensity,E.p.Density.matchOrDefault(E.p.Density.minimal)((()=>r.minimalFullSentenceBackground),(()=>r.fullSentenceBackground)))},e.replacements.kind===A.lW.WithFormatting?e.replacements.labels.map(((t,n)=>a.createElement(ee,{showDiff:e.showDiff,transformPart:t,key:n,theme:r}))):e.replacements.labels.map(((t,n)=>a.createElement(X,{showDiff:e.showDiff,transformPart:t,key:n,theme:r}))))},re=({replacements:e,layoutDensity:t,a11yContrast:n,selection:r,onClick:i,onDive:o,onBack:s})=>{const l=a.useContext(y.S.Context),{activeLabels:c,original:u}=A.hx.getSelectedItems(e,r),d=N(n);return a.createElement(O,{theme:d},a.createElement("div",{className:d.drilldownOriginalRow},r.length>0&&a.createElement(v.$n.Ghost,{name:"go-back",title:l.synfony.back,onClick:s,className:d.drilldownBackButton},a.createElement(w.In.Arrow,{direction:w.bO.left})),a.createElement($,{transform:u,theme:d,replacements:[],strikeThrough:!Boolean(r)||0===r.length})),a.createElement("div",{className:t===E.p.Density.cozy?d.cozyArrowInsertsList:d.arrowInsertsList},c.map(((e,t)=>a.createElement(B,{key:t,transform:e,showOnboarding:2===t,theme:d,onClick:i(e.alternativeId),onExpand:()=>o(t,e.alternativeId)})))))},ie=e=>{const t=a.useContext(y.S.Context);return a.createElement(x.M7,{alignment:"topLeft",eventType:"onclick",stepId:I.E.StepId.Synfony,message:t.synfony.onboardingTooltip,dotPosition:{kind:"dotAtPosition",position:x.p3.rightCenter}},e.children)},ae=e=>{const t=a.useContext(y.S.Context).card,n=""===e.gapValue,r=N(e.a11yContrast);return a.createElement(a.Fragment,null,a.createElement(S.kI,{name:"input",placeholder:t.gapCard.placeholder,value:e.gapValue,onChange:t=>e.onChange(t.target.value),onKeyPress:e=>{"Enter"===e.key&&e.currentTarget.nextElementSibling&&e.currentTarget.nextElementSibling.click()},className:r.oneGapInput}),a.createElement(K,{title:n?"":t.todoAction(e.replacements.tooltipText),boldifier:G,onClick:e.onApply,classes:{itemInsert:r.oneGapInsert,inlineHeader:r.inlineHeader,diff:r.diff},disabled:n,transform:oe(e.replacements.labels.left,e.gapValue,e.replacements.labels.right)}))},oe=(e,t,n)=>[...e,{type:A.Iq.Insert,text:se(e)+(t||"…")+se(n),shouldBeCollapsed:!1},...n],se=e=>e.length?" ":"",le=({replacementsLabels:e,layoutDensity:t,a11yContrast:n,onClick:r})=>{const i=a.useContext(y.S.Context).card.todoAction(e.tooltipText),o=N(n);switch(e.type){case A.pJ.Type.InsertList:return a.createElement(O,{theme:o},e.labels.map(((e,t)=>a.createElement(K,{key:t,title:i,onClick:r(t),transform:e,classes:o}))));case A.pJ.Type.DeleteList:return a.createElement(O,{theme:o},e.labels.map(((e,t)=>a.createElement(D,{key:t,title:i,onClick:r(t),transform:e,theme:o}))));case A.pJ.Type.Arrow:return function({labels:e,original:t,onlyReplacements:n},r,i,o,s){const l=1===t.length,[c]=l?[t[0].text,e[0][0].text].map((e=>(t,n)=>r=>a.createElement(te,{index:n,oldText:t,newText:r.text,theme:e}))(o)):[G,G];return a.createElement(O,{theme:o},!n&&a.createElement($,{transform:t,theme:o,replacements:e}),a.createElement("div",{className:i===E.p.Density.cozy?o.cozyArrowInsertsList:e.length>2?o.columnList:o.arrowInsertsList},e.map(((e,t)=>a.createElement(K,{key:t,title:r,onClick:s(t),transform:e,boldifier:c,classes:o})))))}(e,i,t,o,r);case A.pJ.Type.InsertOr:return a.createElement(O,{theme:o},a.createElement(K,{transform:e.labels[0],title:i,onClick:r(0),boldifier:G,classes:o}),a.createElement(L,{classes:o}),a.createElement(K,{transform:e.labels[1],title:i,onClick:r(1),boldifier:G,classes:o}));case A.pJ.Type.DeleteOr:return a.createElement(O,{theme:o},e.labels.map(((t,n)=>a.createElement(M,{key:n,title:i,onClick:r(n),theme:o,transform:t},n===e.labels.length-2&&a.createElement(L,{classes:o})))));case A.pJ.Type.Citation:case A.pJ.Type.FullSentence:case A.pJ.Type.OneGap:case A.pJ.Type.Drilldown:case A.pJ.Type.ShortenIt:case A.pJ.Type.ToneAI:case A.pJ.Type.WritingExpert:return null;default:return(0,g.xb)(e)}},ce=({replacementsLabels:e,onClick:t,header:n,customStyle:r,a11yContrast:i,beta:o})=>{const s=Array.isArray(e.labels)&&1===e.labels.length?r.inlineHeaderOne:r.inlineHeader,l=N(i);switch(e.type){case A.pJ.Type.DeleteList:return a.createElement("div",{className:r.inlineWrappedList},e.labels.map(((e,i)=>a.createElement(H,{key:i,onClick:t(i),classes:{item:r.itemRemove,inlineHeader:s,diff:l.diff},boldifier:e=>a.createElement(U,{element:e,strikeClass:r.strike,theme:l}),transform:e,header:0===i?n:""}))));case A.pJ.Type.InsertList:case A.pJ.Type.InsertOr:case A.pJ.Type.Arrow:return a.createElement("div",{className:r.inlineWrappedList},e.labels.map(((e,i)=>a.createElement(H,{key:i,onClick:t(i),classes:{item:r.itemInsert,inlineHeader:s,diff:l.diff},transform:e,boldifier:e=>G(e,r.diff),header:0===i?n:""}))));case A.pJ.Type.FullSentence:case A.pJ.Type.WritingExpert:return a.createElement("div",{className:r.inlineWrappedList},a.createElement(V,{onClick:t(0),classes:{item:r.itemInsert,inlineHeader:s,diff:l.diff,transform:r.transform},transform:e.labels,boldifier:e=>G(e,r.diff),header:n,beta:o}));case A.pJ.Type.DeleteOr:case A.pJ.Type.OneGap:case A.pJ.Type.Drilldown:case A.pJ.Type.ShortenIt:case A.pJ.Type.ToneAI:case A.pJ.Type.Citation:return null;default:return(0,g.xb)(e)}},ue=({label:e,a11yContrast:t})=>{const n=e.findIndex((e=>e.type===A.Iq.Delete));let o=e.reduce(((e,t)=>e.concat(t.text.split(" ").map((e=>({word:e,isDelete:t.type===A.Iq.Delete,shouldHighlight:!1}))))),[]).filter((e=>""!==e.word));return o=0===n?o.filter((e=>!e.isDelete)).map(((e,t)=>{let n=!1;return t-2<0&&(n=!0),(0,i._)((0,r._)({},e),{shouldHighlight:n})})):n===e.length-1?o.filter((e=>!e.isDelete)).map(((e,t,n)=>{let a=!1;return t+2>=n.length&&(a=!0),(0,i._)((0,r._)({},e),{shouldHighlight:a})})):o.map(((e,t,n)=>{let a=!1;return(void 0!==n[t+1]&&n[t+1].isDelete||void 0!==n[t-1]&&n[t-1].isDelete)&&(a=!0),(0,i._)((0,r._)({},e),{shouldHighlight:a})})).filter((e=>!e.isDelete)),a.createElement(a.Fragment,null,o.map(((e,n,r)=>a.createElement("span",{key:`${e.word}-${n}`,className:e.shouldHighlight?N(t).toneAIInsert:void 0},e.word,void 0===r[n+1]||(0,P.Bx)(r[n+1].word)?"":" "))))},de=({label:e,a11yContrast:t})=>a.createElement(a.Fragment,null,e.filter((e=>e.type!==A.Iq.Delete)).map((e=>a.createElement("span",{key:e.text,className:e.type===A.Iq.Insert?N(t).toneAIInsert:void 0},e.text)))),pe=({label:e,className:t,a11yContrast:n})=>{let r;return r=e.some((e=>e.type===A.Iq.Insert))?a.createElement(de,{label:e,a11yContrast:n}):a.createElement(ue,{label:e,a11yContrast:n}),a.createElement("div",{className:t},r)}},33320:(e,t,n)=>{n.d(t,{a:()=>ee,m:()=>X});var r=n(10334),i=n(17171),a=n(37634),o=n(12175),s=n(38548),l=n(27199),c=n(11864),u=n(29120),d=n(72747);const p=e=>({$nest:{[`&[data-indent="${e}"]`]:{marginLeft:c.Ks.rem(.5*e)}}}),h=(e,t,n,r)=>({$nest:{[`&[data-indent="${t}"]`]:{counterIncrement:`card-list${t}`,counterReset:r,$nest:{"&:before":{content:`'${e}' '\\A\\00a0' counter(card-list${t}, ${n}) '. '`}}}}}),m=e=>[h(e,0,"decimal","card-list1 card-list2 card-list3 card-list4 card-list5 card-list6 card-list7 card-list8"),h(e,1,"lower-alpha","card-list2 card-list3 card-list4 card-list5 card-list6 card-list7 card-list8"),h(e,2,"lower-roman","card-list3 card-list4 card-list5 card-list6 card-list7 card-list8"),h(e,3,"decimal","card-list4 card-list5 card-list6 card-list7 card-list8"),h(e,4,"lower-alpha","card-list5 card-list6 card-list7 card-list8"),h(e,5,"lower-roman","card-list6 card-list7 card-list8"),h(e,6,"decimal","card-list7 card-list8"),h(e,7,"lower-alpha","card-list8"),h(e,8,"lower-roman","none")],g="cards-replacements_labels-",f={list:`${g}list`,item:`${g}item`,diff:`${g}diff`,columnList:`${g}columnList`,itemInsert:`${g}itemInsert`,deleteAll:`${g}deleteAll`,crossed:`${g}crossed`,deleteQuote:`${g}deleteQuote`,deletePunctuation:`${g}deletePunctuation`,deleteDoubleComma:`${g}deleteDoubleComma`,deleteApostrophe:`${g}deleteApostrophe`,deleteLetter:`${g}deleteLetter`,deletePunctuationBeforeLetter:`${g}deletePunctuationBeforeLetter`,itemOriginal:`${g}itemOriginal`,itemOriginalStrikeThrough:`${g}itemOriginalStrikeThrough`,itemOriginalContent:`${g}itemOriginalContent`,spacesOnlyContent:`${g}spacesOnlyContent`,removeOrContainer:`${g}removeOrContainer`,itemContext:`${g}itemContext`,itemContextShifted:`${g}itemContextShifted`,or:`${g}or`,arrowInsertsList:`${g}arrowInsertsList`,cozyArrowInsertsList:`${g}cozyArrowInsertsList`,inlineHeader:`${g}inlineHeader`,fullSentenceBackground:`${g}fullSentenceBackground`,minimalFullSentenceBackground:`${g}minimalFullSentenceBackground`,fullSentenceDelete:`${g}fullSentenceDelete`,fullSentenceDeleteCollapsed:`${g}fullSentenceDeleteCollapsed`,fullSentenceHidden:`${g}fullSentenceHidden`,fullSentenceListItem:`${g}fullSentenceListItem`,fullSentenceBulletListItem:`${g}fullSentenceBulletListItem`,fullSentenceDashedListItem:`${g}fullSentenceDashedListItem`,fullSentenceOrderedListItem:`${g}fullSentenceOrderedListItem`,fullSentenceOrderedListItemWithFormatting:g+"fullSentenceOrderedListItemWithFormatting",fullSentenceDashedListItemWithFormatting:g+"fullSentenceDashedListItemWithFormatting",fullSentenceBulletListItemWithFormatting:g+"fullSentenceBulletListItemWithFormatting",fullSentenceInsert:`${g}fullSentenceInsert`,fullSentenceInsertPunctuation:`${g}fullSentenceInsertPunctuation`,toneAIInsert:`${g}toneAIInsert`,itemRemove:`${g}itemRemove`,oneGapInsert:`${g}oneGapInsert`,oneGapInput:`${g}oneGapInput`,drilldownInsertGroup:`${g}drilldownInsertGroup`,drilldownArrowButton:`${g}drilldownArrowButton`,drilldownIcon:`${g}drilldownIcon`,drilldownOriginalRow:`${g}drilldownOriginalRow`,drilldownBackButton:`${g}drilldownBackButton`,collapsibleDelete:`${g}collapsibleDelete`,collapsibleInsert:`${g}collapsibleInsert`,collapsiblePartContent:`${g}collapsiblePartContent`},y={position:"relative",overflow:"hidden",margin:`0 ${c.Ks.rem(.5)} ${c.Ks.rem(.5)} 0`,padding:`${c.Ks.rem(.25)} ${c.Ks.rem(.5)}`,borderRadius:c.Ks.rem(d.H0),color:l.Q1.CoreNeutral0,textAlign:"left",textOverflow:"ellipsis",whiteSpace:"normal",lineHeight:c.Ks.rem(1.5),cursor:"pointer",transitionDuration:".2s",overflowWrap:"break-word"},v={position:"relative",fontWeight:"bolder",overflow:"clip",$nest:{"&:after":{position:"absolute",top:"-8%",left:c.Ks.rem(.3125),width:"1px",height:"120%",background:l.Q1.CoreNeutral0,content:"''",opacity:.8}}},_={position:"relative",marginRight:c.Ks.rem(.5),whiteSpace:"nowrap"},b=e=>({overflowX:"hidden",overflowY:"auto",overflowWrap:"anywhere",margin:`${c.Ks.rem(1)} 0`,padding:e?0:c.Ks.rem(.5),maxHeight:c.Ks.rem(12),borderRadius:c.Ks.rem(d.H0),background:e?l.Q1.CoreNeutral0:l.Q1.CoreNeutral10,color:l.Q1.CoreNeutral90,whiteSpace:"pre-wrap",fontWeight:400,fontStyle:"italic",fontFeatureSettings:`${d.UO}, ${d.ZQ}`}),w={position:"relative",marginRight:c.Ks.rem(.5),maxWidth:`calc(100% - ${c.Ks.rem(.5)})`,overflowWrap:"break-word",$nest:{"&:after":{display:"inline-block",marginLeft:c.Ks.rem(.5),color:l.Q1.CoreNeutral50,content:"'→'",verticalAlign:"middle"}}},S={textDecoration:"line-through",color:l.Q1.CoreRed40,textDecorationLine:"line-through"},C=[p(0),p(1),p(2),p(3),p(4),p(5),p(6),p(7),p(8)],I={display:"flex",alignItems:"flex-start",flexWrap:"wrap",fontFeatureSettings:`${d.UO}, ${d.ZQ}`},T=e=>({display:"inline-block",background:e?a.Q.Background.Brand.Default:l.Q1.BackgroundCardApply,maxWidth:"100%",$nest:{"&[data-hovered='true']":{background:e?o.Blue80:l.Q1.CoreGreen50},"&[data-disabled='true']":{background:e?a.Q.Background.Brand.Default:l.Q1.CoreGreen40,opacity:.4}}}),A={$nest:{"&:after":{transform:"rotate(-25deg)"}}},E={paddingRight:c.Ks.rem(.35),$nest:{"&:after":{transform:"rotate(25deg)"}}},k=e=>({color:e?a.Q.Background.Brand.Default:l.Q1.CoreGreen60,fontWeight:600}),x={paddingRight:c.Ks.rem(.3125),$nest:{"&:before":{content:"' '"},"&:after":{transform:"rotate(25deg)"}}},R={textDecoration:"line-through",whiteSpace:"pre-wrap",$nest:{"&:before":{content:"' '"},"&:after":{background:"transparent !important",content:"' '"}}},P={display:"flex",flexBasis:"100%"},N={margin:`0 ${c.Ks.rem(.5)} ${c.Ks.rem(.5)} 2px`,color:l.Q1.CoreNeutral60},O={display:"flex",minWidth:"50%",flexWrap:"wrap",flexBasis:"content"},K={marginBottom:c.Ks.rem(.25),color:l.Q1.CoreNeutral60,fontWeight:400,fontSize:c.Ks.rem(.8),lineHeight:c.Ks.rem(1.2),$nest:{"&:first-letter":{textTransform:"capitalize"}}},B={color:a.Q.Background.Critical.Default,textDecoration:"line-through",fontWeight:600},D=(0,i._)((0,r._)({},B),{textDecoration:"none"}),M={fontWeight:"bold",color:l.Q1.CorePurple50},L={background:a.Q.Background.Critical.Default,$nest:{"&[data-hovered='true'], &[data-disabled='true']":{background:o.Red80}}},$={$nest:{"&:before":{content:"'¶\\A\\00a0-\\00a0'"}}},F={$nest:{"&:before":{content:"'¶\\A\\00a0\\2022\\00a0'"}}},H={width:"100%",marginTop:c.Ks.rem(.5),marginBottom:c.Ks.rem(.25),boxSizing:"border-box",$nest:{"&[data-disabled='true']":{background:l.Q1.CoreNeutral40}}},V={marginTop:c.Ks.rem(.5),lineHeight:`calc(${c.Ks.rem(2)} - ${c.Ks.px(2)})`,padding:`0 ${c.Ks.rem(.5)}`,border:c.Ks.important(`${c.Ks.px(1)} solid ${l.Q1.CoreNeutral50}`),color:l.Q1.CoreNeutral90,boxSizing:"border-box",$nest:{"&:placeholder-shown":{borderColor:c.Ks.important(l.Q1.CoreNeutral20)}}},W=u.b.style(y,T(!1)),G={margin:`0 ${c.Ks.rem(.5)} ${c.Ks.rem(.5)} 0`,$nest:{[`& .${f.itemInsert}`]:{transitionProperty:"background",margin:0},[`& > .${f.itemInsert}:first-child:not(:last-child)`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${f.drilldownArrowButton}`]:{borderTopLeftRadius:0,borderBottomLeftRadius:0}}},U={boxShadow:"inset 1px 0px 0px rgba(255, 255, 255, 0.3)",paddingLeft:c.Ks.rem(.1875),paddingRight:c.Ks.rem(.3125)},q={width:c.Ks.rem(1),height:c.Ks.rem(1),minWidth:c.Ks.rem(1),minHeight:c.Ks.rem(1),verticalAlign:"top",marginTop:c.Ks.rem(.25),$nest:{"& > svg":{transform:"scale(0.75)"},"& > svg *":{fill:c.Ks.important("white")}}},j={width:c.Ks.percent(100),marginBottom:c.Ks.rem(.5),display:"flex",$nest:{"& > *":{marginRight:c.Ks.rem(.5)}}},z={background:l.Q1.CoreNeutral10,$nest:{"&:not([data-disabled='true'])[data-hovered='true']":{background:l.Q1.CoreNeutral10}}},Q={display:"inline-block",width:c.Ks.rem(1),lineHeight:c.Ks.rem(.625),height:c.Ks.rem(.625),margin:`0 ${c.Ks.rem(.25)}`,verticalAlign:"middle",cursor:"pointer",overflowWrap:"normal",textAlign:"center",borderRadius:c.Ks.rem(d.OC)},J={lineHeight:c.Ks.rem(.2),verticalAlign:"super",marginLeft:"1px"},Y=(0,i._)((0,r._)({},Q),{backgroundColor:l.Q1.CoreRed10}),Z=(0,i._)((0,r._)({},Q),{backgroundColor:l.Q1.CoreGreen10}),X={list:c.Ks.joinClasses([f.list,c.Ks.style(I),u.b.style(I)]),item:c.Ks.joinClasses([f.item,c.Ks.style(y),u.b.style(y)]),itemInsert:c.Ks.joinClasses([f.itemInsert,c.Ks.style(y,T(!1)),W]),deleteAll:c.Ks.joinClasses([f.deleteAll,c.Ks.style({textDecoration:"line-through"}),u.b.style({textDecoration:"line-through"})]),crossed:c.Ks.joinClasses([f.crossed,c.Ks.style(v)]),deleteQuote:c.Ks.joinClasses([f.deleteQuote,c.Ks.style(v,A),u.b.style(v,A)]),deletePunctuation:c.Ks.joinClasses([f.deletePunctuation,c.Ks.style(v,E),u.b.style(v,E)]),deleteDoubleComma:c.Ks.joinClasses([f.deleteDoubleComma,c.Ks.style({textDecoration:"line-through"}),u.b.style({textDecoration:"line-through"})]),deleteApostrophe:c.Ks.joinClasses([f.deleteApostrophe,c.Ks.style(v,x),u.b.style(v,x)]),deleteLetter:c.Ks.joinClasses([f.deleteLetter,c.Ks.style(R),u.b.style(R)]),deletePunctuationBeforeLetter:c.Ks.joinClasses([f.deletePunctuationBeforeLetter,c.Ks.style({textDecoration:"line-through"}),u.b.style({textDecoration:"line-through"})]),itemOriginal:c.Ks.joinClasses([f.itemOriginal,c.Ks.style(w),u.b.style(w)]),itemOriginalStrikeThrough:c.Ks.joinClasses([f.itemOriginalStrikeThrough,c.Ks.style(S),u.b.style(S)]),itemOriginalContent:c.Ks.joinClasses([f.itemOriginalContent,c.Ks.style({color:l.Q1.CoreNeutral90}),u.b.style({color:l.Q1.CoreNeutral90})]),spacesOnlyContent:c.Ks.joinClasses([f.spacesOnlyContent,c.Ks.style({whiteSpace:"pre"})]),removeOrContainer:c.Ks.joinClasses([f.removeOrContainer,c.Ks.style(P),u.b.style(P)]),itemContext:c.Ks.joinClasses([f.itemContext,c.Ks.style(_)]),itemContextShifted:c.Ks.joinClasses([f.itemContextShifted,c.Ks.style(_,{marginRight:"2px"}),u.b.style(_,{marginRight:"2px"})]),or:c.Ks.joinClasses([f.or,c.Ks.style(N),u.b.style(N)]),arrowInsertsList:c.Ks.joinClasses([f.arrowInsertsList,c.Ks.style(O),u.b.style(O)]),columnList:c.Ks.joinClasses([f.columnList,c.Ks.style(O,{flexDirection:"column",alignItems:"flex-start",maxWidth:"100%"}),u.b.style(O)]),cozyArrowInsertsList:c.Ks.joinClasses([f.arrowInsertsList,c.Ks.style(O,{flex:2,flexBasis:"0%"}),u.b.style(O)]),inlineHeader:c.Ks.joinClasses([f.inlineHeader,c.Ks.style(K),u.b.style(K)]),toneAIInsert:c.Ks.joinClasses([f.toneAIInsert,c.Ks.style(M),u.b.style(M)]),fullSentenceBackground:c.Ks.joinClasses([f.fullSentenceBackground,c.Ks.style(b(!1)),u.b.style(b(!1))]),minimalFullSentenceBackground:c.Ks.joinClasses([f.minimalFullSentenceBackground,c.Ks.style(b(!1),{lineHeight:c.Ks.rem(1.3125)}),u.b.style(b(!1),{lineHeight:c.Ks.rem(1.3125)})]),fullSentenceDelete:c.Ks.joinClasses([f.fullSentenceDelete,c.Ks.style(B),u.b.style(B)]),fullSentenceDeleteCollapsed:c.Ks.joinClasses([f.fullSentenceDeleteCollapsed,c.Ks.style(D),u.b.style(D)]),fullSentenceHidden:c.Ks.joinClasses([f.fullSentenceHidden,c.Ks.style({display:"none"})]),fullSentenceListItem:c.Ks.joinClasses([f.fullSentenceListItem,c.Ks.style(...C),u.b.style(...C)]),fullSentenceBulletListItem:c.Ks.joinClasses([f.fullSentenceBulletListItem,c.Ks.style({$nest:{"&:before":{content:"'\\A\\00a0\\2022\\00a0'"}}}),u.b.style({$nest:{"&:before":{content:"'\\A\\00a0\\2022\\00a0'"}}})]),fullSentenceDashedListItem:c.Ks.joinClasses([f.fullSentenceDashedListItem,c.Ks.style({$nest:{"&:before":{content:"'\\A\\00a0-\\00a0'"}}}),u.b.style({$nest:{"&:before":{content:"'\\A\\00a0-\\00a0'"}}})]),fullSentenceOrderedListItem:c.Ks.joinClasses([f.fullSentenceOrderedListItem,c.Ks.style(...m(""),...C),u.b.style(...m(""),...C)]),fullSentenceOrderedListItemWithFormatting:c.Ks.joinClasses([f.fullSentenceOrderedListItemWithFormatting,c.Ks.style(...m("¶"),...C,k(!1)),u.b.style(...m("¶"),...C,k(!1))]),fullSentenceBulletListItemWithFormatting:c.Ks.joinClasses([f.fullSentenceBulletListItemWithFormatting,c.Ks.style(...C,F,k(!1)),u.b.style(...C,F)]),fullSentenceDashedListItemWithFormatting:c.Ks.joinClasses([f.fullSentenceDashedListItemWithFormatting,c.Ks.style(...C,$,k(!1)),u.b.style(...C,$)]),fullSentenceInsert:c.Ks.joinClasses([f.fullSentenceInsert,c.Ks.style(k(!1))]),fullSentenceInsertPunctuation:c.Ks.joinClasses([f.fullSentenceInsertPunctuation,c.Ks.style(k(!1))]),diff:c.Ks.joinClasses([f.diff,c.Ks.style({fontWeight:"bolder"}),u.b.style({fontWeight:"bolder"})]),itemRemove:c.Ks.joinClasses([f.itemRemove,c.Ks.style(y,L)]),oneGapInsert:c.Ks.joinClasses([f.oneGapInsert,c.Ks.style(y,T(!1),H),W]),oneGapInput:c.Ks.joinClasses([f.oneGapInput,c.Ks.style(V)]),drilldownInsertGroup:c.Ks.joinClasses([f.drilldownInsertGroup,c.Ks.style(G)]),drilldownArrowButton:c.Ks.joinClasses([f.drilldownArrowButton,c.Ks.style(U)]),drilldownIcon:c.Ks.joinClasses([f.drilldownIcon,c.Ks.style(q)]),drilldownOriginalRow:c.Ks.joinClasses([f.drilldownOriginalRow,c.Ks.style(j)]),drilldownBackButton:c.Ks.joinClasses([f.drilldownBackButton,c.Ks.style(z)]),collapsibleDelete:c.Ks.joinClasses([f.collapsibleDelete,c.Ks.style(Y)]),collapsibleInsert:c.Ks.joinClasses([f.collapsibleInsert,c.Ks.style(Z)]),collapsiblePartContent:c.Ks.joinClasses([f.collapsiblePartContent,c.Ks.style(J)])};c.Ks.cssRule(`.${f.fullSentenceDelete} + .${f.fullSentenceInsert}`,{marginLeft:c.Ks.rem(.25)});const ee=(0,i._)((0,r._)({},X),{itemInsert:c.Ks.joinClasses([f.itemInsert,c.Ks.style(y,T(!0)),W,s.zB]),oneGapInsert:c.Ks.joinClasses([f.oneGapInsert,W,c.Ks.style(y,T(!0),H),s.zB]),fullSentenceOrderedListItemWithFormatting:c.Ks.joinClasses([f.fullSentenceOrderedListItemWithFormatting,u.b.style(...m("¶"),...C,k(!1)),c.Ks.style(...m("¶"),...C,k(!0))]),fullSentenceBulletListItemWithFormatting:c.Ks.joinClasses([f.fullSentenceBulletListItemWithFormatting,c.Ks.style(...C,F,k(!0)),u.b.style(...C,F)]),fullSentenceDashedListItemWithFormatting:c.Ks.joinClasses([f.fullSentenceDashedListItemWithFormatting,c.Ks.style(...C,$,k(!0)),u.b.style(...C,$)]),fullSentenceInsert:c.Ks.joinClasses([f.fullSentenceInsert,c.Ks.style(k(!0))]),fullSentenceInsertPunctuation:c.Ks.joinClasses([f.fullSentenceInsertPunctuation,c.Ks.style(k(!0))]),fullSentenceBackground:c.Ks.joinClasses([f.fullSentenceBackground,c.Ks.style(b(!0)),u.b.style(b(!1))]),minimalFullSentenceBackground:c.Ks.joinClasses([f.minimalFullSentenceBackground,c.Ks.style(b(!0),{lineHeight:c.Ks.rem(1.3125)}),u.b.style(b(!0),{lineHeight:c.Ks.rem(1.3125)})])})},79750:(e,t,n)=>{var r;function i(e){const t=e.replace(/\s/g,"");return null!==e&&null!==t.match(/^["'”“.,;:!?\\\/…\-—()]+$/)}function a(e){return null!==e&&null!==e.match(/^\s+$/)}function o(e,t){if(e.length<=4)return null;const n=s(e,t);if(void 0===n)return null;const{from:r,to:i,oldFragment:a,newFragment:o}=n,l=1===o.length&&r>0&&e[r-1]===o,c=1===a.length&&0===o.length&&t[r-1]===a;let u=r,d=o;return(l||c)&&(u=r-1),l&&(d=o+o),c&&(d=a),d.length>3?null:[e.substring(0,u),d,e.substring(i)]}function s(e,t){if(e===t)return;const n=e.length,r=t.length;if(r>n){if(t.substr(0,n)===e)return{from:n,to:n,oldFragment:"",newFragment:t.substr(n)};if(t.substr(r-n)===e)return{from:0,to:0,oldFragment:"",newFragment:t.substr(0,r-n)}}if(r<n){if(e.substr(n-r)===t)return{from:0,to:n-r,oldFragment:e.substr(0,n-r),newFragment:""};if(e.substr(0,r)===t)return{from:r,to:n,oldFragment:e.substr(r),newFragment:""}}const i=r<n?r:n,a=function(e,t,n){let r=0;for(;e[r]===t[r]&&r<n;)r+=1;return r}(e,t,i);let o=function(e,t,n,r,i){let a=0;for(;e[n-a-1]===t[r-a-1]&&i-a>=0;)a+=1;return a}(e,t,n,r,i);return a+o>n&&(o-=a+o-n),a+o>r&&(o-=a+o-r),{from:a,to:n-o,oldFragment:e.substr(a,n-o-a),newFragment:t.substr(a,r-o-a)}}n.d(t,{$B:()=>s,Bx:()=>i,LE:()=>o,i0:()=>a,n:()=>r}),function(e){e.getClass=function(e,t){return null!==(n=t)&&1===n.length&&/["'”’]/.test(n)?e.deleteApostrophe:function(e){return null!==e&&null!==e.match(/["'”][.,;]/)}(t)?e.deleteQuote:i(t)?e.deletePunctuation:function(e){return null!==e&&null!==e.match(/,,/)}(t)?e.deleteDoubleComma:function(e){return null!==e&&1===e.length&&null!==e.match(/[a-z]/i)}(t)?e.deleteLetter:Boolean(function(e){return null!==e&&e.match(/[.,;:!?\\\/-]\s*[a-z]/i)}(t))?e.deletePunctuationBeforeLetter:e.deleteAll;var n}}(r||(r={}))},43292:(e,t,n)=>{n.d(t,{k:()=>o});var r=n(10334),i=n(27199),a=n(11864);const o=(e,t,n,o,s,l)=>(0,r._)({position:"absolute",right:e,left:e,zIndex:t,display:"block",height:a.Ks.rem(2),borderRadius:s,backgroundColor:i.Q1.CoreNeutral0,boxShadow:o,content:"' '"},Boolean(l)&&"bottom"!==l?{top:n}:{bottom:n})},39946:(e,t,n)=>{n.d(t,{Y:()=>M,c:()=>R});var r=n(10334),i=n(17171),a=n(98205),o=n(21037),s=n(27199),l=n(11864),c=n(4885),u=n(72747);const d=s.Q1.BackgroundTooltip,p=s.Q1.CoreNeutral90,h=s.Q1.CoreNeutral40,m=l.Ks.keyframes({"0%":{boxShadow:"0 0 0 0 rgba(95, 139, 250, .65)"},"70%":{boxShadow:`0 0 0 ${l.Ks.rem(1)} rgba(95, 139, 250, 0)`},"100%":{boxShadow:"0 0 0 0 rgba(95, 139, 250, 0)"}}),g={width:l.Ks.rem(1),height:l.Ks.rem(1),borderRadius:l.Ks.percent(50),background:"rgba(95, 139, 250, .65)",boxShadow:"0 0 0 rgba(95, 139, 250, .65)",animation:`${m} 2s infinite`,$nest:{"&:hover":{animation:"none"},"@media print":{visibility:"hidden"}}},f=l.Ks.keyframes({"0%":{opacity:1,transform:"scale(1)"},"100%":{opacity:0,transform:"scale(3)"}}),y={width:l.Ks.rem(1),height:l.Ks.rem(1),borderRadius:l.Ks.percent(50),background:"rgba(95, 139, 250, .65)",willChange:"transform",$nest:{"@media print":{visibility:"hidden"},"&:before":{position:"absolute",top:0,left:0,zIndex:-1,width:l.Ks.rem(1),height:l.Ks.rem(1),borderRadius:l.Ks.percent(100),backgroundColor:"rgba(95, 139, 250, .65)",content:"''",animation:`${f} 2s infinite`,willChange:"transform"},"&:hover:before":{animation:"none"}}},v={margin:`${l.Ks.rem(-1.5)} 0 0 ${l.Ks.rem(-1.5)}`,padding:l.Ks.rem(1),borderRadius:l.Ks.percent(50),cursor:"pointer",pointerEvents:"all"},_={margin:`0 0 ${l.Ks.rem(.5)}`,color:s.Q1.CoreNeutral0,fontWeight:"bold"},b={color:s.Q1.CoreNeutral0,lineHeight:l.Ks.rem(1.25)},w={display:"flex",padding:`${l.Ks.rem(1)} ${l.Ks.rem(1.5)} ${l.Ks.rem(1.25)} ${l.Ks.rem(2)}`,width:l.Ks.rem(20),borderRadius:l.Ks.rem(u.H0),background:d,color:s.Q1.CoreNeutral0,textAlign:"left",letterSpacing:0,pointerEvents:"all",alignItems:"flex-start"},S={display:"inline-block",marginRight:l.Ks.rem(a.v$)},C={marginRight:l.Ks.rem(2),width:l.Ks.rem(2),flexShrink:0,alignSelf:"center"},I={position:"absolute",top:0,right:0},T={stroke:c.aD,$nest:{"&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']":{stroke:s.Q1.CoreNeutral0,fill:s.Q1.CoreNeutral0}}},A={position:"absolute",top:l.Ks.percent(50),left:l.Ks.percent(50),zIndex:u.k2},E={position:"relative",zIndex:u.yg},k={zIndex:u.C9},x={position:"absolute",zIndex:u.C9},R=l.Ks.prefixedStylesheet("onboarding",{pulse:[g],pulseWrapper:[v],header:[_],description:[b],stepWrapper:[w],content:[S],alertIcon:[C],closeIconWrapper:[I],closeIcon:[T],containerWrapper:[{position:"relative",display:"inline-block"}],onboardingSpot:[A],containerDiv:[{}],editor:[E],onboardingPopup:[k],notificationContainer:[x],pulseOptimized:[y]}),P={display:"flex",flexDirection:"column",width:l.Ks.percent(100)},N=(0,i._)((0,r._)({},I),{top:l.Ks.rem(.5),right:l.Ks.rem(.5)}),O=(0,i._)((0,r._)({},T),{$nest:(0,i._)((0,r._)({},T.$nest),{svg:{height:l.Ks.rem(1),width:l.Ks.rem(1)}})}),K=(0,i._)((0,r._)({},w),{background:p,color:s.Q1.CoreNeutral0,borderRadius:l.Ks.rem(o.Dk),padding:l.Ks.rem(1)}),B={width:l.Ks.percent(100),backgroundColor:"#2DC9B6",color:p,fontWeight:"bold",borderRadius:l.Ks.rem(o.KD),marginTop:l.Ks.rem(1),padding:l.Ks.rem(.5)},D=(0,i._)((0,r._)({},b),{color:h}),M=l.Ks.prefixedStylesheet("a11y-onboarding",{contentWrapper:[P],closeIconWrapper:[N],closeIcon:[O],stepWrapper:[K],completeButton:[B],description:[D]})},82315:(e,t,n)=>{n.d(t,{p3:()=>q,M7:()=>j,UX:()=>J,iR:()=>z});var r=n(23988),i=n(10334),a=n(17171),o=n(69384),s=n(85886),l=n(84647),c=n(49390),u=n(56855),d=n(80843),p=n(84712),h=n(65390),m=n(1395),g=n(18039),f=n(54183),y=n(41548),v=n(35098),_=n(7149),b=n(42279),w=n(91745),S=n(93432),C=n(93208),I=n(79937),T=n(366),A=n(83694),E=n(24239),k=n(5406),x=n(84872),R=n(58260),P=n(71202),N=n(48368),O=n(39946),K=n(27199),B=n(19967),D=n(98831),M=n(98530),L=n(65873),$=n(82608);const F=e=>s.createElement(B.$n,{className:O.Y.completeButton,onClick:e.onClick},e.text),H=({alignment:e,rect:t,onClose:n,className:r,children:o,icon:c,pinTargetRect:p,hideCloseButton:m,onMount:g})=>s.createElement(M.P.ByRelativeRect,(0,a._)((0,i._)({rect:t,className:O.c.notificationContainer},M.P.Alignment.toSelector(e)),{pinTargetRect:p,withPin:!0}),s.createElement(u.F.div,(0,a._)((0,i._)({},(0,d.Ly)(O.c.stepWrapper,r)),{mount:g}),(0,l.pipe)(c,h.fold((()=>s.createElement(D.In.Grammarly,{className:O.c.alertIcon})),(e=>s.createElement(e,{className:O.c.alertIcon})))),o,!(null!=m&&m)&&s.createElement(B.$n,{name:"onboard-close",className:O.c.closeIconWrapper,onClick:()=>n&&n()},s.createElement(D.In.Close,{className:O.c.closeIcon,width:12})))),V=({alignment:e,rect:t,onClose:n,className:r,children:o,pinTargetRect:l,hideCloseButton:c,onMount:p})=>s.createElement(M.P.ByRelativeRect,(0,a._)((0,i._)({rect:t,className:O.c.notificationContainer},M.P.Alignment.toSelector(e)),{pinTargetRect:l,withPin:!0}),s.createElement(u.F.div,(0,a._)((0,i._)({},(0,d.Ly)(O.Y.stepWrapper,r)),{mount:p}),o,!(null!=c&&c)&&s.createElement(B.$n,{name:"onboard-close",className:O.Y.closeIconWrapper,onClick:()=>{var e;return null===(e=n)||void 0===e?void 0:e()}},s.createElement(D.In.Close,{className:O.Y.closeIcon,width:12,color:K.Q1.CoreNeutral40})))),W=e=>{var{title:t,description:n}=e,r=(0,o._)(e,["title","description"]);return s.createElement(H,r,s.createElement("span",{className:O.c.content},Boolean(t)?s.createElement(L.P1,{className:O.c.header},t):null,s.createElement(L.C6,{className:O.c.description},n)))},G=e=>{var{title:t,description:n,isLastStep:r,onComplete:i}=e,a=(0,o._)(e,["title","description","isLastStep","onComplete"]);return s.createElement(V,a,s.createElement("div",{className:O.Y.contentWrapper},s.createElement("div",{className:O.c.content},Boolean(t)?s.createElement($.Typography.Base,{className:O.c.header},t):null,s.createElement($.Typography.Base,{className:O.Y.description},n)),s.createElement(F,{text:r?"Done":"Next",onClick:i})))},U=({className:e,onClick:t,customStyle:n})=>s.createElement(u.F.div,(0,a._)((0,i._)({},(0,d.Ly)(O.c.pulseWrapper,e)),{style:n,onClick:()=>t&&t()}),s.createElement("div",{className:O.c.pulseOptimized}));var q;function j(e){const t=s.useContext(j.Context),{stepId:n,onboardingViewModel:r}=e,c=(0,o._)(e,["stepId","onboardingViewModel"]),u=r||t,d=Q(n,u),p=s.useContext(v.L.Context).pipe(_.T((e=>e.rect)));return(0,l.pipe)(d,h.fold((()=>s.Children.only(e.children)),(e=>{var t,r;return s.createElement(J,(0,a._)((0,i._)({},c),{onboardingStep:e,viewportRect:p,isLastStep:null===(t=(r=u).isLastStep)||void 0===t?void 0:t.call(r,n)}))})))}function z(e){return s.createElement(u.F.Fragment,null,e.hideOnboarding.pipe(_.T((t=>t?e.children:s.createElement(j,e)))))}!function(e){e.leftTop="leftTop",e.leftCenter="leftCenter",e.leftBottom="leftBottom",e.center="center",e.rightTop="rightTop",e.rightCenter="rightCenter",e.rightBottom="rightBottom"}(q||(q={}));const Q=(e,t)=>((0,m.V1)(Boolean(t),"onboardingViewModel should be set either in context or in props"),t.isStepEnabled(e)?h.some(t.subscribeForStep(e)):h.none);class J extends s.Component{componentWillUnmount(){const e=this.props.onboardingStep;"popup"!==e.state.get()&&"popover"!==e.state.get()||e.popupIgnored(),this._subs.forEach((e=>e.unsubscribe()))}componentDidMount(){const e=this.props.dotPosition;var t;e?this._subs.push(b.h(this.context,this.props.onboardingStep.state.pipe(w.p((e=>"dot"===e||"popup"===e||"popover"===e)))).pipe(S.c(500),C.E(this._wrapperElement,this._containerElement),I.n((([t,n,r])=>(0,l.pipe)((0,l.tuple)(n,r),(0,l.tupled)(g.fP(((t,n)=>{switch(e.kind){case"findFirstButton":return T.br(e.buttonOrder).pipe(I.n((r=>A.of(void 0).pipe(S.c(500),_.T((()=>{const[i,a]=X(t,n,e.position,r,e.selector);return this._exactTargetRect.set(a),i})),E.oE))));case"dotAtPosition":return A.of(Y(e.position));default:return(0,m.xb)(e)}}))),h.fold((()=>k.w),c.D))))).subscribe((e=>{this._spotStyle.set(e),this._visibilityState.set(!0)})),x.z([null!==(t=this.props.dismissalTrigger)&&void 0!==t?t:k.w,this.props.onboardingStep.state]).pipe(w.p((([e,t])=>e&&("dot"===t||"popup"===t||"popover"===t))),R.s(1)).subscribe((()=>{this.props.onboardingStep.actionTaken()}))):this._visibilityState.set(!0)}render(){const e=this.props.onboardingStep;return s.createElement(u.F.div,(0,a._)((0,i._)({key:"onboarding-wrapper"},(0,d.Ly)(O.c.containerWrapper,this.props.themes&&this.props.themes.containerWrapperClassName)),{mount:e=>this._wrapperElement.set(h.fromNullable(e))}),s.createElement("div",(0,a._)((0,i._)({key:"container",ref:e=>this._containerElement.set(h.fromNullable(e))},(0,d.Ly)(O.c.containerDiv,this.props.themes&&this.props.themes.containerClassName)),{onClickCapture:this._onEventActionTaken(e,"onclick"===this.props.eventType),onMouseEnter:t=>"onhover"===this.props.eventType&&this._onEventActionTaken(e,!1)(t)}),this.props.children),p.s.combine(e.state,this._visibilityState,((t,n)=>{if(!n)return null;switch(t){case N.f.Dot:const t=this.props.themes&&this.props.themes.spotClassName;return this.props.onboardingStep.dotShown(),s.createElement(U,(0,a._)((0,i._)({customStyle:this._spotStyle,key:"spot"},(0,d.Ly)(O.c.onboardingSpot,t)),{onClick:()=>e.dotClicked()}));case N.f.Popup:return s.createElement(W,{key:"step",title:this.props.title,alignment:this.props.alignment,rect:this._containerElement.view(h.fold((()=>f.rw.empty),f.rw.fromEl)),className:this.props.themes&&this.props.themes.notificationClassName,description:this.props.message,icon:h.fromNullable(this.props.icon),onClose:()=>e.popupClosed(),pinTargetRect:this._exactTargetRect.view(g.y0)});case N.f.Popover:return s.createElement(G,{key:"step",title:this.props.title,isLastStep:Boolean(this.props.isLastStep),alignment:this.props.alignment,rect:this._containerElement.view(h.fold((()=>f.rw.empty),f.rw.fromEl)),className:this.props.themes&&this.props.themes.notificationClassName,description:this.props.message,onClose:()=>e.popupClosed(),onComplete:()=>e.actionTaken(),pinTargetRect:this._exactTargetRect.view(g.y0)});default:return null}})))}constructor(...e){super(...e),(0,r._)(this,"context",void 0),(0,r._)(this,"_subs",[]),(0,r._)(this,"_wrapperElement",p.s.create(h.none)),(0,r._)(this,"_containerElement",p.s.create(h.none)),(0,r._)(this,"_exactTargetRect",p.s.create(h.none)),(0,r._)(this,"_visibilityState",p.s.create(!1)),(0,r._)(this,"_spotStyle",p.s.create({})),(0,r._)(this,"_onEventActionTaken",((e,t=!0)=>n=>{const r=e.state.get();if("popup"===r||"popover"===r||t&&"dot"===r){var i;const r=n.target;if(f.d6(r))return;const a=t||f.ws(r,O.c.containerDiv);if("findFirstButton"===(null===(i=this.props.dotPosition)||void 0===i?void 0:i.kind)&&!f.VQ(r,"role","button"))return;a&&e.actionTaken()}else"dot"===r&&(n.preventDefault(),n.stopPropagation())}))}}(0,r._)(J,"contextType",y.q.Context),(0,r._)(J,"defaultProps",{alignment:"left"});const Y=e=>{switch(e){case q.leftTop:return{top:0,left:0};case q.leftCenter:return{top:"50%",left:0};case q.leftBottom:return{top:"100%",left:0};case q.rightTop:return{top:0,left:"100%"};case q.rightCenter:return{top:"50%",left:"100%"};case q.rightBottom:return{top:"100%",left:"100%"};case q.center:return{top:"50%",left:"50%"};default:return(0,m.xb)(e)}},Z=(e,t,n)=>{switch(n){case q.rightTop:return{top:e.top-t.top,left:e.left-t.left+e.width};case q.center:return{top:e.top-t.top+e.height/2,left:e.left-t.left+e.width/2};default:return(0,m.xb)(n)}},X=(e,t,n,r,i)=>{const a=t.querySelectorAll(null!=i?i:'[role="button"], [role="insertion"], [role="deletion"], button'),o=a.length>0&&(void 0===r?a[a.length-1]:a[r]);if(Boolean(o)){const t=f.rw.fromEl((0,l.unsafeCoerce)(o)),r=f.rw.fromEl(e);return[h.some(Z(t,r,n)),h.some(t)]}return Boolean(i)?[h.none,h.none]:[h.some({top:"50%",left:"50%"}),h.none]};!function(e){var t=e.Context=s.createContext(null);e.ContextMock=({children:e})=>s.createElement(t.Provider,{value:new P.oh,children:e})}(j||(j={}))},15990:(e,t,n)=>{n.d(t,{L:()=>r});var r,i=n(65390),a=n(84647),o=n(72896);!function(e){e.string=function(e){return(0,a.pipe)((0,i.fromNullable)(e),(0,i.filter)(o.z2))},e.array=function(e){return(0,a.pipe)((0,i.fromNullable)(e),(0,i.map)((function(e){return e.filter(Boolean)})),(0,i.filter)(o.z2))}}(r||(r={}))},20981:(e,t,n)=>{n.d(t,{R:()=>M});var r=n(84647),i=n(38260),a=n(85886),o=n(86344),s=n(19772),l=n(25093),c=n(91745),u=n(99010),d=n(65390),p=n(1395),h=n(18039),m=n(84712),g=n(56855),f=n(32573),y=n(3299),v=n(11864),_=function(e){var t=e.parentKey,n=e.from,r=e.transition,i=e.to,o=e.onAnimationEnd,s=e.renderContent,l=b(r.animateFrom,"from"),c=b(r.animateTo,"to"),u=l.needFullWidth||c.needFullWidth;return a.createElement("div",{className:v.Ks.joinClasses([w,u?S:""])},n&&a.createElement("div",{onAnimationEnd:function(){return o(r.fromName)},className:v.Ks.joinClasses(l.className)},s(n,"from-".concat(t),[])),a.createElement("div",{onAnimationEnd:function(){return o(r.toName)},className:v.Ks.joinClasses(c.className)},s(i,"to-".concat(t),[])))};function b(e,t){switch(e){case"fadeOut":return{className:[I],needFullWidth:!1};case"fadeIn":return{className:[A],needFullWidth:!1};case"slideLeft":return{className:k(t,"left"),needFullWidth:!0};case"slideRight":return{className:k(t,"right"),needFullWidth:!0};default:return{className:[],needFullWidth:!1}}}var w=v.Ks.style({position:"relative",overflow:"hidden"}),S=v.Ks.style({width:"100%"}),C=v.Ks.keyframes({from:{opacity:1,visibility:"visible"},to:{opacity:0,visibility:"hidden"}}),I=v.Ks.style({position:"absolute",opacity:0,visibility:"hidden",animation:"".concat(C," ").concat(v.Ks.seconds(.3)," ease-out")}),T=v.Ks.keyframes({from:{opacity:0,visibility:"hidden"},to:{opacity:1,visibility:"visible"}}),A=v.Ks.style({animation:"".concat(T," ").concat(v.Ks.seconds(.3)," ease-out")}),E=function(e){return"calc(".concat(e,"px * var(--cardWidth))")},k=function(e,t){var n="to"===e?0:"".concat(E("left"===t?-1:1)),r="from"===e?0:"".concat(E("left"===t?1:-1)),i=v.Ks.keyframes({from:{transform:"translateX(".concat(r,")"),visibility:"visible"},to:{transform:"translateX(".concat(n,")"),visibility:"from"===e?"hidden":"visible"}}),a=v.Ks.style({position:"absolute",left:0,right:0,visibility:"hidden"}),o=v.Ks.style({position:"from"===e?"absolute":"relative",animation:"".concat(i," ").concat(v.Ks.seconds(.3)," ease-out")});return"from"===e?[a,o]:[o]},x=n(1829),R=n(45237);function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){N(e,t,n[t])}))}return e}function B(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function D(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}var M=function(e){var t=e.content,n=e.prevContent,v=e.transitions,b=e.designSystem,w=e.notify,S=e.onMount,C=e.onAnimationEnd,I=e.sduiRootId,T=e.longFormCardState,A=void 0===T?{viewKind:"collapsed"}:T,E=function(e){return"name"in e},k=function(e){return(0,r.pipe)(e,i.Tj((function(e){return"applyAlerts"===e.type&&0===e.alternativeIndex?{type:"applyAlerts",alternativeIndex:$.get()}:"selectAlternative"===e.type?($.set(e.alternativeIndex),e):e})))},N=function(e,t,n,i,s){return function(l){return(0,r.pipe)(e,d.fromNullable,d.chain(o.ci),d.map((function(e){var o,c=function(e){if(Array.isArray(e))return e}(o=e)||O(o)||D(o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=c[0],h=c.slice(1);switch(u.type){case"behavior:strongAlertRef":return N(h,t,n,i,s)((function(e){return a.createElement(b.strongAlertRef,{key:"".concat(t,"-strongAlertRef"),alertIds:u.alertIds,children:l(B(K({},e),{alertRefs:u.alertIds}))})}));case"behavior:animation:fadeIn":case"behavior:animation:fadeOut":return N(h,t,n,i,s)((function(e){return a.createElement(b.animation,B(K({key:"".concat(t,"-animation")},u),{children:l(e)}))}));case"behavior:popoverAnchor":return N(h,t,n,i,s)((function(e){return(0,r.pipe)(d.some(u),d.filter(R.G2.PopoverAnchor.nonEmpty),d.fold((function(){return l(e)}),(function(i){var o=i.id,s=i.positionHint,c=i.view;return a.createElement(b.popoverAnchor,{key:"".concat(t,"-popoverAnchor"),inlineWrapper:"inline"===(0,y.aF)(n),positionHint:s,popover:F(c.child,c.id,v,C,e),children:l(e),onShow:function(){return(0,r.pipe)(c.onShow,(function(t){return w(o,t||[],e)}))}})})))}));case"behavior:lifecycle":return N(h,t,n,i,s)((function(e){return a.createElement(b.lifecycle,{key:"".concat(t,"-lifecycle"),children:l(K({},e)),onMountHandler:V(e)(u.onMount,i),onUnmountHandler:V(e)(u.onUnmount,i)})}));default:(0,p.xb)(u)}})),d.getOrElse((0,r.constant)(l(s))))}},M=new Map,$=m.s.create(0),F=function(e,t,n,o,s){var l=E(e)?n.find((function(t){return t.toName===e.name.value})):void 0;if(void 0!==l){var c=M.get(l.fromName);return a.createElement(_,{key:L(t,e),parentKey:t,renderContent:function(e,t){return F(e,L(t,e),[],r.constVoid,s)},onAnimationEnd:o,from:c,to:e,transition:l})}return N(function(e){return"behaviors"in e}(e)?e.behaviors:void 0,L(t,e),e.type,e.id,s)((function(s){switch(e.type){case"text":return a.createElement(b.text,K({key:L(t,e)},e));case"clickableText":return a.createElement(b.clickableText,B(K({},e),{key:L(t,e),name:e.name.value,textView:b.text,onClick:V(s)(e.onClickActions,e.id)}));case"button":var l=F(e.label,t,n,o,s);return a.createElement(g.F.Fragment,{key:L(t,e)},$.view((function(n){return a.createElement(b.button[e.kind],{key:L(t,e),id:e.id,text:l,name:e.name.value,state:e.name.value===f.A7.ButtonAccept&&-1===n?f.w.Hidden:e.state,tooltip:e.tooltip,shape:e.shape,verticalAlign:"block"===e.label.type||"row"===e.label.type?e.label.verticalAlign:void 0,meta:e.meta,horizontalAlign:e.horizontalAlign,onClick:V(s)(e.actions,e.id)})})));case"alternativeChoice":return a.createElement(g.F.Fragment,{key:L(t,e)},$.view((function(n){return a.createElement(b.alternativeChoice,{key:L(t,e),id:e.id,designSystem:b,content:e.alternatives,activeIndex:n,notify:V(s),meta:e.meta})})));case"icon":return H(e.source,e.backgroundColor,L(t,e));case"image":return a.createElement(b.imageSized,K({key:L(t,e)},e));case"count":return a.createElement(b.count,K({key:L(t,e)},e));case"block":return a.createElement(b.block,B(K({key:L(t,e)},e),{children:e.parts.map((function(e,r){return F(e,L(t,{id:r.toString()}),n,o,s)}))}));case"row":return a.createElement(b.row,B(K({key:L(t,e)},e),{left:e.left.map((function(e,r){return F(e,L(t,{id:r.toString()}),n,o,s)})),right:e.right.map((function(e,r){return F(e,L(t,{id:r.toString()}),n,o,s)}))}));case"column":return a.createElement(b.column,B(K({key:L(t,e)},e),{children:e.children.map((function(e,r){return F(e,L(t,{id:r.toString()}),n,o,s)}))}));case"slider":return a.createElement(b.slider,K({key:L(t,e),designSystem:b,onChoiceSelected:V(s)},e));case"alternativeSlider":return a.createElement(b.alternativeSlider,K({key:L(t,e),designSystem:b,activeAltIndex:$.view(),notify:V(s)},e));case"strongAlertRef":var c=B(K({},s),{alertRefs:e.alertIds});return a.createElement(b.strongAlertRef,B(K({key:t},e),{children:F(e.child,t,n,o,c)}));case"scroll":return a.createElement(b.scroll,K({key:L(t,e),children:F(e.child,t,n,o,s)},e));case"box":return a.createElement(b.box,K({key:L(t,e),children:F(e.child,t,n,o,s)},e));case"list":return a.createElement(b.list,K({key:L(t,e),onSelect:function(e){var t=function(e,t){return e&&0!==e.length?(0,r.pipe)(e,i.d5,d.map((function(e){switch(e.type){case"behavior:strongAlertRef":return B(K({},t),{alertRefs:e.alertIds});case"behavior:animation:fadeIn":case"behavior:animation:fadeOut":case"behavior:popoverAnchor":case"behavior:lifecycle":return t;default:(0,p.xb)(e)}})),d.getOrElse((function(){return t}))):t}(e.behaviors,s);return V(t)(e.actions,e.id)()},onClick:function(t){return V(s)([{type:"positionedClick",source:e.type,sourcePosition:t.clickPoint}],e.id)()},renderItem:function(r,i){var l=L(t,e)+"."+i.toString(),c=F(r.label,t,n,o,s);return N(r.behaviors,l,e.type,e.id,s)((function(e){return a.createElement(b.listItem,{key:l,id:r.id,label:c,tooltip:r.tooltip,behaviors:r.behaviors,secondaryButtons:r.secondaryButtons.map((function(t){return B(K({},t),{onClick:V(e)(t.onClickActions,t.id)})})),designSystem:b,meta:r.meta})}))}},e));case"alertsCount":return a.createElement(b.alertsCount,K({key:L(t,e),textView:b.text},e));case"assistantCard":return a.createElement(b.assistantCard,B(K({key:L(t,e)},e),{child:F(e.child,t,n,o,s),footer:e.footer?F(e.footer,t,n,o,s):null}));case"nativeSkillsModal":return a.createElement(b.nativeSkillsModal,K({key:L(t,e)},e));case"nativeSkillsList":return a.createElement(b.nativeSkillsList,K({key:L(t,e),designSystem:b,notify:function(){return w(e.id,e.onSelect,s)}},e));case"nativeSkillsView":return a.createElement(b.nativeSkillsView,K({key:L(t,e)},e));case"nativeToneInsightsModal":return a.createElement(b.nativeToneInsightsModal,K({key:L(t,e)},e));case"nativeLearnMoreModal":return a.createElement(b.nativeLearnMoreModal,K({key:L(t,e)},e));case"nativeSettingsModal":return a.createElement(b.nativeSettingsModal,K({key:L(t,e)},e));case"nativeFeedbackModal":return a.createElement(b.nativeFeedbackModal,K({key:L(t,e)},e));case"nativeGetStartedChecklistModal":return a.createElement(b.nativeGetStartedChecklistModal,K({key:L(t,e),designSystem:b,notify:function(){return w(e.id,e.onComplete,s)}},e));case"nativeKeyTakeawaysAssistantCard":return a.createElement(b.nativeKeyTakeawaysAssistantCard,K({key:L(t,e)},e));case"nativeProofitModal":return a.createElement(b.nativeProofitModal,K({key:L(t,e)},e));case"viewStack":return(0,r.pipe)(d.fromNullable(e.views[e.selected]),d.fold((function(){return a.createElement("div",null,"unknown selected view, corresponding view is missing")}),(function(e){return F(e,t,n,o,s)})));case"dropDownMenuButton":return a.createElement(b.dropDownMenuButton,K({key:L(t,e),designSystem:b,onClick:V(s)},e));case"selectableDropDownMenu":return a.createElement(b.selectableDropDownMenu,K({key:L(t,e),designSystem:b,onClick:V(s)},e));case"nativeExperimentalGBConsistencyUpsellFooter":return a.createElement(b.nativeExperimentalGBConsistencyUpsellFooter,K({key:L(t,e)},e));case"nativeExperimentalGBToneInsightsUpsellFooter":return a.createElement(b.nativeExperimentalGBToneInsightsUpsellFooter,K({key:L(t,e)},e));case"nativeInlineCardContent":return a.createElement(b.nativeInlineCardContent,K({key:L(t,e)},e));case"inlineCard":return a.createElement(b.inlineCard,B(K({key:L(t,e)},e),{child:F(e.child,t,n,o,s)}));case"radioButtonsGroup":return a.createElement(b.radioButtonsGroup,K({key:L(t,e),designSystem:b,onClick:V(s)},e));case"collapsedCard":return a.createElement(b.collapsedCard,B(K({},e),{child:F(e.child,t,n,o,s),quickActions:e.quickActions?F(e.quickActions,t,n,o,s):null,onHoverChanged:function(t){return w(e.id,[{type:"hoverStateChanged",hovered:t}],s)},onPress:function(t){return V(s)([{type:"positionedClick",source:e.type,sourcePosition:t}],e.id)()}}));case"shortFormCard":return F(e.child,t,n,o,s);case"longFormCard":return a.createElement(b.longFormCard,B(K({},e),{fullContent:F(e.fullContent,t,n,o,s),collapsedContent:F(e.collapsedContent,t,n,o,s),viewKind:A.viewKind}));case"progressBar":return a.createElement(b.progressBar,K({key:L(t,e)},e));case"tooltip":return a.createElement(b.tooltip,{text:e.text,child:F(e.child,t,n,o,s),alignment:e.alignment});case"sticker":return a.createElement(b.sticker,B(K({},e),{key:L(t,e),label:F(e.label,L("".concat(t,"-label"),e),n,o,s),children:F(e.child,L("".concat(t,"-child"),e),n,o,s),onClick:V(s)(e.onClickActions,e.id)}));case"overlay":return a.createElement(b.overlay,B(K({},e),{key:L(t,e),obscuredContent:F(e.obscuredContent.content,L("".concat(t,"-obscured-content"),e),n,o,s),visibleContent:e.visibleContent?F(e.visibleContent,L("".concat(t,"-visible-content"),e),n,o,s):null,obscuredContentBlur:e.obscuredContent.blur}));case"horizontalRule":return a.createElement(b.horizontalRule,K({key:L(t,e)},e));case"globalPartPlaceholder":return a.createElement(b.globalPartPlaceholder,{key:L(t,e),children:e.child?F(e.child,t,n,o,s):null});case"assistantFeed":case"lensesSwitchPanel":case"popoverStack":case"gButton":throw new Error("".concat(e.type," can not be rendered directly"));default:if((0,y.T)(e))throw new Error("".concat(e.type," component rendering is not implemented here"));return a.createElement("div",null,"unknown element")}}))},H=function(e,t,n){return"known"===e.kind?a.createElement(b.icon[e.name],{key:n,backgroundColor:t}):a.createElement(b.image,B(K({key:n},e),{backgroundColor:t}))},V=function(e){return function(t,n){return function(){return(0,r.pipe)(t,k,(function(t){return w(n,t,e)}))}}};d.isSome(n)&&y.cK.forEach(h.$v(n),(function(e){E(e)&&M.set(e.name.value,e)}));var W=v.reduce((function(e,t){return M.has(t.fromName)&&(e+=1),e+1}),0),G=m.s.create([]);return s.R.useSubscriptionTo((0,r.pipe)(G,l.$((function(e){return e.length===W})),c.p((function(){return W>0})),u.M(C))),s.R.useEffectOnDidMount(S),a.createElement(x.F.Context.Provider,{value:{alertIds:[]}},F(t,I,v,(function(e){return G.modify((function(t){return(n=t,function(e){if(Array.isArray(e))return P(e)}(n)||O(n)||D(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([e]);var n}))}),{alertRefs:[]}))};function L(e,t){return"".concat(e,".").concat(t.id)}},1829:(e,t,n)=>{n.d(t,{F:()=>r,m:()=>o});var r,i=n(99695),a=n(85886);!function(e){e.Context=a.createContext(i.o.invariantContent("AlertRefState"))}(r||(r={}));var o=function(e){var t=e.children,n=e.alertIds;return a.createElement(r.Context.Provider,{value:{alertIds:n}},t)}},90795:(e,t,n)=>{function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}n.d(t,{A:()=>i});const i=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},29978:(e,t,n)=>{n.d(t,{Xo:()=>i});var r=n(83288),i={equals:r.ordNumber.equals,compare:r.ordNumber.compare,top:1/0,bottom:-1/0}},85982:(e,t,n)=>{n.d(t,{AU:()=>v,BK:()=>g,ED:()=>F,TX:()=>b,Tj:()=>I,W6:()=>V,WL:()=>_,bm:()=>$,cy:()=>H,g$:()=>O,kb:()=>h,oW:()=>N,pG:()=>m,wg:()=>w,wu:()=>T});var r=n(45819),i=n(52546),a=n(66202),o=n(99036),s=n(99650),l=n(27155),c=n(84647),u=n(21648),d=n(1986),p=n(84011),h=o.kb(p.gd),m=o.pG(p.gd),g=o.nT(p.WW),f=(p.WW,p.of),y=g,v=(p.WW,o.NU(p.Cu)),_=o.Do(p.Cu),b=function(e,t){return function(){return a.tryCatch(e,t)}},w=(p.WW,p.Cu,o.sF(p.Cu),p.Cu,o.wg(p.WW)),S=function(e,t){return(0,c.pipe)(e,I(t))},C=function(e,t){return(0,c.pipe)(e,A(t))},I=o.Tj(p.WW),T=(0,c.dual)(3,o.Uc(p.WW)),A=(o.xm(p.WW),o.ap(p.Zn)),E=m,k=(0,c.dual)(2,o.qI(p.Cu)),x=(p.Cu,"IOEither"),R={URI:x,map:S},P=((0,c.dual)(2,(0,u.as)(R)),(0,u.Pg)(R),{URI:x,map:S,ap:C}),N=(0,r.oW)(P),O=(0,r.g$)(P),K={URI:x,map:S,ap:C,chain:k},B={URI:x,fromEither:f},D={URI:x,fromIO:y},M=(0,c.dual)(2,i.Mi(K)),L=((0,s.j_)(B,K),(0,l.qf)(D,K),d.FR,E(d.rb)),$=function(e){return function(e){var t=function(e){return function(t){return function(){var n=e(0,d.d5(t))();if(d.OC(n))return n;for(var r=[n.right],i=1;i<t.length;i++){var a=e(i,t[i])();if(d.OC(a))return a;r.push(a.right)}return d.pG(r)}}}(e);return function(e){return d.J_(e)?t(e):L}}((function(t,n){return e(n)}))},F=$(c.identity),H=k,V=M},80993:(e,t,n)=>{n.d(t,{$I:()=>d,G1:()=>u,Im:()=>s,JI:()=>h,PT:()=>b,Tj:()=>_,cs:()=>o,nZ:()=>p,pb:()=>y,qt:()=>c,x1:()=>v,zu:()=>l});var r=n(84647),i=n(1986),a=n(47503),o=(n(31464),a.cs),s=(a.Ej,a.Im),l=(a.Dc,a.Mu,function(e){return function(t){return Array.from(t.values()).sort(e.compare)}}),c=function(e){var t=u(e);return function(e,n){return function(r){var a=t(e,r);if(i.$I(a))return i.dv;var o=new Map(r);return o.set(a.value[0],n(a.value[1])),i.zN(o)}}};function u(e){return function(t,n){if(void 0===n){var r=u(e);return function(e){return r(t,e)}}for(var a,o=n.entries();!(a=o.next()).done;){var s=a.value,l=s[0],c=s[1];if(e.equals(l,t))return i.zN([l,c])}return i.dv}}var d=a.$I,p=(a.NY,a.nZ);function h(e,t){var n=u(e);return{concat:function(e,r){if(s(e))return r;if(s(r))return e;for(var a,o=new Map(e),l=r.entries();!(a=l.next()).done;){var c=a.value,u=c[0],d=c[1],p=n(u,e);i.Ru(p)?o.set(p.value[0],t.concat(p.value[1],d)):o.set(u,d)}return o},empty:new Map}}var m=function(e,t){return function(e,t){for(var n,r=new Map,i=e.entries();!(n=i.next()).done;){var a=n.value,o=a[0],s=a[1];r.set(o,t(o,s))}return r}(e,(function(e,n){return t(n)}))},g=function(e,t){return(0,r.pipe)(e,function(e){return function(t){for(var n,r=new Map,i=t.entries();!(n=i.next()).done;){var a=n.value,o=a[0],s=a[1];e(o,s)&&r.set(o,s)}return r}}(t))},f=function(e,t){return(0,r.pipe)(e,function(e){return function(t){for(var n,r=new Map,a=t.entries();!(n=a.next()).done;){var o=n.value,s=o[0],l=o[1],c=e(s,l);i.Ru(c)&&r.set(s,c.value)}return r}}(t))},y=function(e){return function(t){return function(e,t){return g(e,(function(e,n){return t(n)}))}(t,e)}},v=function(e){return function(t){return function(e,t){return f(e,(function(e,n){return t(n)}))}(t,e)}},_=function(e){return function(t){return m(t,e)}};a.TS,a.ue,a.XK,a.RE,a.yO,a.$v,new Map;var b=function(e){var t=u(e);return function(e,n){var r=t(e);return function(t){var a,o=r(t);return i.$I(o)?((a=new Map(t)).set(e,n),a):o.value[1]!==n?((a=new Map(t)).set(o.value[0],n),a):t}}}},44551:(e,t,n)=>{n.d(t,{$k:()=>i,_S:()=>r});var r=function(e){return e<=-1?-1:e>=1?1:0},i={equals:function(e,t){return e===t}}},47503:(e,t,n)=>{n.d(t,{$I:()=>g,$v:()=>C,Dc:()=>u,Ej:()=>l,Im:()=>c,Mu:()=>d,NY:()=>f,PT:()=>I,RE:()=>w,TS:()=>v,XK:()=>b,cs:()=>s,nZ:()=>y,qt:()=>h,ue:()=>_,yO:()=>S});var r=n(44869),i=n(84647),a=n(1986),o=n(65390);function s(e,t){return{show:function(n){var r=[];return n.forEach((function(n,i){r.push("[".concat(e.show(i),", ").concat(t.show(n),"]"))})),"new Map([".concat(r.sort().join(", "),"])")}}}n(31464);var l=function(e){return e.size},c=function(e){return 0===e.size};function u(e){var t=g(e);return function(n,r){if(void 0===r){var i=u(e);return function(e){return i(n,e)}}return a.Ru(t(n,r))}}function d(e){return function(t,n){if(void 0===n){var r=d(e);return function(e){return r(t,e)}}for(var i,a=n.values();!(i=a.next()).done;){var o=i.value;if(e.equals(t,o))return!0}return!1}}var p=function(e){return function(t){return Array.from(t.keys()).sort(e.compare)}},h=function(e){var t=m(e);return function(e,n){return function(r){var i=t(e,r);if(a.$I(i))return a.dv;var o=i.value,s=o[0],l=o[1],c=n(l);if(c===l)return a.zN(r);var u=new Map(r);return u.set(s,c),a.zN(u)}}};function m(e){return function(t,n){if(void 0===n){var r=m(e);return function(e){return r(t,e)}}for(var i,o=n.entries();!(i=o.next()).done;){var s=i.value,l=s[0],c=s[1];if(e.equals(l,t))return a.zN([l,c])}return a.dv}}function g(e){var t=m(e);return function(n,r){if(void 0===r){var a=g(e);return function(e){return a(n,e)}}return(0,i.pipe)(t(n,r),o.map((function(e){return e[0],e[1]})))}}function f(e,t){var n=m(e);return function(r,i){if(void 0===i){var o=f(e,t);return function(e){return o(e,r)}}for(var s,l=r.entries();!(s=l.next()).done;){var c=s.value,u=c[0],d=c[1],p=n(u,i);if(a.$I(p)||!e.equals(u,p.value[0])||!t.equals(d,p.value[1]))return!1}return!0}}function y(e,t){var n=f(e,t);return(0,r.ee)((function(e,t){return n(e,t)&&n(t,e)}))}new Map;var v=function(e){var t=w(e);return function(e,n){return t(e,(function(e,t,r){return n(t,r)}))}},_=function(e){var t=S(e);return function(e){var n=t(e);return function(e){return n((function(t,n){return e(n)}))}}},b=function(e){var t=C(e);return function(e,n){return t(e,(function(e,t,r){return n(t,r)}))}},w=function(e){var t=p(e);return function(e,n){return function(r){for(var i=e,a=0,o=t(r);a<o.length;a++){var s=o[a];i=n(s,i,r.get(s))}return i}}},S=function(e){var t=p(e);return function(e){return function(n){return function(r){for(var i=e.empty,a=0,o=t(r);a<o.length;a++){var s=o[a];i=e.concat(i,n(s,r.get(s)))}return i}}}},C=function(e){var t=p(e);return function(e,n){return function(r){for(var i=e,a=t(r),o=a.length-1;o>=0;o--){var s=a[o];i=n(s,r.get(s),i)}return i}}},I=function(e){var t=m(e);return function(e,n){var r=t(e);return function(t){var i,o=r(t);return a.$I(o)?((i=new Map(t)).set(e,n),i):o.value[1]!==n?((i=new Map(t)).set(o.value[0],n),i):t}}}},49490:(e,t,n)=>{n.d(t,{M4:()=>i,N4:()=>s,Zo:()=>l,c5:()=>o,pJ:()=>a});var r=n(1986),i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{show:function(t){return"[".concat(t.map((function(t,n){return e[n].show(t)})).join(", "),"]")}}},a=function(e){return{show:function(t){var n="{";for(var i in e)r.zy.call(e,i)&&(n+=" ".concat(i,": ").concat(e[i].show(t[i]),","));return n.length>1&&(n=n.slice(0,-1)+" "),n+"}"}}},o={show:function(e){return JSON.stringify(e)}},s={show:function(e){return JSON.stringify(e)}},l={show:function(e){return JSON.stringify(e)}}},1185:(e,t,n)=>{n.d(t,{w:()=>r});var r,i=n(38886),a=n(66202),o=n(65390),s=n(82094),l=n(15668),c=n(84647),u=n(1395),d=n(54183);(e=>{let t;var n;function r(e,{position:n,point:r}){const i={width:Math.trunc(e.width),height:Math.trunc(e.height)};return d.rw.validate(t.match((()=>({top:r.y,right:r.x,bottom:r.y+i.height,left:r.x-i.width,...i})),(()=>({top:r.y-i.height,right:r.x,bottom:r.y,left:r.x-i.width,...i})),(()=>({top:r.y-i.height,right:r.x+i.width,bottom:r.y,left:r.x,...i})),(()=>({top:r.y,right:r.x+i.width,bottom:r.y+i.height,left:r.x,...i})))(n))}function p(t){return(0,e.topLeft)(d.rw.Point.normalize({x:t.left,y:t.top}))}let h;var m;let g;var f,y;(n=t=e.Position||(e.Position={})).topLeft="topLeft",n.topRight="topRight",n.bottomRight="bottomRight",n.bottomLeft="bottomLeft",(e=>{e.match=(e,t,n,r)=>i=>{switch(i){case"topRight":return e();case"bottomRight":return t();case"bottomLeft":return n();case"topLeft":return r();default:return(0,u.xb)(i)}}})(t=e.Position||(e.Position={})),e.topLeft=e=>({position:"topLeft",point:d.rw.Point.normalize(e)}),e.topRight=e=>({position:"topRight",point:d.rw.Point.normalize(e)}),e.bottomRight=e=>({position:"bottomRight",point:d.rw.Point.normalize(e)}),e.bottomLeft=e=>({position:"bottomLeft",point:d.rw.Point.normalize(e)}),e.relativeTo=(e,t)=>({position:e.position,point:d.rw.Point.relativeTo(e.point,t)}),e.empty=(0,e.topLeft)(d.rw.Point.empty),e.toRect=r,e.fromRect=p,e.inRect=function(e,{point:t}){return d.rw.hasPoint(e,t)},e.toCss=function({position:e,point:n}){return t.match((()=>({top:n.y,right:n.x})),(()=>({right:n.x,bottom:n.y})),(()=>({bottom:n.y,left:n.x})),(()=>({top:n.y,left:n.x})))(e)},(m=h=e.Zone||(e.Zone={})).create=function(e,t){return(0,u.V1)(e.point.x===t.point.x||e.point.y===t.point.y,"can not form Zone without a common dimension",(()=>JSON.stringify({a:e,b:t}))),[e,t]},m.bySide=(t,n)=>d.rw.Side.match((()=>m.create((0,e.bottomLeft)({x:Math.ceil(n.left),y:Math.ceil(n.top)}),(0,e.bottomRight)({x:Math.floor(n.right),y:Math.ceil(n.top)}))),(()=>m.create((0,e.topLeft)({x:Math.floor(n.right),y:Math.ceil(n.top)}),(0,e.bottomLeft)({x:Math.floor(n.right),y:Math.floor(n.bottom)}))),(()=>m.create((0,e.topLeft)({x:Math.ceil(n.left),y:Math.floor(n.bottom)}),(0,e.topRight)({x:Math.floor(n.right),y:Math.floor(n.bottom)}))),(()=>m.create((0,e.topRight)({x:Math.ceil(n.left),y:Math.ceil(n.top)}),(0,e.bottomRight)({x:Math.ceil(n.left),y:Math.floor(n.bottom)}))))(t),(e.Variants||(e.Variants={})).byAxis=function(e,t){return s.A4((0,l.getFirstSemigroup)(),i.YS)(d.rw.Axis.toSides(e).map((e=>[e,h.bySide(e,t)])))},(t=>{function n(e,t){return(0,c.pipe)(d.rw.intersection(e,t),o.map((e=>{const n=e.width/t.width,r=e.height/t.height,i=(Number.isNaN(n)?0:n/2)+(Number.isNaN(r)?0:r/2);return(0,u.V1)(i>=0,`quality can not be negavite: ${i}`),(0,u.V1)(i<=1,`quality can be higher than 1: ${i}`),i})))}t.empty={quality:0,point:e.empty},t.qualityOfIntersection=n,t.byViewport=function(e,t){return{quality:(0,c.pipe)(n(e,t),o.getOrElse((()=>0)))+(0,c.pipe)(d.rw.scale(2,t),a.chain(d.rw.normalize),o.fromEither,o.chain((t=>n(e,t))),o.getOrElse((()=>0))),point:p(t)}},t.fromZone=function(e,n,o){return(0,c.pipe)(i.YO.traverse(a.either)(o,(e=>r(n,e))),a.chain((([e,t])=>d.rw.join(e,t))),a.chain((e=>d.az.placeIntoRect(n,e))),a.map((n=>n.map((n=>t.byViewport(e,n))))))}})(g=e.Qualified||(e.Qualified={})),(e.QualifiedVariants||(e.QualifiedVariants={})).build=function(e,t,n){return(0,c.pipe)(n,s.Tj((n=>g.fromZone(e,t,n))))},(y=(f=e.Selector||(e.Selector={})).Placement||(f.Placement={}))[y.left=0]="left",y[y.middle=1]="middle",y[y.right=2]="right",y[y.edges=20]="edges",y[y.any=210]="any",f.takeBy=(e,t)=>n=>(0,c.pipe)(n,s.RE({point:g.empty,side:e},((n,r,i)=>(0,c.pipe)(i,a.map((i=>i.filter(((r,i)=>t.toString().includes(i.toString())&&e===n)).reduce(((e,t)=>t.quality>e.point.quality?{point:t,side:n}:e),r))),a.fold((e=>{throw e}),c.identity))))).point,f.preferBy=(e,t)=>n=>(0,c.pipe)(n,s.RE({point:g.empty,side:e},((n,r,i)=>(0,c.pipe)(i,a.map((i=>i.reduce(((r,i,a)=>i.quality>r.point.quality||i.quality===r.point.quality&&t.toString().includes(a.toString())&&e===n?{point:i,side:n}:r),r))),a.fold((e=>{throw e}),c.identity))))).point,f.preferTopMiddle=(0,f.preferBy)("top",1),f.preferTopEdges=(0,f.preferBy)("top",20)})(r||(r={}))},88597:(e,t,n)=>{n.d(t,{KH:()=>d,b_:()=>r});var r,i,a,o=n(80993),s=n(84647),l=n(6320),c=n(65390),u=n(36916);(e=>{function t(t,n,r){return i=>e.fromMutation((a=>{(0,s.pipe)(i,e.forEach(((e,n)=>a.set(n,u.kb(t(n,e)))),((e,t,r)=>(0,s.pipe)(n(r,e,t),(([e,t])=>a.set(r,u.WP(e,t))))),((e,t)=>a.set(t,u.pG(r(t,e))))))}))}function n(t,n,r){return i=>e.fromMutation((a=>{(0,s.pipe)(i,e.forEach(((e,n)=>t(n,e)&&a.set(n,u.kb(e))),((e,t,r)=>n(r,e,t)&&a.set(r,u.WP(e,t))),((e,t)=>r(t,e)&&a.set(t,u.pG(e)))))}))}function r(e){return(t,n,r)=>a=>{const o=i.iso().unwrap(a);let s=e.empty;return o.forEach(((i,a)=>{s=e.concat(s,u.AU((e=>t(a,e)),(e=>r(a,e)),((e,t)=>n(a,e,t)))(i))})),s}}e.reduce=function(e,t,n,r){return a=>{const o=i.iso().unwrap(a);let s=e;return o.forEach(((e,i)=>{s=u.AU((e=>t(s,e,i)),(e=>r(s,e,i)),((e,t)=>n(s,e,t,i)))(e)})),s}},e.mapWithIndex=t,e.map=function(e,n,r){return t(((t,n)=>e(n)),((e,t,r)=>n(t,r)),((e,t)=>r(t)))},e.filterWithIndex=n,e.filter=function(e,t,r){return n(((t,n)=>e(n)),((e,n,r)=>t(n,r)),((e,t)=>r(t)))},e.foldMapWithIndex=r,e.foldMap=function(e){return(t,n,i)=>r(e)(((e,n)=>t(n)),((e,t,r)=>n(t,r)),((e,t)=>i(t)))},e.forEach=function(e,t,n){return r=>{i.iso().unwrap(r).forEach(((r,i)=>{u.AU((t=>e(t,i)),(e=>n(e,i)),((e,n)=>t(e,n,i)))(r)}))}},e.fromMutation=function(e){const t=i.empty();return e(t),i.iso().wrap(t)},e.empty=()=>i.iso().wrap(i.empty()),e.concat=function(e,t,n){const r=i.iso();return r.wrap(i.concat(e,r.unwrap(t),r.unwrap(n)))},e.inverse=function(e){const t=i.iso();return(0,s.pipe)(t.unwrap(e),o.Tj(u.wg),t.wrap)},e.getEq=function(e,t){return l.nZ(i.getEq(e,t))},e.toJSON=function(e){return Array.from(i.iso().unwrap(e))},e.getShow=function(e,t){return i.getShow(e,t)},e.isEmpty=function(e){return 0===i.iso().unwrap(e).size}})(r||(r={})),(a=i||(i={})).iso=()=>l.KH(),a.empty=()=>new Map,a.concat=function(e,t,n){const r=new Map(t);return n.forEach(((t,n)=>{r.has(n)?(0,s.pipe)(((e,t,n)=>u.nZ(e,e).equals(t,n)?c.some(n):u.nZ(e,e).equals(t,u.wg(n))?c.none:u.OC(t)?u.AU((()=>c.some(u.kb(t.left))),(e=>c.some(u.WP(t.left,e))),((n,r)=>e.equals(t.left,r)?c.none:c.some(u.WP(t.left,r))))(n):u.FG(t)?u.AU((()=>c.none),(0,s.flow)(u.pG,c.some),((e,t)=>c.some(u.pG(t))))(n):u.AU((()=>c.some(u.kb(t.left))),(0,s.flow)(u.pG,c.some),((n,r)=>e.equals(t.left,r)?c.none:c.some(u.WP(t.left,r))))(n))(e,r.get(n),t),c.fold((()=>{r.delete(n)}),(e=>r.set(n,e)))):r.set(n,t)})),r},a.inverse=o.Tj(u.wg),a.getEq=function(e,t){return o.nZ(e,u.nZ(t,t))},a.getShow=function(e,t){return o.cs(e,u.cs(t,t))};const d=i.iso},87870:(e,t,n)=>{n.d(t,{n:()=>p,y$:()=>g,bt:()=>d,H_:()=>u});var r=n(80993),i=n(84647),a=n(88597),o=n(18039),s=n(66202),l=n(36916),c=n(65390);function u(e){return(t,n)=>a.b_.fromMutation((r=>(t.forEach(((t,i)=>{if(n.has(i)){const a=n.get(i);e.equals(t,a)||r.set(i,(0,l.WP)(t,a))}else r.set(i,(0,l.kb)(t))})),n.forEach(((n,i)=>{if(t.has(i)){const a=t.get(i);e.equals(a,n)||r.set(i,(0,l.WP)(a,n))}else r.set(i,(0,l.pG)(n))})),r)))}const d=m(i.identity);var p,h;function m(e){return(t,n,r)=>{const o=new Map(n),u=new Map;return(0,a.KH)().unwrap(r).forEach(((n,r)=>{(0,i.pipe)(n,e,t((0,c.fromNullable)(o.get(r))),(0,l.wu)((e=>u.set(r,e)),(0,c.fold)((()=>{o.delete(r)}),(e=>o.set(r,e)))))})),u.size>0?(0,s.left)({recovered:o,rejected:u}):(0,s.right)(o)}}function g(e){return(t,n)=>{const a=[],s=new Map(t);return n.forEach(((t,n)=>{(0,i.pipe)(r.G1(e)(n,s),(0,o.jw)((()=>a.push(n))))})),a}}m((function(e){return(0,l.ES)(e)?(0,l.WP)(e.right,e.left):(0,s.swap)(e)})),(h=p||(p={})).createStrict=function(e){return t=>(0,l.AU)((n=>(0,c.isNone)(t)?(0,l.kb)(`can not remove non existent entry: left(${e.show(n)})`):e.equals(t.value,n)?(0,l.pG)(c.none):(0,l.kb)(`can not remove non equal entry: target(${e.show(t.value)}) left(${e.show(n)})`)),(n=>(0,c.isSome)(t)?(0,l.kb)(`can not add existent entry: target(${e.show(t.value)}) right(${e.show(n)})`):(0,l.pG)((0,c.some)(n))),((n,r)=>e.equals(n,r)?(0,l.kb)(`can not apply update with equals parts: left(${e.show(n)}) right(${e.show(r)})`):(0,c.isNone)(t)?(0,l.kb)(`can not update non existent entry: left(${e.show(n)}) right(${e.show(r)})`):e.equals(t.value,n)?(0,l.pG)((0,c.some)(r)):(0,l.kb)(`can not apply update on non equal entry: target(${e.show(t.value)}) left(${e.show(n)}) right(${e.show(r)})`)))},h.createLoose=function(e){return t=>(0,l.AU)((n=>(0,c.isNone)(t)?(0,l.kb)(`can not remove non existent entry: left(${e.show(n)})`):e.equals(t.value,n)?(0,l.pG)(c.none):(0,l.WP)(`removed non equal entry: target(${e.show(t.value)}) left(${e.show(n)})`,c.none)),(n=>(0,c.isSome)(t)?(0,l.WP)(`existent entry was overwritten: target(${e.show(t.value)}) right(${e.show(n)})`,(0,c.some)(n)):(0,l.pG)((0,c.some)(n))),((n,r)=>{const a=e.equals(n,r)?(0,c.some)("unexpected equal parts in provided update"):c.none;return(0,c.isNone)(t)?(0,l.WP)((0,i.pipe)(a,(0,c.map)((e=>e+", ")),(0,c.getOrElse)((()=>"")))+`update applied on non existent entry: left(${e.show(n)}) right(${e.show(r)})`,(0,c.some)(r)):e.equals(t.value,n)?(0,i.pipe)(a,(0,c.map)((t=>t+`: left(${e.show(n)}) right(${e.show(r)})`)),(0,c.fold)((()=>(0,l.pG)((0,c.some)(r))),(e=>(0,l.WP)(e,(0,c.some)(r))))):(0,l.WP)((0,i.pipe)(a,(0,c.map)((e=>e+", ")),(0,c.getOrElse)((()=>"")))+`update applied on non equal entry: target(${e.show(t.value)}) left(${e.show(n)}) right(${e.show(r)})`,(0,c.some)(r))}))}},24359:(e,t,n)=>{n.d(t,{FM:()=>o});var r=n(13110),i=n(84647),a=n(65390);const o=(0,i.flow)(a.fromNullable,(0,a.chain)(r.ci))},39598:(e,t,n)=>{n.d(t,{s:()=>r});var r,i=n(38886),a=n(66202),o=n(65011),s=n(84647);(e=>{function t(e){return e.left.length>0?a.left({rejected:e.left,recovered:e.right}):a.right(e.right)}e.URI="RecoverableOperation",e.fromArray=n=>r=>(0,s.pipe)(r.map((e=>(0,s.pipe)(n(e),a.mapLeft((t=>(0,s.tuple)(t,e)))))),i.sj,t,(0,e.mapLeft)((e=>e.map(o.gp)))),e.map=e=>t=>(0,s.pipe)(t,a.bimap((t=>({rejected:t.rejected,recovered:e(t.recovered)})),e)),e.mapLeft=e=>t=>(0,s.pipe)(t,a.mapLeft((t=>({rejected:e(t.rejected),recovered:t.recovered})))),e.flatten=e=>t=>(0,s.pipe)(t,a.fold((t=>(0,s.pipe)(t.recovered,a.fold((n=>a.left({rejected:e.concat(t.rejected,n.rejected),recovered:n.recovered})),(e=>a.left({rejected:t.rejected,recovered:e}))))),s.identity)),e.flatMap=(t,n)=>r=>(0,s.pipe)(r,(0,e.map)(n),(0,e.flatten)(t)),e.recover=function(e){return a.fold((t=>(e(t.rejected),t.recovered)),s.identity)},e.tapFailure=function(e){return a.mapLeft((t=>(e(t),t)))},e.foldSuccess=function(e){return a.fold((t=>e(t.recovered)),e)},e.of=function(e,t){return void 0===t?a.right(e):a.left({recovered:e,rejected:t})},e.fromSeparatedArray=t})(r||(r={}))},97254:(e,t,n)=>{n.d(t,{B:()=>r,J:()=>o});class r{getStringForLocale(e,t){let n=this.strings[t];n||(n=function(e,t,n="en-US"){if(t[e])return t[e];let r=function(e){return Intl.Locale?new Intl.Locale(e).language:e.split("-")[0]}(e);if(t[r])return t[r];for(let e in t)if(e.startsWith(r+"-"))return t[e];return t[n]}(t,this.strings,this.defaultLocale),this.strings[t]=n);let r=n[e];if(!r)throw new Error(`Could not find intl message ${e} in ${t} locale`);return r}constructor(e,t="en-US"){this.strings={...e},this.defaultLocale=t}}const i=new Map,a=new Map;class o{format(e,t){let n=this.strings.getStringForLocale(e,this.locale);return"function"==typeof n?n(t,this):n}plural(e,t,n="cardinal"){let r=t["="+e];if(r)return"function"==typeof r?r():r;let a=this.locale+":"+n,o=i.get(a);return o||(o=new Intl.PluralRules(this.locale,{type:n}),i.set(a,o)),r=t[o.select(e)]||t.other,"function"==typeof r?r():r}number(e){let t=a.get(this.locale);return t||(t=new Intl.NumberFormat(this.locale),a.set(this.locale,t)),t.format(e)}select(e,t){let n=e[t]||e.other;return"function"==typeof n?n():n}constructor(e,t){this.locale=e,this.strings=t}}},71871:(e,t,n)=>{n.d(t,{Ge:()=>h,iQ:()=>m,o3:()=>f,q7:()=>o,ue:()=>g,vS:()=>_,wn:()=>l});var r=n(85886);function i(e){return null}function a(e){return null!=e.hasChildItems?e.hasChildItems:!!e.childItems||!!(e.title&&r.Children.count(e.children)>0)}i.getCollectionNode=function*(e,t){let{childItems:n,title:i,children:o}=e,s=e.title||e.children,l=e.textValue||("string"==typeof s?s:"")||e["aria-label"]||"";l||(null==t?void 0:t.suppressTextValueWarning)||console.warn("<Item> with non-plain text contents is unsupported by type to select for accessibility. Please add a `textValue` prop."),yield{type:"item",props:e,rendered:s,textValue:l,"aria-label":e["aria-label"],hasChildNodes:a(e),*childNodes(){if(n)for(let e of n)yield{type:"item",value:e};else if(i){let e=[];r.Children.forEach(o,(t=>{e.push({type:"item",element:t})})),yield*e}}}};let o=i;function s(e){return null}s.getCollectionNode=function*(e){let{children:t,title:n,items:i}=e;yield{type:"section",props:e,hasChildNodes:!0,rendered:n,"aria-label":e["aria-label"],*childNodes(){if("function"==typeof t){if(!i)throw new Error("props.children was a function but props.items is missing");for(let e of i)yield{type:"item",value:e,renderer:t}}else{let e=[];r.Children.forEach(t,(t=>{e.push({type:"item",element:t})})),yield*e}}}};let l=s;class c{build(e,t){return this.context=t,u((()=>this.iterateCollection(e)))}*iterateCollection(e){let{children:t,items:n}=e;if("function"==typeof t){if(!n)throw new Error("props.children was a function but props.items is missing");for(let n of e.items)yield*this.getFullNode({value:n},{renderer:t})}else{let e=[];r.Children.forEach(t,(t=>{e.push(t)}));let n=0;for(let t of e){let e=this.getFullNode({element:t,index:n},{});for(let t of e)n++,yield t}}}getKey(e,t,n,r){if(null!=e.key)return e.key;if("cell"===t.type&&null!=t.key)return`${r}${t.key}`;let i=t.value;if(null!=i){var a;let e=null!==(a=i.key)&&void 0!==a?a:i.id;if(null==e)throw new Error("No key found for item");return e}return r?`${r}.${t.index}`:`$.${t.index}`}getChildState(e,t){return{renderer:t.renderer||e.renderer}}*getFullNode(e,t,n,i){let a=e.element;if(!a&&e.value&&t&&t.renderer){let n=this.cache.get(e.value);if(n&&(!n.shouldInvalidate||!n.shouldInvalidate(this.context)))return n.index=e.index,n.parentKey=i?i.key:null,void(yield n);a=t.renderer(e.value)}if(r.isValidElement(a)){let r=a.type;if("function"!=typeof r&&"function"!=typeof r.getCollectionNode){let e="function"==typeof a.type?a.type.name:a.type;throw new Error(`Unknown element <${e}> in collection.`)}let o=r.getCollectionNode(a.props,this.context),s=e.index,l=o.next();for(;!l.done&&l.value;){let r=l.value;e.index=s;let c=r.key;c||(c=r.element?null:this.getKey(a,e,t,n));let u=[...this.getFullNode({...r,key:c,index:s,wrapper:d(e.wrapper,r.wrapper)},this.getChildState(t,r),n?`${n}${a.key}`:a.key,i)];for(let t of u){if(t.value=r.value||e.value,t.value&&this.cache.set(t.value,t),e.type&&t.type!==e.type)throw new Error(`Unsupported type <${p(t.type)}> in <${p(i.type)}>. Only <${p(e.type)}> is supported.`);s++,yield t}l=o.next(u)}return}if(null==e.key)return;let o=this,s={type:e.type,props:e.props,key:e.key,parentKey:i?i.key:null,value:e.value,level:i?i.level+1:0,index:e.index,rendered:e.rendered,textValue:e.textValue,"aria-label":e["aria-label"],wrapper:e.wrapper,shouldInvalidate:e.shouldInvalidate,hasChildNodes:e.hasChildNodes,childNodes:u((function*(){if(!e.hasChildNodes)return;let n=0;for(let r of e.childNodes()){null!=r.key&&(r.key=`${s.key}${r.key}`),r.index=n;let e=o.getFullNode(r,o.getChildState(t,r),s.key,s);for(let t of e)n++,yield t}}))};yield s}constructor(){this.cache=new WeakMap}}function u(e){let t=[],n=null;return{*[Symbol.iterator](){for(let e of t)yield e;n||(n=e());for(let e of n)t.push(e),yield e}}}function d(e,t){return e&&t?n=>e(t(n)):e||t||void 0}function p(e){return e[0].toUpperCase()+e.slice(1)}function h(e,t,n){let i=(0,r.useMemo)((()=>new c),[]),{children:a,items:o,collection:s}=e;return(0,r.useMemo)((()=>{if(s)return s;let e=i.build({children:a,items:o},n);return t(e)}),[i,a,o,s,n,t])}function m(e,t){return"function"==typeof t.getChildren?t.getChildren(e.key):e.childNodes}function g(e){return function(e,t){let n=0;for(let t of e){if(0===n)return t;n++}}(e)}function f(e,t,n){if(t.parentKey===n.parentKey)return t.index-n.index;let r=y(e,t),i=y(e,n),a=r.slice(0,i.length).findIndex(((e,t)=>e!==i[t]));return-1!==a?(t=r[a],n=i[a],t.index-n.index):-1}function y(e,t){let n=[];for(;null!=(null==t?void 0:t.parentKey);)t=e.getItem(t.parentKey),n.unshift(t);return n}const v=new WeakMap;function _(e){let t=v.get(e);if(null!=t)return t;t=0;let n=r=>{for(let i of r)"section"===i.type?n(m(i,e)):t++};return n(e),v.set(e,t),t}},15044:(e,t,n)=>{n.d(t,{I:()=>a});var r=n(77179),i=n(85886);function a(e){let t=(0,r.T)(e),[n,a]=(0,i.useState)(null);return{focusStrategy:n,...t,open(e=null){a(e),t.open()},toggle(e=null){a(e),t.toggle()}}}},77179:(e,t,n)=>{n.d(t,{T:()=>a});var r=n(85886),i=n(1540);function a(e){let[t,n]=(0,i.PW)(e.isOpen,e.defaultOpen||!1,e.onOpenChange);const a=(0,r.useCallback)((()=>{n(!0)}),[n]),o=(0,r.useCallback)((()=>{n(!1)}),[n]),s=(0,r.useCallback)((()=>{n(!t)}),[n,t]);return{isOpen:t,setOpen:n,open:a,close:o,toggle:s}}},81738:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(1540),i=n(85886);let a=Math.round(1e10*Math.random()),o=0;function s(e){let t=(0,i.useMemo)((()=>e.name||`radio-group-${a}-${++o}`),[e.name]),[n,s]=(0,r.PW)(e.value,e.defaultValue,e.onChange),[l,c]=(0,i.useState)(null);return{name:t,selectedValue:n,setSelectedValue:t=>{e.isReadOnly||e.isDisabled||s(t)},lastFocusedValue:l,setLastFocusedValue:c,isDisabled:e.isDisabled||!1,isReadOnly:e.isReadOnly||!1,isRequired:e.isRequired||!1,validationState:e.validationState||null}}},14868:(e,t,n)=>{n.d(t,{R:()=>s,Y:()=>c});var r=n(85886),i=n(1540),a=n(71871);class o extends Set{constructor(e,t,n){super(e),e instanceof o?(this.anchorKey=t||e.anchorKey,this.currentKey=n||e.currentKey):(this.anchorKey=t,this.currentKey=n)}}function s(e){let{selectionMode:t="none",disallowEmptySelection:n,allowDuplicateSelectionEvents:a,selectionBehavior:s="toggle",disabledBehavior:c="all"}=e,u=(0,r.useRef)(!1),[,d]=(0,r.useState)(!1),p=(0,r.useRef)(null),h=(0,r.useRef)(null),[,m]=(0,r.useState)(null),g=(0,r.useMemo)((()=>l(e.selectedKeys)),[e.selectedKeys]),f=(0,r.useMemo)((()=>l(e.defaultSelectedKeys,new o)),[e.defaultSelectedKeys]),[y,v]=(0,i.PW)(g,f,e.onSelectionChange),_=(0,r.useMemo)((()=>e.disabledKeys?new Set(e.disabledKeys):new Set),[e.disabledKeys]),[b,w]=(0,r.useState)(s);"replace"===s&&"toggle"===b&&"object"==typeof y&&0===y.size&&w("replace");let S=(0,r.useRef)(s);return(0,r.useEffect)((()=>{s!==S.current&&(w(s),S.current=s)}),[s]),{selectionMode:t,disallowEmptySelection:n,selectionBehavior:b,setSelectionBehavior:w,get isFocused(){return u.current},setFocused(e){u.current=e,d(e)},get focusedKey(){return p.current},get childFocusStrategy(){return h.current},setFocusedKey(e,t="first"){p.current=e,h.current=t,m(e)},selectedKeys:y,setSelectedKeys(e){!a&&function(e,t){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}(e,y)||v(e)},disabledKeys:_,disabledBehavior:c}}function l(e,t){return e?"all"===e?"all":new o(e):t}class c{get selectionMode(){return this.state.selectionMode}get disallowEmptySelection(){return this.state.disallowEmptySelection}get selectionBehavior(){return this.state.selectionBehavior}setSelectionBehavior(e){this.state.setSelectionBehavior(e)}get isFocused(){return this.state.isFocused}setFocused(e){this.state.setFocused(e)}get focusedKey(){return this.state.focusedKey}get childFocusStrategy(){return this.state.childFocusStrategy}setFocusedKey(e,t){(null==e||this.collection.getItem(e))&&this.state.setFocusedKey(e,t)}get selectedKeys(){return"all"===this.state.selectedKeys?new Set(this.getSelectAllKeys()):this.state.selectedKeys}get rawSelection(){return this.state.selectedKeys}isSelected(e){return"none"!==this.state.selectionMode&&(e=this.getKey(e),"all"===this.state.selectedKeys?this.canSelectItem(e):this.state.selectedKeys.has(e))}get isEmpty(){return"all"!==this.state.selectedKeys&&0===this.state.selectedKeys.size}get isSelectAll(){if(this.isEmpty)return!1;if("all"===this.state.selectedKeys)return!0;if(null!=this._isSelectAll)return this._isSelectAll;let e=this.getSelectAllKeys(),t=this.state.selectedKeys;return this._isSelectAll=e.every((e=>t.has(e))),this._isSelectAll}get firstSelectedKey(){let e=null;for(let t of this.state.selectedKeys){let n=this.collection.getItem(t);(!e||n&&(0,a.o3)(this.collection,n,e)<0)&&(e=n)}return null==e?void 0:e.key}get lastSelectedKey(){let e=null;for(let t of this.state.selectedKeys){let n=this.collection.getItem(t);(!e||n&&(0,a.o3)(this.collection,n,e)>0)&&(e=n)}return null==e?void 0:e.key}get disabledKeys(){return this.state.disabledKeys}get disabledBehavior(){return this.state.disabledBehavior}extendSelection(e){if("none"===this.selectionMode)return;if("single"===this.selectionMode)return void this.replaceSelection(e);let t;if(e=this.getKey(e),"all"===this.state.selectedKeys)t=new o([e],e,e);else{let n=this.state.selectedKeys,r=n.anchorKey||e;t=new o(n,r,e);for(let i of this.getKeyRange(r,n.currentKey||e))t.delete(i);for(let n of this.getKeyRange(e,r))this.canSelectItem(n)&&t.add(n)}this.state.setSelectedKeys(t)}getKeyRange(e,t){let n=this.collection.getItem(e),r=this.collection.getItem(t);return n&&r?(0,a.o3)(this.collection,n,r)<=0?this.getKeyRangeInternal(e,t):this.getKeyRangeInternal(t,e):[]}getKeyRangeInternal(e,t){let n=[],r=e;for(;r;){let e=this.collection.getItem(r);if((e&&"item"===e.type||"cell"===e.type&&this.allowsCellSelection)&&n.push(r),r===t)return n;r=this.collection.getKeyAfter(r)}return[]}getKey(e){let t=this.collection.getItem(e);if(!t)return e;if("cell"===t.type&&this.allowsCellSelection)return e;for(;"item"!==t.type&&null!=t.parentKey;)t=this.collection.getItem(t.parentKey);return t&&"item"===t.type?t.key:null}toggleSelection(e){if("none"===this.selectionMode)return;if("single"===this.selectionMode&&!this.isSelected(e))return void this.replaceSelection(e);if(null==(e=this.getKey(e)))return;let t=new o("all"===this.state.selectedKeys?this.getSelectAllKeys():this.state.selectedKeys);t.has(e)?t.delete(e):this.canSelectItem(e)&&(t.add(e),t.anchorKey=e,t.currentKey=e),this.disallowEmptySelection&&0===t.size||this.state.setSelectedKeys(t)}replaceSelection(e){if("none"===this.selectionMode)return;if(null==(e=this.getKey(e)))return;let t=this.canSelectItem(e)?new o([e],e,e):new o;this.state.setSelectedKeys(t)}setSelectedKeys(e){if("none"===this.selectionMode)return;let t=new o;for(let n of e)if(n=this.getKey(n),null!=n&&(t.add(n),"single"===this.selectionMode))break;this.state.setSelectedKeys(t)}getSelectAllKeys(){let e=[],t=n=>{for(;n;){if(this.canSelectItem(n)){let r=this.collection.getItem(n);"item"===r.type&&e.push(n),r.hasChildNodes&&(this.allowsCellSelection||"item"!==r.type)&&t((0,a.ue)((0,a.iQ)(r,this.collection)).key)}n=this.collection.getKeyAfter(n)}};return t(this.collection.getFirstKey()),e}selectAll(){this.isSelectAll||"multiple"!==this.selectionMode||this.state.setSelectedKeys("all")}clearSelection(){!this.disallowEmptySelection&&("all"===this.state.selectedKeys||this.state.selectedKeys.size>0)&&this.state.setSelectedKeys(new o)}toggleSelectAll(){this.isSelectAll?this.clearSelection():this.selectAll()}select(e,t){"none"!==this.selectionMode&&("single"===this.selectionMode?this.isSelected(e)&&!this.disallowEmptySelection?this.toggleSelection(e):this.replaceSelection(e):"toggle"===this.selectionBehavior||t&&("touch"===t.pointerType||"virtual"===t.pointerType)?this.toggleSelection(e):this.replaceSelection(e))}isSelectionEqual(e){if(e===this.state.selectedKeys)return!0;let t=this.selectedKeys;if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;for(let n of t)if(!e.has(n))return!1;return!0}canSelectItem(e){if("none"===this.state.selectionMode||this.state.disabledKeys.has(e))return!1;let t=this.collection.getItem(e);return!(!t||"cell"===t.type&&!this.allowsCellSelection)}isDisabled(e){return this.state.disabledKeys.has(e)&&"all"===this.state.disabledBehavior}constructor(e,t,n){var r;this.collection=e,this.state=t,this.allowsCellSelection=null!==(r=null==n?void 0:n.allowsCellSelection)&&void 0!==r&&r,this._isSelectAll=null}}},87709:(e,t,n)=>{n.d(t,{p:()=>l});var r=n(85886),i=n(14868),a=n(71871),o=n(1540);class s{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let t=this.keyMap.get(e);return t?t.prevKey:null}getKeyAfter(e){let t=this.keyMap.get(e);return t?t.nextKey:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){return this.keyMap.get(e)}at(e){const t=[...this.getKeys()];return this.getItem(t[e])}constructor(e,{expandedKeys:t}={}){this.keyMap=new Map,this.iterable=e,t=t||new Set;let n,r=e=>{if(this.keyMap.set(e.key,e),e.childNodes&&("section"===e.type||t.has(e.key)))for(let t of e.childNodes)r(t)};for(let t of e)r(t);let i=0;for(let[e,t]of this.keyMap)n?(n.nextKey=e,t.prevKey=n.key):(this.firstKey=e,t.prevKey=void 0),"item"===t.type&&(t.index=i++),n=t,n.nextKey=void 0;this.lastKey=null==n?void 0:n.key}}function l(e){let[t,n]=(0,o.PW)(e.expandedKeys?new Set(e.expandedKeys):void 0,e.defaultExpandedKeys?new Set(e.defaultExpandedKeys):new Set,e.onExpandedChange),l=(0,i.R)(e),c=(0,r.useMemo)((()=>e.disabledKeys?new Set(e.disabledKeys):new Set),[e.disabledKeys]),u=(0,a.Ge)(e,(0,r.useCallback)((e=>new s(e,{expandedKeys:t})),[t]),null);return(0,r.useEffect)((()=>{null==l.focusedKey||u.getItem(l.focusedKey)||l.setFocusedKey(null)}),[u,l.focusedKey]),{collection:u,expandedKeys:t,disabledKeys:c,toggleKey:e=>{n(function(e,t){let n=new Set(e);return n.has(t)?n.delete(t):n.add(t),n}(t,e))},setExpandedKeys:n,selectionManager:new(0,i.Y)(u,l)}}},1540:(e,t,n)=>{n.d(t,{PW:()=>i,qE:()=>a});var r=n(85886);function i(e,t,n){let[i,a]=(0,r.useState)(e||t),o=(0,r.useRef)(void 0!==e),s=void 0!==e;(0,r.useEffect)((()=>{let e=o.current;e!==s&&console.warn(`WARN: A component changed from ${e?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}.`),o.current=s}),[s]);let l=s?e:i,c=(0,r.useCallback)(((e,...t)=>{let r=(e,...t)=>{n&&(Object.is(l,e)||n(e,...t)),s||(l=e)};"function"==typeof e?(console.warn("We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320"),a(((n,...i)=>{let a=e(s?l:n,...i);return r(a,...t),s?n:a}))):(s||a(e),r(e,...t))}),[s,l,n]);return[l,c]}function a(e,t=-1/0,n=1/0){return Math.min(Math.max(e,t),n)}},20509:(e,t,n)=>{n.d(t,{I:()=>i});var r=n(85886);const i=(0,n(95140).w)("color",(({title:e,titleId:t,desc:n,descId:i,...a})=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true","data-icon":"InterfaceDictionary",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...a},n?r.createElement("desc",{id:i},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{stroke:"#646B81",strokeLinecap:"round",strokeLinejoin:"round",d:"M7.375 3.8H4.25C3.56 3.8 3 4.36 3 5.05v7.45m8.125 1.5H4.5A1.5 1.5 0 0 1 3 12.5v0m8.125-5.1V11H4.5A1.5 1.5 0 0 0 3 12.5v0m8 0H4.5M11.125 2v1.8m0 1.8V3.8m0 0H13 9.25"}))))},63100:(e,t,n)=>{n.d(t,{$:()=>i});var r=n(85886);const i=(0,n(95140).w)("color",(({title:e,titleId:t,desc:n,descId:i,...a})=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true","data-icon":"InterfaceMore",stroke:"transparent","aria-labelledby":t,"aria-describedby":i,...a},n?r.createElement("desc",{id:i},n):null,e?r.createElement("title",{id:t},e):null,r.createElement("path",{fill:"#646B81",d:"M8.001 6.8a1.2 1.2 0 1 1 0 2.4 1.2 1.2 0 0 1 0-2.4M12.803 6.8a1.2 1.2 0 1 1 0 2.4 1.2 1.2 0 0 1 0-2.4M3.2 6.8a1.2 1.2 0 1 1 0 2.4 1.2 1.2 0 0 1 0-2.4"}))))},25514:(e,t,n)=>{function r(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}n.d(t,{f:()=>r})},618:(e,t,n)=>{n.d(t,{_:()=>i});var r=n(25514);function i(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,(0,r.f)(e,t,"get"))}},40941:(e,t,n)=>{function r(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}n.d(t,{_:()=>r})},11536:(e,t,n)=>{n.d(t,{_:()=>i});var r=n(25514);function i(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,(0,r.f)(e,t,"set"),n),n}}}]);